---
title: Kapitel 1 – Introduktion till Azure återställnings tider FileX
description: Azure återställnings tider-FileX är ett komplett FAT-format för medie-och fil hanterings system för djupt inbäddade program.
author: philmea
ms.author: philmea
ms.date: 05/19/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: be7e6f9cd9fbc69ac0908d1de733dac1c4f73bf6
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 03/22/2021
ms.locfileid: "104825518"
---
# <a name="chapter-1---introduction-to-azure-rtos-filex"></a><span data-ttu-id="d2ec4-103">Kapitel 1 – Introduktion till Azure återställnings tider FileX</span><span class="sxs-lookup"><span data-stu-id="d2ec4-103">Chapter 1 - Introduction to Azure RTOS FileX</span></span>

<span data-ttu-id="d2ec4-104">Azure återställnings tider-FileX är ett komplett FAT-format för medie-och fil hanterings system för djupt inbäddade program.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-104">Azure RTOS FileX is a complete FAT format media and file management system for deeply embedded applications.</span></span> <span data-ttu-id="d2ec4-105">I det här kapitlet introduceras FileX som beskriver dess program och fördelar.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-105">This chapter introduces FileX, describing its applications and benefits.</span></span>

## <a name="filex-unique-features"></a><span data-ttu-id="d2ec4-106">FileX-unika funktioner</span><span class="sxs-lookup"><span data-stu-id="d2ec4-106">FileX Unique Features</span></span>

<span data-ttu-id="d2ec4-107">Azure återställnings tider FileX har stöd för ett obegränsat antal medie enheter samtidigt, inklusive RAM-diskar, FLASH-hanterare och faktiska fysiska enheter.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-107">Azure RTOS FileX supports an unlimited number of media devices at the same time, including RAM disks, FLASH managers, and actual physical devices.</span></span> <span data-ttu-id="d2ec4-108">Den har stöd för 12-, 16-och 32-bitars FAT-format (File Allocation Table) och har även stöd för Extended File Allocation Table (exFAT), kontinuerlig filallokering och är mycket optimerad för både storlek och prestanda.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-108">It supports 12-, 16-, and 32-bit File Allocation Table (FAT) formats, and also supports Extended File Allocation Table (exFAT), contiguous file allocation, and is highly optimized for both size and performance.</span></span> <span data-ttu-id="d2ec4-109">FileX innehåller även feltolerant support, medie öppning/stängning och fil skrivnings funktioner.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-109">FileX also includes fault tolerant support, media open/ close, and file write callback functions.</span></span>

<span data-ttu-id="d2ec4-110">FileX har utformats för att möta växande behov av FLASH-enheter och använder samma design-och kodnings metoder som ThreadX.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-110">Designed to meet the growing need for FLASH devices, FileX uses the same design and coding methods as ThreadX.</span></span> <span data-ttu-id="d2ec4-111">Precis som alla Microsoft-produkter distribueras FileX med fullständig ANSI C-källkod och har ingen körnings tid för royalty.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-111">Like all Microsoft products, FileX is distributed with full ANSI C source code, and it has no run-time royalties.</span></span>

### <a name="product-highlights"></a><span data-ttu-id="d2ec4-112">Produkt höjd punkter</span><span class="sxs-lookup"><span data-stu-id="d2ec4-112">Product Highlights</span></span>

- <span data-ttu-id="d2ec4-113">Slutför support för ThreadX-processor</span><span class="sxs-lookup"><span data-stu-id="d2ec4-113">Complete ThreadX processor support</span></span>
- <span data-ttu-id="d2ec4-114">Ingen royalties</span><span class="sxs-lookup"><span data-stu-id="d2ec4-114">No royalties</span></span>
- <span data-ttu-id="d2ec4-115">Fullständig ANSI C-källkod</span><span class="sxs-lookup"><span data-stu-id="d2ec4-115">Complete ANSI C source code</span></span>
- <span data-ttu-id="d2ec4-116">Real tids prestanda</span><span class="sxs-lookup"><span data-stu-id="d2ec4-116">Real-time performance</span></span>
- <span data-ttu-id="d2ec4-117">Teknisk support som svarar</span><span class="sxs-lookup"><span data-stu-id="d2ec4-117">Responsive technical support</span></span>
- <span data-ttu-id="d2ec4-118">Obegränsade FileX-objekt (Media, kataloger och filer)</span><span class="sxs-lookup"><span data-stu-id="d2ec4-118">Unlimited FileX objects (media, directories, and files)</span></span>
- <span data-ttu-id="d2ec4-119">Dynamiskt skapande/borttagning av FileX-objekt</span><span class="sxs-lookup"><span data-stu-id="d2ec4-119">Dynamic FileX object creation/deletion</span></span>
- <span data-ttu-id="d2ec4-120">Flexibel minnes användning</span><span class="sxs-lookup"><span data-stu-id="d2ec4-120">Flexible memory usage</span></span>
- <span data-ttu-id="d2ec4-121">Storlek skalas automatiskt</span><span class="sxs-lookup"><span data-stu-id="d2ec4-121">Size scales automatically</span></span>
- <span data-ttu-id="d2ec4-122">Liten storlek (till och med 6 KB) i instruktions områden: 6 – 30 000</span><span class="sxs-lookup"><span data-stu-id="d2ec4-122">Small footprint (as low as 6 KBytes) instruction area size: 6-30K</span></span>
- <span data-ttu-id="d2ec4-123">Slutför integrering med ThreadX</span><span class="sxs-lookup"><span data-stu-id="d2ec4-123">Complete integration with ThreadX</span></span>
- <span data-ttu-id="d2ec4-124">Endian-neutral</span><span class="sxs-lookup"><span data-stu-id="d2ec4-124">Endian neutral</span></span>
- <span data-ttu-id="d2ec4-125">Lättanvänd FileX I/O-drivrutiner</span><span class="sxs-lookup"><span data-stu-id="d2ec4-125">Easy-to-implement FileX I/O drivers</span></span>
- <span data-ttu-id="d2ec4-126">12-, 16-och 32-bitars stöd för FAT</span><span class="sxs-lookup"><span data-stu-id="d2ec4-126">12-, 16-, and 32-bit FAT support</span></span>
- <span data-ttu-id="d2ec4-127">exFAT-stöd</span><span class="sxs-lookup"><span data-stu-id="d2ec4-127">exFAT support</span></span>
- <span data-ttu-id="d2ec4-128">Stöd för långa fil namn</span><span class="sxs-lookup"><span data-stu-id="d2ec4-128">Long filename support</span></span>
- <span data-ttu-id="d2ec4-129">Intern FAT-post-cache</span><span class="sxs-lookup"><span data-stu-id="d2ec4-129">Internal FAT entry cache</span></span>
- <span data-ttu-id="d2ec4-130">Stöd för Unicode-namn</span><span class="sxs-lookup"><span data-stu-id="d2ec4-130">Unicode name support</span></span>
- <span data-ttu-id="d2ec4-131">Kontinuerlig filallokering</span><span class="sxs-lookup"><span data-stu-id="d2ec4-131">Contiguous file allocation</span></span>
- <span data-ttu-id="d2ec4-132">Löpande sektor och kluster läsning/skrivning</span><span class="sxs-lookup"><span data-stu-id="d2ec4-132">Consecutive sector and cluster read/write</span></span>
- <span data-ttu-id="d2ec4-133">Intern logisk sektor cache</span><span class="sxs-lookup"><span data-stu-id="d2ec4-133">Internal logical sector cache</span></span>
- <span data-ttu-id="d2ec4-134">Demonstrationen av RAM-disken körs direkt</span><span class="sxs-lookup"><span data-stu-id="d2ec4-134">RAM disk demonstration runs out-of-the-box</span></span>
- <span data-ttu-id="d2ec4-135">Funktion för medie format</span><span class="sxs-lookup"><span data-stu-id="d2ec4-135">Media format capability</span></span>
- <span data-ttu-id="d2ec4-136">Fel identifiering och återställning</span><span class="sxs-lookup"><span data-stu-id="d2ec4-136">Error detection and recovery</span></span>
- <span data-ttu-id="d2ec4-137">Fel tolerans alternativ</span><span class="sxs-lookup"><span data-stu-id="d2ec4-137">Fault tolerant options</span></span>
- <span data-ttu-id="d2ec4-138">Inbyggd prestanda statistik</span><span class="sxs-lookup"><span data-stu-id="d2ec4-138">Built-in performance statistics</span></span>
- <span data-ttu-id="d2ec4-139">Fristående support (inga Azure-återställnings tider)</span><span class="sxs-lookup"><span data-stu-id="d2ec4-139">Standalone support (No Azure RTOS)</span></span>

## <a name="safety-certifications"></a><span data-ttu-id="d2ec4-140">Säkerhets certifieringar</span><span class="sxs-lookup"><span data-stu-id="d2ec4-140">Safety Certifications</span></span>

### <a name="tv-certification"></a><span data-ttu-id="d2ec4-141">TÜV-certifiering</span><span class="sxs-lookup"><span data-stu-id="d2ec4-141">TÜV Certification</span></span>

<span data-ttu-id="d2ec4-142">FileX har certifierats av SGS-TÜV Saar för användning i säkerhets kritiska system enligt IEC-61508 och IEC-62304.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-142">FileX has been certified by SGS-TÜV Saar for use in safety-critical systems, according to IEC-61508 and IEC-62304.</span></span> <span data-ttu-id="d2ec4-143">Certifieringen bekräftar att FileX kan användas i utvecklingen av säkerhetsrelaterad program vara för den högsta säkerhets integritets nivån för International Electrotechnical Commission (IEC) 61508 och IEC 62304, för "den funktionella säkerheten för elektriska, elektroniska och programmerbara elektroniska säkerhetsrelaterade system."</span><span class="sxs-lookup"><span data-stu-id="d2ec4-143">The certification confirms that FileX can be used in the development of safety-related software for the highest safety integrity levels of the International Electrotechnical Commission (IEC) 61508 and IEC 62304, for the "Functional Safety of electrical, electronic, and programmable electronic safety-related systems."</span></span> <span data-ttu-id="d2ec4-144">SGS – TÜV Saar, som bildas genom ett gemensamt venture i Tyskland SGS-Group och TÜV Saarland, har blivit det ledande ackrediterade, oberoende företaget för testning, granskning, verifiering och certifiering av inbäddad program vara för säkerhetsrelaterade system i hela världen.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-144">SGS-TÜV Saar, formed through a joint venture of Germany's SGS-Group and TÜV Saarland, has become the leading accredited, independent company for testing, auditing, verifying, and certifying embedded software for safety-related systems worldwide.</span></span> <span data-ttu-id="d2ec4-145">Den industriella säkerhets standarden IEC 61508 och alla standarder som är härledda från IT, inklusive IEC 62304, används för att säkerställa den funktionella säkerheten för elektriska, elektroniska och programmerbara elektroniska säkerhetsrelaterade medicinska enheter, process kontroll system, industriella maskiner och järnvägs kontroll system.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-145">The industrial safety standard IEC 61508, and all standards that are derived from it, including IEC 62304, are used to assure the functional safety of electrical, electronic, and programmable electronic safety-related medical devices, process control systems, industrial machinery, and railway control systems.</span></span>

<span data-ttu-id="d2ec4-146">SGS – TÜV Saar har certifierat FileX som ska användas i säkerhetskritiska bil system, enligt ISO 26262-standarden.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-146">SGS-TÜV Saar has certified FileX to be used in safety-critical automotive systems, according to the ISO 26262 standard.</span></span> <span data-ttu-id="d2ec4-147">Dessutom är FileX certifierat för att ASIL () D, som motsvarar den högsta nivån av ISO 26262-certifiering.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-147">Furthermore, FileX is certified to Automotive Safety Integrity Level (ASIL) D, which represents the highest level of ISO 26262 certification.</span></span>

<span data-ttu-id="d2ec4-148">Dessutom har SGS-TÜV Saar certifierat FileX som ska användas i verksamhets kritiska järnvägs program, vilket motsvarar en 50128-standard upp till SW-SIL 4.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-148">In addition, SGS-TÜV Saar has certified FileX to be used in safety-critical railway applications, meeting to the EN 50128 standard up to SW-SIL 4.</span></span>

![SGS TUV Saar-logotyp](./media/user-guide/sgs-tuv-saar-logo.png)

- <span data-ttu-id="d2ec4-150">IEC 61508 upp till SIL 4</span><span class="sxs-lookup"><span data-stu-id="d2ec4-150">IEC 61508 up to SIL 4</span></span>
- <span data-ttu-id="d2ec4-151">IEC 62304 upp till SW säkerhets klass C</span><span class="sxs-lookup"><span data-stu-id="d2ec4-151">IEC 62304 up to SW safety Class C</span></span>
- <span data-ttu-id="d2ec4-152">ISO 26262 ASIL D</span><span class="sxs-lookup"><span data-stu-id="d2ec4-152">ISO 26262 ASIL D</span></span>
- <span data-ttu-id="d2ec4-153">EN 50128 SW-SIL 4</span><span class="sxs-lookup"><span data-stu-id="d2ec4-153">EN 50128 SW-SIL 4</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d2ec4-154">Kontakta oss om du vill ha mer information om vilka versioner av FileX som har certifierats av TÜV eller om du vill ha till gång till test rapporter, certifikat och tillhör ande dokumentation. \*</span><span class="sxs-lookup"><span data-stu-id="d2ec4-154">Please contact us for more information on which version(s) of FileX have been certified by TÜV or for the availability of test reports, certificates, and associated documentation.\*</span></span>

### <a name="ul-certification"></a><span data-ttu-id="d2ec4-155">UL-certifiering</span><span class="sxs-lookup"><span data-stu-id="d2ec4-155">UL Certification</span></span>

<span data-ttu-id="d2ec4-156">FileX har certifierats av UL för efterlevnad med UL 60730-1 bilaga H, CSA E60730-1 bilaga H, IEC 60730-1 bilaga H, UL 60335-1 Bilaga R, IEC 603351 bilaga R och UL 1998 säkerhets standarder för program vara i programmerbara komponenter.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-156">FileX has been certified by UL for compliance with UL 60730-1 Annex H, CSA E60730-1 Annex H, IEC  60730-1 Annex H, UL 60335-1 Annex R, IEC 603351 Annex R, and UL 1998 safety standards for software in programmable components.</span></span> <span data-ttu-id="d2ec4-157">Tillsammans med IEC/UL 60730-1, som har krav för "kontroller som använder program vara" i bilaga H, innehåller IEC 60335-1-standarden kraven för "programmerbara elektroniska kretsar" i bilaga R. IEC 60730 bilaga H och IEC 60335-1 Bilaga R MCU av maskin vara och program vara som används i anordningar som tvätt maskiner, disk maskiner, Dryers, kyl skåp, frysar och ugnar.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-157">Along with IEC/UL 60730-1, which has requirements for  "Controls Using Software" in its Annex H, the IEC 60335-1 standard describes the requirements for "Programmable Electronic Circuits" in its Annex R. IEC 60730 Annex H and IEC 60335-1 Annex R address the safety of MCU hardware and software used in appliances such as washing machines, dishwashers, dryers, refrigerators, freezers, and ovens.</span></span>

![C RU, USA 2](./media/user-guide/c-ru-us-logo.png)

<span data-ttu-id="d2ec4-159">*UL/IEC 60730, UL/IEC 60335, UL 1998*</span><span class="sxs-lookup"><span data-stu-id="d2ec4-159">*UL/IEC 60730, UL/IEC 60335, UL 1998*</span></span>

> [!IMPORTANT]
><span data-ttu-id="d2ec4-160">*Kontakta oss om du vill ha mer information om vilka versioner av FileX som har certifierats av UL eller för att få till gång till test rapporter, certifikat och tillhör ande dokumentation.*</span><span class="sxs-lookup"><span data-stu-id="d2ec4-160">*Please contact us for more information on which version(s) of FileX have been certified by UL or for the availability of test reports, certificates, and associated documentation.*</span></span>

## <a name="powerful-services-of-filex"></a><span data-ttu-id="d2ec4-161">Kraftfulla tjänster av FileX</span><span class="sxs-lookup"><span data-stu-id="d2ec4-161">Powerful Services of FileX</span></span>

### <a name="multiple-media-management"></a><span data-ttu-id="d2ec4-162">Hantering av flera Media</span><span class="sxs-lookup"><span data-stu-id="d2ec4-162">Multiple Media Management</span></span>

<span data-ttu-id="d2ec4-163">FileX kan stödja ett obegränsat antal fysiska media.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-163">FileX can support an unlimited number of physical media.</span></span> <span data-ttu-id="d2ec4-164">Varje medie instans har sitt eget distinkta minnes området och tillhör ande driv rutin som anges i ***fx_media_open*** -anropet.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-164">Each media instance has its own distinct memory area and associated driver specified on the ***fx_media_open*** call.</span></span> <span data-ttu-id="d2ec4-165">Standard distributionen av FileX levereras med en enkel RAM medie driv rutin och ett demonstrations system som använder den här RAM-disken.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-165">The default distribution of FileX comes with a simple RAM media driver and a demonstration system that uses this RAM disk.</span></span>

### <a name="logical-sector-cache"></a><span data-ttu-id="d2ec4-166">Logisk sektor cache</span><span class="sxs-lookup"><span data-stu-id="d2ec4-166">Logical Sector Cache</span></span>

<span data-ttu-id="d2ec4-167">Genom att minska antalet hela sektor överföringar, både till och från mediet, ökar FileX i logisk sektor avsevärt prestandan.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-167">By reducing the number of whole sector transfers, both to and from the media, the FileX logical sector cache significantly improves performance.</span></span> <span data-ttu-id="d2ec4-168">FileX underhåller en logisk sektors-cache för varje öppnat medium.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-168">FileX maintains a logical sector cache for each opened media.</span></span> <span data-ttu-id="d2ec4-169">Djupet för den logiska sektorns cache bestäms av mängden minne som anges för FileX med API-anropet ***fx_media_open*** .</span><span class="sxs-lookup"><span data-stu-id="d2ec4-169">The depth of the logical sector cache is determined by the amount of memory supplied to FileX with the ***fx_media_open*** API call.</span></span>

### <a name="contiguous-file-support"></a><span data-ttu-id="d2ec4-170">Stöd för sammanhängande filer</span><span class="sxs-lookup"><span data-stu-id="d2ec4-170">Contiguous File Support</span></span>

<span data-ttu-id="d2ec4-171">FileX erbjuder sammanhängande fil stöd via API-tjänsten ***fx_file_allocate*** för att förbättra och göra tids fördröjnings tiden deterministisk.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-171">FileX offers contiguous file support through the API service ***fx_file_allocate*** to improve and make file access time deterministic.</span></span> <span data-ttu-id="d2ec4-172">Den här rutinen tar den mängd minne som begärs och söker efter en serie intilliggande kluster för att uppfylla begäran.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-172">This routine takes the amount of memory requested and looks for a series of adjacent clusters to satisfy the request.</span></span> <span data-ttu-id="d2ec4-173">Om sådana kluster hittas fördelas de i förväg genom att göra dem till en del av filens kedja av allokerade kluster.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-173">If such clusters are found, they are pre-allocated by making them part of the file's chain of allocated clusters.</span></span> <span data-ttu-id="d2ec4-174">Vid flytt av fysiska media ger FileX sammanhängande fil stöd resultat i en betydande prestanda förbättring och ger åtkomst tiden deterministisk.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-174">On moving physical media, the FileX contiguous file support results in a significant performance improvement and makes the access time deterministic.</span></span>

### <a name="dynamic-creation"></a><span data-ttu-id="d2ec4-175">Dynamisk generering</span><span class="sxs-lookup"><span data-stu-id="d2ec4-175">Dynamic Creation</span></span>

<span data-ttu-id="d2ec4-176">Med FileX kan du skapa system resurser dynamiskt.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-176">FileX allows you to create system resources dynamically.</span></span> <span data-ttu-id="d2ec4-177">Detta är särskilt viktigt om ditt program har flera eller dynamiska konfigurations krav.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-177">This is especially important if your application has multiple or dynamic configuration requirements.</span></span> <span data-ttu-id="d2ec4-178">Dessutom finns det inga förinställda gränser för antalet FileX-resurser som du kan använda (Media eller filer).</span><span class="sxs-lookup"><span data-stu-id="d2ec4-178">In addition, there are no predetermined limits on the number of FileX resources you can use (media or files).</span></span> <span data-ttu-id="d2ec4-179">Dessutom påverkar antalet system objekt inte prestanda.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-179">Also, the number of system objects does not have any impact on performance.</span></span>

## <a name="easy-to-use-api"></a><span data-ttu-id="d2ec4-180">Lätt att använda API</span><span class="sxs-lookup"><span data-stu-id="d2ec4-180">Easy-to-use API</span></span>

<span data-ttu-id="d2ec4-181">FileX tillhandahåller den mycket bästa inbäddade fil system tekniken på ett sätt som är lätt att förstå och lätt att använda!</span><span class="sxs-lookup"><span data-stu-id="d2ec4-181">FileX provides the very best deeply embedded file system technology in a manner that is easy to understand and easy to use!</span></span> <span data-ttu-id="d2ec4-182">FileX Application Programming Interface (API) gör tjänsterna intuitiva och konsekventa.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-182">The FileX Application Programming Interface (API) makes the services intuitive and consistent.</span></span> <span data-ttu-id="d2ec4-183">Du behöver inte dechiffrera "alfabets soppor"-tjänster som är för vanliga med andra fil system.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-183">You won't have to decipher "alphabet soup" services that are all too common with other file systems.</span></span>

<span data-ttu-id="d2ec4-184">En fullständig lista över FileX-tjänsterna i version 5 finns i [bilaga a](appendix-a.md).</span><span class="sxs-lookup"><span data-stu-id="d2ec4-184">For a complete list of the FileX Version 5 Services, see [Appendix A](appendix-a.md).</span></span>

## <a name="exfat-support"></a><span data-ttu-id="d2ec4-185">exFAT-stöd</span><span class="sxs-lookup"><span data-stu-id="d2ec4-185">exFAT Support</span></span>

<span data-ttu-id="d2ec4-186">exFAT (Extended File Allocation Table) är ett fil system som har utvecklats av Microsoft för att tillåta fil storlek att överskrida 2 GB, en gräns som har införts av fil systemen FAT32.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-186">exFAT (extended File Allocation Table) is a file system designed by Microsoft to allow file size to exceed 2GB, a limit imposed by FAT32 file systems.</span></span> <span data-ttu-id="d2ec4-187">Det är standard fil systemet för SD-kort med kapacitet över 32 GB.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-187">It is the default file system for SD cards with capacity over 32GB.</span></span> <span data-ttu-id="d2ec4-188">SD-kort eller Flash-enheter som är formaterade med FileX exFAT-formatet är kompatibla med Windows.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-188">SD cards or flash drives formatted with FileX exFAT format are compatible with Windows.</span></span> <span data-ttu-id="d2ec4-189">exFAT stöder fil storleken upp till en exabyte (EB), vilket är ungefär 1 000 000 000 GB.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-189">exFAT supports file size up to one Exabyte (EB), which is approximately one billion GB.</span></span>

<span data-ttu-id="d2ec4-190">Användare som vill använda exFAT måste kompilera om FileX-biblioteket med symbolen \***FX_ENABLE_EXFAT** _ definierad.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-190">Users wishing to use exFAT must recompile the FileX library with the symbol \***FX_ENABLE_EXFAT** _ defined.</span></span> <span data-ttu-id="d2ec4-191">När du öppnar mediet identifierar FileX medie typen.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-191">When opening media, FileX detects the media type.</span></span> <span data-ttu-id="d2ec4-192">Om mediet är formaterat med exFAT läser FileX och skriver fil systemet efter exFAT-standarden.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-192">If the media is formatted with exFAT, FileX reads and writes the file system following exFAT standard.</span></span> <span data-ttu-id="d2ec4-193">Om du vill formatera nya medier med exFAT använder du tjänsten _ *_fx_media_exFAT_format_* \*.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-193">To format new media with exFAT, use the service _\*_fx_media_exFAT_format_\*\*.</span></span> <span data-ttu-id="d2ec4-194">Som standard är exFAT inte aktiverat.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-194">By default exFAT is not enabled.</span></span>

## <a name="fault-tolerant-support"></a><span data-ttu-id="d2ec4-195">Feltolerant support</span><span class="sxs-lookup"><span data-stu-id="d2ec4-195">Fault Tolerant Support</span></span>

<span data-ttu-id="d2ec4-196">FileX feltolerant modul är utformad för att förhindra skada av fil system som orsakas av avbrott under fil-eller katalog uppdateringen.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-196">The FileX Fault Tolerant Module is designed to prevent file system corruption caused by interruptions during the file or directory update.</span></span> <span data-ttu-id="d2ec4-197">Om du till exempel lägger till data i en fil måste FileX uppdatera innehållet i filen, katalog posten och eventuellt FAT-poster.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-197">For example, when appending data to a file, FileX needs to update the content of the file, the directory entry, and possibly the FAT entries.</span></span> <span data-ttu-id="d2ec4-198">Om den här uppdaterings ordningen avbryts (till exempel ett strömavbrott eller om mediet matas ut i mitten av uppdateringen) är fil systemet i ett inkonsekvent tillstånd, vilket kan påverka hela fil systemets integritet, vilket leder till att andra filer skadas.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-198">If this sequence of update is interrupted (such as power glitch, or the media is ejected in the middle of the update), the file system is in an inconsistent state, which may affect the integrity of the entire file system, leading towards corruption of other files.</span></span>

<span data-ttu-id="d2ec4-199">FileX-feltolerant modul fungerar genom att du registrerar alla steg som krävs för att uppdatera en fil eller en katalog på vägen.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-199">The FileX Fault Tolerant Module works by recording all steps required to update a file or a directory along the way.</span></span> <span data-ttu-id="d2ec4-200">Den här logg posten lagras på mediet i dedikerade sektorer (block) som FileX kan hitta och komma åt.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-200">This log entry is stored on the media in dedicated sectors (blocks) that FileX can find and access.</span></span> <span data-ttu-id="d2ec4-201">Platsen för loggdata kan nås även utan rätt fil system.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-201">The location of the log data can be accessed even without a proper file system.</span></span> <span data-ttu-id="d2ec4-202">Därför kan FileX fortfarande hitta logg posten och återställa fil systemet till ett korrekt tillstånd om fil systemet är skadat.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-202">Therefore, in case the file system is corrupted, FileX is still able to find the log entry and restore the file system back into a good state.</span></span>

<span data-ttu-id="d2ec4-203">När FileX uppdaterar fil eller katalog skapas logg poster.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-203">As FileX updates file or directory, log entries are created.</span></span> <span data-ttu-id="d2ec4-204">När uppdateringen har slutförts tas logg posterna bort.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-204">After the update operation is successfully completed, the log entries are removed.</span></span> <span data-ttu-id="d2ec4-205">Om logg posterna inte togs bort ordentligt efter en lyckad fil uppdatering, måste ingenting göras om återställnings processen avgör att innehållet i logg posten matchar fil systemet, och logg posterna kan rensas.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-205">If the log entries were not properly removed after a successful file update, if the recovery process determines that the content in the log entry matches the file system, nothing needs to be done, and the log entries can be cleaned up.</span></span>

<span data-ttu-id="d2ec4-206">Om fil Systems uppdateringen har avbrutits nästa gången mediet monteras av FileX, analyserar feltolerant modul logg posterna.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-206">In case the file system update operation was interrupted, next time the media is mounted by FileX, the Fault Tolerant Module analyzes the log entries.</span></span> <span data-ttu-id="d2ec4-207">Informationen i logg posterna gör det möjligt för FileX att säkerhetskopiera del ändringar som redan har tillämpats på fil systemet (om felen inträffar under det tidiga steget av fil uppdaterings åtgärden), eller om logg posterna innehåller information om att göra det, kan FileX tillämpa de ändringar som krävs för att slutföra den tidigare åtgärden.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-207">The information in the log entries allows FileX to back out partial changes already applied to the file system (in case the failure happens during the early stage of the file update operation), or if the log entries contain re-do information, FileX is able to apply the changes required to finish the prior operation.</span></span>

<span data-ttu-id="d2ec4-208">Den här feltoleranta funktionen är tillgänglig för alla FAT-filsystem som stöds av FileX, inklusive FAT12, FAT16, FAT32 och exFAT.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-208">This fault tolerant feature is available to all FAT file systems supported by FileX, including FAT12, FAT16, FAT32, and exFAT.</span></span> <span data-ttu-id="d2ec4-209">Som standard är fel tolerans inte aktive rad i FileX.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-209">By default fault tolerant is not enabled in FileX.</span></span> <span data-ttu-id="d2ec4-210">Om du vill aktivera fel tolerans funktionen måste FileX skapas med symbolen  **FX_ENABLE_FAULT_TOLERANT** och **FX_FAULT_TOLERANT** definieras.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-210">To enable the fault tolerant feature, FileX must be built with the symbol  **FX_ENABLE_FAULT_TOLERANT** and **FX_FAULT_TOLERANT** defined.</span></span> <span data-ttu-id="d2ec4-211">Vid körning startar programmet feltolerant tjänst genom att anropa **_fx_fault_tolerant_enable_**.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-211">At run time, the application starts fault tolerant service by calling **_fx_fault_tolerant_enable_**.</span></span>
<span data-ttu-id="d2ec4-212">När tjänsten har startats går alla Skriv åtgärder för fil-och katalog tjänsten till fel tolerans-modulen.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-212">After the service starts, all file and directory write operations go through the Fault Tolerant Module.</span></span>

<span data-ttu-id="d2ec4-213">As feltolerant tjänst startar identifierar den först om mediet skyddas av fel tolerans-modulen.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-213">As fault tolerant service starts, it first detects whether or not the media is protected under the Fault Tolerant Module.</span></span> <span data-ttu-id="d2ec4-214">Om så inte är fallet antar FileX integriteten för fil systemet och startar skyddet genom att allokera lediga block från fil systemet som ska användas för loggning och cachelagring.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-214">If it is not, FileX assumes integrity of the file system, and starts protection by allocating free blocks from the file system to be used for logging and caching.</span></span> <span data-ttu-id="d2ec4-215">Om de feltoleranta modulerna loggar finns i fil systemet, analyseras logg posterna.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-215">If the Fault Tolerant Module logs are found on the file system, it analyzes the log entries.</span></span> <span data-ttu-id="d2ec4-216">FileX återställer den tidigare åtgärden eller utför den tidigare åtgärden, beroende på innehållet i logg posterna.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-216">FileX reverts the prior operation or redoes the prior operation, depending on the content of the log entries.</span></span> <span data-ttu-id="d2ec4-217">Fil systemet blir tillgängligt efter att alla tidigare logg poster har bearbetats.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-217">The file system becomes available after all the prior log entries are processed.</span></span> <span data-ttu-id="d2ec4-218">Detta säkerställer att FIleX startar från ett känt fungerande tillstånd.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-218">This ensures that FIleX starts from a known good state.</span></span>

<span data-ttu-id="d2ec4-219">När ett medium skyddas i FileX-feltolerant modul kommer mediet inte att uppdateras med ett annat fil system.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-219">After a media is protected under the FileX Fault Tolerant Module, the media will not be updated with another file system.</span></span> <span data-ttu-id="d2ec4-220">Detta skulle lämna logg posterna i fil systemet inkonsekventa med innehållet i FAT-tabellen, katalog posten.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-220">Doing so would leave the log entries on the file system inconsistent with the contents in the FAT table, the directory entry.</span></span> <span data-ttu-id="d2ec4-221">Om mediet uppdateras av ett annat fil system innan det flyttas tillbaka till FileX med feltolerant modul, blir resultatet odefinierat.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-221">If the media is updated by another file system before moving it back to FileX with the Fault Tolerant Module, the result is undefined.</span></span>

## <a name="callback-functions"></a><span data-ttu-id="d2ec4-222">Återanrops funktioner</span><span class="sxs-lookup"><span data-stu-id="d2ec4-222">Callback Functions</span></span>

<span data-ttu-id="d2ec4-223">Följande tre callback-funktioner läggs till i FileX:</span><span class="sxs-lookup"><span data-stu-id="d2ec4-223">The following three callback functions are added to FileX:</span></span>

- <span data-ttu-id="d2ec4-224">Media-öppna motanrop</span><span class="sxs-lookup"><span data-stu-id="d2ec4-224">Media Open callback</span></span>
- <span data-ttu-id="d2ec4-225">Media-Stäng motringning</span><span class="sxs-lookup"><span data-stu-id="d2ec4-225">Media Close callback</span></span>
- <span data-ttu-id="d2ec4-226">Skriv motringning för fil</span><span class="sxs-lookup"><span data-stu-id="d2ec4-226">File Write callback</span></span>

<span data-ttu-id="d2ec4-227">Efter registreringen kommer dessa funktioner att meddela programmet när sådana händelser inträffar.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-227">After registered, these functions will notify the application when such events occur.</span></span>

## <a name="easy-integration"></a><span data-ttu-id="d2ec4-228">Enkel integrering</span><span class="sxs-lookup"><span data-stu-id="d2ec4-228">Easy Integration</span></span>

<span data-ttu-id="d2ec4-229">FileX är enkelt att integrera med i princip vilken FLASH-eller media enhet som helst.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-229">FileX is easily integrated with virtually any FLASH or media device.</span></span> <span data-ttu-id="d2ec4-230">Porting-FileX är enkelt.</span><span class="sxs-lookup"><span data-stu-id="d2ec4-230">Porting FileX is simple.</span></span> <span data-ttu-id="d2ec4-231">I den här hand boken beskrivs processen i detalj, och RAM-drivrutinen för demo systemet gör det en mycket bra plats att starta!</span><span class="sxs-lookup"><span data-stu-id="d2ec4-231">This guide describes the process in detail, and the RAM driver of the demo system makes for a very good place to start!</span></span>
