---
title: Kapitel 5 – Azure återställnings tider NetX Duo-nätverks driv rutiner
description: Det här kapitlet innehåller en beskrivning av nätverks driv rutiner för Azure återställnings tider NetX Duo.
author: philmea
ms.author: philmea
ms.date: 05/19/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: ede57b7512f4a1a4c30759f428962739aaa2777c
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 03/22/2021
ms.locfileid: "104826184"
---
# <a name="chapter-5---azure-rtos-netx-duo-network-drivers"></a><span data-ttu-id="256d7-103">Kapitel 5 – Azure återställnings tider NetX Duo-nätverks driv rutiner</span><span class="sxs-lookup"><span data-stu-id="256d7-103">Chapter 5 - Azure RTOS NetX Duo Network Drivers</span></span>

<span data-ttu-id="256d7-104">Det här kapitlet innehåller en beskrivning av nätverks driv rutiner för Azure återställnings tider NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="256d7-104">This chapter contains a description of network drivers for Azure RTOS NetX Duo.</span></span> <span data-ttu-id="256d7-105">Den information som presenteras är utformad för att hjälpa utvecklare att skriva programspecifika nätverks driv rutiner för NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="256d7-105">The information presented is designed to help developers write application-specific network drivers for NetX Duo.</span></span>

## <a name="driver-introduction"></a><span data-ttu-id="256d7-106">Driv rutins introduktion</span><span class="sxs-lookup"><span data-stu-id="256d7-106">Driver Introduction</span></span>

<span data-ttu-id="256d7-107">NX_IP-strukturen innehåller allt för att hantera en enskild IP-instans.</span><span class="sxs-lookup"><span data-stu-id="256d7-107">The NX_IP structure contains everything to manage a single IP instance.</span></span> <span data-ttu-id="256d7-108">Detta inkluderar allmän information om TCP/IP-protokoll samt den programspecifika fysiska nätverks driv Rutinens post rutin.</span><span class="sxs-lookup"><span data-stu-id="256d7-108">This includes general TCP/IP protocol information as well as the application-specific physical network driver's entry routine.</span></span> <span data-ttu-id="256d7-109">Driv Rutinens post rutin definieras under \***nx_ip_create** _-tjänsten.</span><span class="sxs-lookup"><span data-stu-id="256d7-109">The driver's entry routine is defined during the \***nx_ip_create** _ service.</span></span> <span data-ttu-id="256d7-110">Ytterligare enheter kan läggas till i IP-instansen via tjänsten _ \*_nx_ip_interface_attach_\*\*.</span><span class="sxs-lookup"><span data-stu-id="256d7-110">Additional devices may be added to the IP instance via the _ *_nx_ip_interface_attach_*\* service.</span></span>

<span data-ttu-id="256d7-111">Kommunikationen mellan NetX Duo och programmets nätverks driv rutin görs via **NX_IP_DRIVER** begär ande strukturen.</span><span class="sxs-lookup"><span data-stu-id="256d7-111">Communication between NetX Duo and the application's network driver is accomplished through the **NX_IP_DRIVER** request structure.</span></span> <span data-ttu-id="256d7-112">Den här strukturen definieras oftast lokalt i anroparens stack och släpps därför efter att driv rutinen och anrops funktionen returnerades.</span><span class="sxs-lookup"><span data-stu-id="256d7-112">This structure is most often defined locally on the caller's stack and is therefore released after the driver and calling function return.</span></span> <span data-ttu-id="256d7-113">Strukturen definieras enligt följande.</span><span class="sxs-lookup"><span data-stu-id="256d7-113">The structure is defined as follows.</span></span>

```c
typedef struct NX_IP_DRIVER_STRUCT
{
      UINT           nx_ip_driver_command;
      UINT           nx_ip_driver_status;
      ULONG          nx_ip_driver_physical_address_msw;
      ULONG          nx_ip_driver_physical_address_lsw;
      NX_PACKET      *nx_ip_driver_packet;
      ULONG          *nx_ip_driver_return_ptr;
      NX_IP          *nx_ip_driver_ptr;
      NX_INTERFACE   *nx_ip_driver_interface;01
} NX_IP_DRIVER;
```
## <a name="driver-entry"></a><span data-ttu-id="256d7-114">Driv rutins post</span><span class="sxs-lookup"><span data-stu-id="256d7-114">Driver Entry</span></span> 

<span data-ttu-id="256d7-115">NetX Duo anropar funktionen för nätverks driv rutins post för driv rutins initiering och för att skicka paket och för olika kontroll-och status åtgärder, inklusive att initiera och aktivera nätverks enheten.</span><span class="sxs-lookup"><span data-stu-id="256d7-115">NetX Duo invokes the network driver entry function for driver initialization and for sending packets and for various control and status operations, including initializing and enabling the network device.</span></span> <span data-ttu-id="256d7-116">NetX Duo utfärdar kommandon till nätverks driv rutinen genom att ange fältet ***nx_ip_driver_command** _ i strukturen _ *NX_IP_DRIVER** begär Ande.</span><span class="sxs-lookup"><span data-stu-id="256d7-116">NetX Duo issues commands to the network driver by setting the ***nx_ip_driver_command** _ field in the _ *NX_IP_DRIVER** request structure.</span></span> <span data-ttu-id="256d7-117">Funktionen driv rutins post har följande format:</span><span class="sxs-lookup"><span data-stu-id="256d7-117">The driver entry function has the following format:</span></span>

```c
VOID my_driver_entry(NX_IP_DRIVER *request);
```
## <a name="driver-requests"></a><span data-ttu-id="256d7-118">Driv rutins begär Anden</span><span class="sxs-lookup"><span data-stu-id="256d7-118">Driver Requests</span></span>

<span data-ttu-id="256d7-119">NetX Duo skapar en driv rutins förfrågan med ett särskilt kommando och anropar funktionen driv rutins post för att köra kommandot.</span><span class="sxs-lookup"><span data-stu-id="256d7-119">NetX Duo creates the driver request with a specific command and invokes the driver entry function to execute the command.</span></span> <span data-ttu-id="256d7-120">Eftersom varje nätverks driv rutin har en enda post funktion gör NetX Duo alla förfrågningar via data strukturen för driv rutins förfrågan.</span><span class="sxs-lookup"><span data-stu-id="256d7-120">Because each network driver has a single entry function, NetX Duo makes all requests through the driver request data structure.</span></span> <span data-ttu-id="256d7-121">Den ***nx_ip_driver_command** _-medlem i data strukturen för driv rutins förfrågan (_* NX_IP_DRIVER \* \*) definierar begäran. Statusinformation rapporteras tillbaka till anroparen i medlemmen \**_nx_ip_driver_status_*_.</span><span class="sxs-lookup"><span data-stu-id="256d7-121">The ***nx_ip_driver_command** _ member of the driver request data structure (_*NX_IP_DRIVER\*\*) defines the request. Status information is reported back to the caller in the member \**_nx_ip_driver_status_*_.</span></span> <span data-ttu-id="256d7-122">Om det här fältet är _ \* NX_SUCCESS \* \* slutfördes driv rutins förfrågan.</span><span class="sxs-lookup"><span data-stu-id="256d7-122">If this field is _\*NX_SUCCESS\*\*, the driver request was completed successfully.</span></span>

<span data-ttu-id="256d7-123">NetX Duo serialiserar all åtkomst till driv rutinen.</span><span class="sxs-lookup"><span data-stu-id="256d7-123">NetX Duo serializes all access to the driver.</span></span> <span data-ttu-id="256d7-124">Driv rutinen behöver därför inte hantera flera trådar som anropar post funktionen asynkront.</span><span class="sxs-lookup"><span data-stu-id="256d7-124">Therefore, the driver does not need to handle multiple threads asynchronously calling the entry function.</span></span> <span data-ttu-id="256d7-125">Observera att funktionen enhets driv rutin körs med IP-mutex låst.</span><span class="sxs-lookup"><span data-stu-id="256d7-125">Note that the device driver function executes with the IP mutex locked.</span></span> <span data-ttu-id="256d7-126">Den interna funktionen i driv rutinen får därför inte blockera sig själv.</span><span class="sxs-lookup"><span data-stu-id="256d7-126">Therefore the device driver internal function shall not block itself.</span></span>

<span data-ttu-id="256d7-127">Vanligt vis hanterar enhets driv rutinen avbrott.</span><span class="sxs-lookup"><span data-stu-id="256d7-127">Typically the device driver also handles interrupts.</span></span> <span data-ttu-id="256d7-128">Därför måste alla driv rutins funktioner vara avbrotts säkra.</span><span class="sxs-lookup"><span data-stu-id="256d7-128">Therefore, all driver functions need to be interrupt-safe.</span></span>

### <a name="driver-initialization"></a><span data-ttu-id="256d7-129">Driv rutins initiering</span><span class="sxs-lookup"><span data-stu-id="256d7-129">Driver Initialization</span></span>   
<span data-ttu-id="256d7-130">Även om den faktiska initieringen av driv rutinen är programspecifik, består det vanligt vis av data struktur och initiering av fysisk maskin vara.</span><span class="sxs-lookup"><span data-stu-id="256d7-130">Although the actual driver initialization processing is application specific, it usually consists of data structure and physical hardware initialization.</span></span> <span data-ttu-id="256d7-131">Den information som krävs från NetX Duo för driv rutins initiering är IP-maximum överförings enhet (MTU), vilket är antalet byte som är tillgängliga för nytto lasten i IP-skiktet, inklusive IPv4 eller IPv6-huvud, och om det fysiska gränssnittet kräver logisk till fysisk mappning.</span><span class="sxs-lookup"><span data-stu-id="256d7-131">The information required from NetX Duo for driver initialization is the IP Maximum Transmission Unit (MTU), which is the number of bytes available to the IP-layer payload, including IPv4 or IPv6 header) and if the physical interface needs logical-to-physical mapping.</span></span> <span data-ttu-id="256d7-132">Driv rutinen konfigurerar gränssnittets MTU-värde genom att anropa ***nx_ip_interface_mtu_set***.</span><span class="sxs-lookup"><span data-stu-id="256d7-132">The driver configures the interface MTU value by calling ***nx_ip_interface_mtu_set***.</span></span>

<span data-ttu-id="256d7-133">Enhets driv rutinen måste anropa \***nx_ip_interface_address_mapping_configure** _ för att meddela netx Duo om det krävs en gränssnitts adress mappning eller inte.</span><span class="sxs-lookup"><span data-stu-id="256d7-133">The device driver needs to call \***nx_ip_interface_address_mapping_configure** _ to inform NetX Duo whether or not interface address mapping is required.</span></span> <span data-ttu-id="256d7-134">Om adress mappning krävs är driv rutinen ansvarig för att konfigurera gränssnittet med en giltig MAC-adress och ange MAC-adressen till NetX via _ *_nx_ip_interface_physical_address_set_* \*.</span><span class="sxs-lookup"><span data-stu-id="256d7-134">If address mapping is needed, the driver is responsible for configuring the interface with valid MAC address, and supply the MAC address to NetX via _\*_nx_ip_interface_physical_address_set_\*\*.</span></span>

<span data-ttu-id="256d7-135">När nätverks driv rutinen tar emot NX_LINK INITIALIZE-begäran från NetX duo får den en pekare till kontroll blocket för IP-kontroll som en del av det NX_IP_DRIVER begär ande kontroll blocket som visas ovan.</span><span class="sxs-lookup"><span data-stu-id="256d7-135">When the network driver receives the NX_LINK INITIALIZE request from NetX Duo, it receives a pointer to the IP control block as part of the NX_IP_DRIVER request control block shown above.</span></span>

<span data-ttu-id="256d7-136">När programmet anropar ***nx_ip_create*** skickar IP-hjälp-tråden en driv rutins förfrågan med kommandot inställt på att NX_LINK_INITIALIZE till driv rutinen för att initiera sitt fysiska nätverks gränssnitt.</span><span class="sxs-lookup"><span data-stu-id="256d7-136">After the application calls ***nx_ip_create***, the IP helper thread sends a driver request with the command set to NX_LINK_INITIALIZE to the driver to initialize its physical network interface.</span></span> <span data-ttu-id="256d7-137">Följande NX_IP_DRIVERs medlemmar används för Initialize-begäran.</span><span class="sxs-lookup"><span data-stu-id="256d7-137">The following NX_IP_DRIVER members are used for the initialize request.</span></span>

| <span data-ttu-id="256d7-138">NX_IP_DRIVER &nbsp; medlem</span><span class="sxs-lookup"><span data-stu-id="256d7-138">NX_IP_DRIVER&nbsp;member</span></span> | <span data-ttu-id="256d7-139">Innebörd</span><span class="sxs-lookup"><span data-stu-id="256d7-139">Meaning</span></span>    |
| ------------------------- | ----------------------------- |
| <span data-ttu-id="256d7-140">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="256d7-140">nx_ip_driver_command</span></span>   | <span data-ttu-id="256d7-141">NX_LINK_INITIALIZE</span><span class="sxs-lookup"><span data-stu-id="256d7-141">NX_LINK_INITIALIZE</span></span>    |
| <span data-ttu-id="256d7-142">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-142">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="256d7-143">Pekare till IP-instansen.</span><span class="sxs-lookup"><span data-stu-id="256d7-143">Pointer to the IP instance.</span></span> <span data-ttu-id="256d7-144">Det här värdet bör sparas av driv rutinen så att driv rutins funktionen kan hitta IP-instansen som ska användas.</span><span class="sxs-lookup"><span data-stu-id="256d7-144">This value should be saved by the driver so that the driver function can find the IP instance to operate on.</span></span>    |
| <span data-ttu-id="256d7-145">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="256d7-145">nx_ip_driver_interface</span></span> | <span data-ttu-id="256d7-146">Pekar mot nätverks gränssnitts strukturen inom IP-instansen.</span><span class="sxs-lookup"><span data-stu-id="256d7-146">Pointer to the network interface structure within the IP instance.</span></span> <span data-ttu-id="256d7-147">Den här informationen bör sparas av driv rutinen.</span><span class="sxs-lookup"><span data-stu-id="256d7-147">This information should be saved by the driver.</span></span> <span data-ttu-id="256d7-148">Vid mottagning av paket ska driv rutinen använda gränssnitts strukturen när paketet skickas upp i stacken.</span><span class="sxs-lookup"><span data-stu-id="256d7-148">On receiving packets, the driver shall use the interface structure information when sending the packet up the stack.</span></span> <span data-ttu-id="256d7-149">Gränssnitts indexet (enhets index) kan hämtas genom att läsa medlems nx_interface_index i den här data strukturen.</span><span class="sxs-lookup"><span data-stu-id="256d7-149">The interface index (device index) can be obtained by reading the member nx_interface_index inside this data structure.</span></span> |
| <span data-ttu-id="256d7-150">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="256d7-150">nx_ip_driver_status</span></span>    | <span data-ttu-id="256d7-151">Status för slut för ande.</span><span class="sxs-lookup"><span data-stu-id="256d7-151">Completion status.</span></span> <span data-ttu-id="256d7-152">Om driv rutinen inte kan initiera det angivna gränssnittet till IP-instansen returnerar den en fel status som inte är noll.</span><span class="sxs-lookup"><span data-stu-id="256d7-152">If the driver is not able to initialize the specified interface to the IP instance, it will return a nonzero error status.</span></span> |


> [!NOTE]  
> <span data-ttu-id="256d7-153">*Driv rutinen anropas faktiskt från den IP-hjälp tråd som skapades för IP-instansen. Driv rutins rutinen bör därför inte utföra spärrnings åtgärder, eller så kan IP-underhjälps tråden stanna, vilket orsakar obegränsade fördröjningar för program som förlitar sig på IP-tråden*.</span><span class="sxs-lookup"><span data-stu-id="256d7-153">*The driver is actually called from the IP helper thread that was created for the IP instance. Therefore the driver routine should avoid performing blocking operations, or the IP helper thread could stall, causing unbounded delays to applications that rely on the IP thread*.</span></span>

### <a name="enable-link"></a><span data-ttu-id="256d7-154">Aktivera länk</span><span class="sxs-lookup"><span data-stu-id="256d7-154">Enable Link</span></span>   
<span data-ttu-id="256d7-155">Därefter aktiverar IP-hjälpens tråd det fysiska nätverket genom att ange driv rutins kommandot för att NX_LINK_ENABLE i driv rutins förfrågan och skicka begäran till nätverks driv rutinen.</span><span class="sxs-lookup"><span data-stu-id="256d7-155">Next, the IP helper thread enables the physical network by setting the driver command to NX_LINK_ENABLE in the driver request and sending the request to the network driver.</span></span> <span data-ttu-id="256d7-156">Detta sker strax efter att IP Helper-tråden Slutför initierings förfrågan.</span><span class="sxs-lookup"><span data-stu-id="256d7-156">This happens shortly after the IP helper thread completes the initialization request.</span></span> <span data-ttu-id="256d7-157">Att aktivera länken kan vara så enkelt som att ange *nx_interface_link_up* fältet i gränssnitts instansen.</span><span class="sxs-lookup"><span data-stu-id="256d7-157">Enabling the link may be as simple as setting the *nx_interface_link_up* field in the interface instance.</span></span> <span data-ttu-id="256d7-158">Men det kan också innebära manipulering av den fysiska maskin varan.</span><span class="sxs-lookup"><span data-stu-id="256d7-158">But it may also involve manipulation of the physical hardware.</span></span> <span data-ttu-id="256d7-159">Följande NX_IP_DRIVERs medlemmar används för begäran om att aktivera länkar.</span><span class="sxs-lookup"><span data-stu-id="256d7-159">The following NX_IP_DRIVER members are used for the enable link request.</span></span>

| <span data-ttu-id="256d7-160">NX_IP_DRIVER &nbsp; medlem</span><span class="sxs-lookup"><span data-stu-id="256d7-160">NX_IP_DRIVER&nbsp;member</span></span>       | <span data-ttu-id="256d7-161">Innebörd</span><span class="sxs-lookup"><span data-stu-id="256d7-161">Meaning</span></span>                      |
| ------------------------- | ---------------------------- |
| <span data-ttu-id="256d7-162">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="256d7-162">nx_ip_driver_command</span></span>   | <span data-ttu-id="256d7-163">NX_LINK_ENABLE</span><span class="sxs-lookup"><span data-stu-id="256d7-163">NX_LINK_ENABLE</span></span>   |
| <span data-ttu-id="256d7-164">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-164">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="256d7-165">Pekare till IP-instans</span><span class="sxs-lookup"><span data-stu-id="256d7-165">Pointer to IP instance</span></span>  |
| <span data-ttu-id="256d7-166">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="256d7-166">nx_ip_driver_interface</span></span> | <span data-ttu-id="256d7-167">Pekare till gränssnitts instansen</span><span class="sxs-lookup"><span data-stu-id="256d7-167">Pointer to the interface instance</span></span> |
| <span data-ttu-id="256d7-168">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="256d7-168">nx_ip_driver_status</span></span>    | <span data-ttu-id="256d7-169">Status för slut för ande.</span><span class="sxs-lookup"><span data-stu-id="256d7-169">Completion status.</span></span> <span data-ttu-id="256d7-170">Om driv rutinen inte kan aktivera det angivna gränssnittet returneras en fel status som inte är noll.</span><span class="sxs-lookup"><span data-stu-id="256d7-170">If the driver is not able to enable the specified interface, it will return a non-zero error status.</span></span> |

### <a name="disable-link"></a><span data-ttu-id="256d7-171">Inaktivera länk</span><span class="sxs-lookup"><span data-stu-id="256d7-171">Disable Link</span></span>   
<span data-ttu-id="256d7-172">Den här begäran görs av NetX Duo när en IP-instans tas bort av \***nx_ip_delete** _-tjänsten.</span><span class="sxs-lookup"><span data-stu-id="256d7-172">This request is made by NetX Duo during the deletion of an IP instance by the \***nx_ip_delete** _ service.</span></span> <span data-ttu-id="256d7-173">Eller ett program kan utfärda detta kommando för att tillfälligt inaktivera länken för att spara energi.</span><span class="sxs-lookup"><span data-stu-id="256d7-173">Or an application may issue this command in order to temporarily disable the link in order to save power.</span></span> <span data-ttu-id="256d7-174">Den här tjänsten inaktiverar det fysiska nätverks gränssnittet på IP-instansen.</span><span class="sxs-lookup"><span data-stu-id="256d7-174">This service disables the physical network interface on the IP instance.</span></span> <span data-ttu-id="256d7-175">Processen för att inaktivera länken kan vara så enkel som att rensa _nx_interface_link_up \*-flaggan i gränssnitts instansen. Men det kan också innebära manipulering av den fysiska maskin varan. Det är vanligt vis en omvänd åtgärd för \***Aktivera länk**_ -åtgärden.</span><span class="sxs-lookup"><span data-stu-id="256d7-175">The processing to disable the link may be as simple as clearing the _nx_interface_link_up\* flag in the interface instance. But it may also involve manipulation of the physical hardware. Typically it is a reverse operation of the \***Enable Link**_ operation.</span></span> <span data-ttu-id="256d7-176">När länken är inaktive rad är programbegäran _ *_Aktivera länk_*\* åtgärd för att aktivera gränssnittet.</span><span class="sxs-lookup"><span data-stu-id="256d7-176">After the link is disabled, the application request _ *_Enable Link_*\* operation to enable the interface.</span></span>

<span data-ttu-id="256d7-177">Följande NX_IP_DRIVER-medlemmar används för att inaktivera länk förfrågan.</span><span class="sxs-lookup"><span data-stu-id="256d7-177">The following NX_IP_DRIVER members are used for the disable link request.</span></span>

| <span data-ttu-id="256d7-178">NX_IP_DRIVER &nbsp; medlem</span><span class="sxs-lookup"><span data-stu-id="256d7-178">NX_IP_DRIVER&nbsp;member</span></span>     | <span data-ttu-id="256d7-179">Innebörd</span><span class="sxs-lookup"><span data-stu-id="256d7-179">Meaning</span></span>                      |
| ------------------------- | ---------------------------- |
| <span data-ttu-id="256d7-180">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="256d7-180">nx_ip_driver_command</span></span>   | <span data-ttu-id="256d7-181">NX_LINK_DISABLE</span><span class="sxs-lookup"><span data-stu-id="256d7-181">NX_LINK_DISABLE</span></span>    |
| <span data-ttu-id="256d7-182">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-182">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="256d7-183">Pekare till IP-instans</span><span class="sxs-lookup"><span data-stu-id="256d7-183">Pointer to IP instance</span></span>   |
| <span data-ttu-id="256d7-184">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="256d7-184">nx_ip_driver_interface</span></span> | <span data-ttu-id="256d7-185">Pekare till gränssnitts instansen</span><span class="sxs-lookup"><span data-stu-id="256d7-185">Pointer to the interface instance</span></span>   |
| <span data-ttu-id="256d7-186">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="256d7-186">nx_ip_driver_status</span></span>    | <span data-ttu-id="256d7-187">Status för slut för ande.</span><span class="sxs-lookup"><span data-stu-id="256d7-187">Completion status.</span></span> <span data-ttu-id="256d7-188">Om driv rutinen inte kan inaktivera det angivna gränssnittet i IP-instansen returneras en fel status som inte är noll.</span><span class="sxs-lookup"><span data-stu-id="256d7-188">If the driver is not able to disable the specified interface in the IP instance, it will return a non-zero error status.</span></span> |

### <a name="uninitialize-link"></a><span data-ttu-id="256d7-189">Avinitiera länk</span><span class="sxs-lookup"><span data-stu-id="256d7-189">Uninitialize Link</span></span>   
<span data-ttu-id="256d7-190">Den här begäran görs av NetX Duo när en IP-instans tas bort av \***nx_ip_delete** _-tjänsten.</span><span class="sxs-lookup"><span data-stu-id="256d7-190">This request is made by NetX Duo during the deletion of an IP instance by the \***nx_ip_delete** _ service.</span></span> <span data-ttu-id="256d7-191">Den här begäran avinitierar gränssnittet och frigör eventuella resurser som skapas under initierings fasen.</span><span class="sxs-lookup"><span data-stu-id="256d7-191">This request uninitialize the interface, and release any resources created during initialization phase.</span></span> <span data-ttu-id="256d7-192">Det är vanligt vis en omvänd åtgärd för åtgärden _ \*_initiera länk_\*\*.</span><span class="sxs-lookup"><span data-stu-id="256d7-192">Typically it is a reverse operation of the _ *_Initialize Link_*\* operation.</span></span> <span data-ttu-id="256d7-193">När gränssnittet har uninitalized kan enheten inte användas förrän gränssnittet initieras igen.</span><span class="sxs-lookup"><span data-stu-id="256d7-193">After the interface is uninitalized, the device cannot be used until the interface is initialized again.</span></span>

<span data-ttu-id="256d7-194">Följande NX_IP_DRIVER-medlemmar används för att inaktivera länk förfrågan.</span><span class="sxs-lookup"><span data-stu-id="256d7-194">The following NX_IP_DRIVER members are used for the disable link request.</span></span>

| <span data-ttu-id="256d7-195">NX_IP_DRIVER &nbsp; medlem</span><span class="sxs-lookup"><span data-stu-id="256d7-195">NX_IP_DRIVER&nbsp;member</span></span>    | <span data-ttu-id="256d7-196">Innebörd</span><span class="sxs-lookup"><span data-stu-id="256d7-196">Meaning</span></span>                  |
|------------------------|--------------------------|
| <span data-ttu-id="256d7-197">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="256d7-197">nx_ip_driver_command</span></span>   | <span data-ttu-id="256d7-198">NX_LINK_UNINITIALZE</span><span class="sxs-lookup"><span data-stu-id="256d7-198">NX_LINK_UNINITIALZE</span></span>      |
| <span data-ttu-id="256d7-199">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-199">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="256d7-200">Pekare till IP-instans</span><span class="sxs-lookup"><span data-stu-id="256d7-200">Pointer to IP instance</span></span>   |
| <span data-ttu-id="256d7-201">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="256d7-201">nx_ip_driver_interface</span></span> | <span data-ttu-id="256d7-202">Pekare till gränssnitts instansen</span><span class="sxs-lookup"><span data-stu-id="256d7-202">Pointer to the interface instance</span></span> |
| <span data-ttu-id="256d7-203">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="256d7-203">nx_ip_driver_status</span></span>    | <span data-ttu-id="256d7-204">Status för slut för ande.</span><span class="sxs-lookup"><span data-stu-id="256d7-204">Completion status.</span></span> <span data-ttu-id="256d7-205">Om driv rutinen inte kan avinitiera det angivna gränssnittet till IP-instansen returneras en fel status som inte är noll.</span><span class="sxs-lookup"><span data-stu-id="256d7-205">If the driver is not able to uninitialize the specified interface to the IP instance, it will return a non-zero error status.</span></span> |

### <a name="packet-send"></a><span data-ttu-id="256d7-206">Skicka paket</span><span class="sxs-lookup"><span data-stu-id="256d7-206">Packet Send</span></span>   
<span data-ttu-id="256d7-207">Den här begäran görs under intern bearbetning av IPv4-eller IPv6-sändning, som alla NetX Duo-protokoll använder för att överföra paket (förutom ARP, RARP).</span><span class="sxs-lookup"><span data-stu-id="256d7-207">This request is made during internal IPv4 or IPv6 send processing, which all NetX Duo protocols use to transmit packets (except for ARP, RARP).</span></span> <span data-ttu-id="256d7-208">Vid mottagning av kommandot paket sändning pekar *nx_packet_prepend_ptr* på början av det paket som ska skickas, vilket är början av IPv4-eller IPv6-sidhuvudet.</span><span class="sxs-lookup"><span data-stu-id="256d7-208">On receiving the packet send command, the *nx_packet_prepend_ptr* points to the beginning of the packet to be sent, which is the beginning of the IPv4 or IPv6 header.</span></span> <span data-ttu-id="256d7-209">*nx_packet_length* anger den totala storleken (i byte) för de data som överförs.</span><span class="sxs-lookup"><span data-stu-id="256d7-209">*nx_packet_length* indicates the total size (in bytes) of the data being transmitted.</span></span> <span data-ttu-id="256d7-210">Om *nx_packet_next* är giltigt lagras utgående IP-datagram i flera paket, driv rutinen krävs för att följa det länkade paketet och överföra hela ramen.</span><span class="sxs-lookup"><span data-stu-id="256d7-210">If *nx_packet_next* is valid, the outgoing IP datagram is stored in multiple packets, the driver is required to follow the chained packet and transmit the entire frame.</span></span> <span data-ttu-id="256d7-211">Observera att giltiga data områden i varje kedjat paket lagras mellan *nx_packet_prepend_ptr* och *nx_packet_append_ptr*.</span><span class="sxs-lookup"><span data-stu-id="256d7-211">Note that valid data area in each chained packet is stored between *nx_packet_prepend_ptr* and *nx_packet_append_ptr*.</span></span>

<span data-ttu-id="256d7-212">Driv rutinen ansvarar för att skapa ett fysiskt huvud.</span><span class="sxs-lookup"><span data-stu-id="256d7-212">The driver is responsible for constructing physical header.</span></span> <span data-ttu-id="256d7-213">Om fysisk adress till IP-adress mappning krävs (t. ex. Ethernet), har IP-lagret redan löst MAC-adressen.</span><span class="sxs-lookup"><span data-stu-id="256d7-213">If physical address to IP address mapping is required (such as Ethernet), the IP layer already resolved the MAC address.</span></span> <span data-ttu-id="256d7-214">Mål-MAC-adressen skickas från IP-instansen, lagras i *nx_ip_driver_physical_address_msw och nx_ip_driver_physical_address_lsw*.</span><span class="sxs-lookup"><span data-stu-id="256d7-214">The destination MAC address is passed from the IP instance, stored in *nx_ip_driver_physical_address_msw and nx_ip_driver_physical_address_lsw*.</span></span>

<span data-ttu-id="256d7-215">När du har lagt till det fysiska huvudet anropar paket sändnings bearbetningen driv Rutinens output-funktion för att överföra paketet.</span><span class="sxs-lookup"><span data-stu-id="256d7-215">After adding the physical header, the packet send processing then calls the driver's output function to transmit the packet.</span></span>

<span data-ttu-id="256d7-216">Följande NX_IP_DRIVER-medlemmar används för begäran om paket sändning.</span><span class="sxs-lookup"><span data-stu-id="256d7-216">The following NX_IP_DRIVER members are used for the packet send request.</span></span>

| <span data-ttu-id="256d7-217">NX_IP_DRIVER &nbsp; medlem</span><span class="sxs-lookup"><span data-stu-id="256d7-217">NX_IP_DRIVER&nbsp;member</span></span>              | <span data-ttu-id="256d7-218">Innebörd</span><span class="sxs-lookup"><span data-stu-id="256d7-218">Meaning</span></span>                               |
| -----------------------------------| --------------------------------------|
| <span data-ttu-id="256d7-219">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="256d7-219">nx_ip_driver_command</span></span>            | <span data-ttu-id="256d7-220">NX_LINK_PACKET_SEND</span><span class="sxs-lookup"><span data-stu-id="256d7-220">NX_LINK_PACKET_SEND</span></span>                |
| <span data-ttu-id="256d7-221">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-221">nx_ip_driver_ptr</span></span>                | <span data-ttu-id="256d7-222">Pekare till IP-instans</span><span class="sxs-lookup"><span data-stu-id="256d7-222">Pointer to IP instance</span></span>                |
| <span data-ttu-id="256d7-223">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="256d7-223">nx_ip_driver_packet</span></span>             | <span data-ttu-id="256d7-224">Pekare till det paket som ska skickas</span><span class="sxs-lookup"><span data-stu-id="256d7-224">Pointer to the packet to send</span></span>         |
| <span data-ttu-id="256d7-225">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="256d7-225">nx_ip_driver_interface</span></span>          | <span data-ttu-id="256d7-226">Pekare till gränssnitts instansen.</span><span class="sxs-lookup"><span data-stu-id="256d7-226">Pointer to the interface instance.</span></span>    |
| <span data-ttu-id="256d7-227">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="256d7-227">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="256d7-228">Mest betydande 32-bitars fysisk adress (endast om fysisk mappning krävs)</span><span class="sxs-lookup"><span data-stu-id="256d7-228">Most significant 32-bits of physical address (only if physical mapping needed)</span></span> |
| <span data-ttu-id="256d7-229">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="256d7-229">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="256d7-230">Minst signifikant 32-bitars fysisk adress (endast om fysisk mappning krävs)</span><span class="sxs-lookup"><span data-stu-id="256d7-230">Least significant 32-bits of physical address (only if physical mapping needed)</span></span> |
| <span data-ttu-id="256d7-231">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="256d7-231">nx_ip_driver_status</span></span>             | <span data-ttu-id="256d7-232">Status för slut för ande.</span><span class="sxs-lookup"><span data-stu-id="256d7-232">Completion status.</span></span> <span data-ttu-id="256d7-233">Om driv rutinen inte kan skicka paketet returnerar den en fel status som inte är noll.</span><span class="sxs-lookup"><span data-stu-id="256d7-233">If the driver is not able to send the packet, it will return a non-zero error status.</span></span> |

### <a name="packet-broadcastipv4-packets-only"></a><span data-ttu-id="256d7-234">Paket sändning (endast IPv4-paket)</span><span class="sxs-lookup"><span data-stu-id="256d7-234">Packet Broadcast(IPv4 packets only)</span></span>  
<span data-ttu-id="256d7-235">Den här begäran är nästan identisk med begäran om att skicka paket.</span><span class="sxs-lookup"><span data-stu-id="256d7-235">This request is almost identical to the send packet request.</span></span> <span data-ttu-id="256d7-236">Den enda skillnaden är att de fysiska mål adress fälten är inställda på MAC-adressen för Ethernet-broadcast.</span><span class="sxs-lookup"><span data-stu-id="256d7-236">The only difference is that the destination physical address fields are set to the Ethernet broadcast MAC address.</span></span> <span data-ttu-id="256d7-237">Följande NX_IP_DRIVER-medlemmar används för begäran om paket sändning.</span><span class="sxs-lookup"><span data-stu-id="256d7-237">The following NX_IP_DRIVER members are used for the packet broadcast request.</span></span>

| <span data-ttu-id="256d7-238">NX_IP_DRIVER &nbsp; medlem</span><span class="sxs-lookup"><span data-stu-id="256d7-238">NX_IP_DRIVER&nbsp;member</span></span>                | <span data-ttu-id="256d7-239">Innebörd</span><span class="sxs-lookup"><span data-stu-id="256d7-239">Meaning</span></span>                                                                                                  |
|------------------------------------|----------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="256d7-240">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="256d7-240">nx_ip_driver_command</span></span>               | <span data-ttu-id="256d7-241">NX_LINK_PACKET_BROADCAST</span><span class="sxs-lookup"><span data-stu-id="256d7-241">NX_LINK_PACKET_BROADCAST</span></span>                                                                                 |
| <span data-ttu-id="256d7-242">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-242">nx_ip_driver_ptr</span></span>                   | <span data-ttu-id="256d7-243">Pekare till IP-instans</span><span class="sxs-lookup"><span data-stu-id="256d7-243">Pointer to IP instance</span></span>                                                                                   |
| <span data-ttu-id="256d7-244">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="256d7-244">nx_ip_driver_packet</span></span>                | <span data-ttu-id="256d7-245">Pekare till det paket som ska skickas</span><span class="sxs-lookup"><span data-stu-id="256d7-245">Pointer to the packet to send</span></span>                                                                            |
| <span data-ttu-id="256d7-246">nx_ip_driver_physical_address_ms w</span><span class="sxs-lookup"><span data-stu-id="256d7-246">nx_ip_driver_physical_address_ms w</span></span> | <span data-ttu-id="256d7-247">0x0000FFFF (sändning)</span><span class="sxs-lookup"><span data-stu-id="256d7-247">0x0000FFFF (broadcast)</span></span>                                                                                   |
| <span data-ttu-id="256d7-248">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="256d7-248">nx_ip_driver_physical_address_lsw</span></span>  | <span data-ttu-id="256d7-249">0xFFFFFFFF (sändning)</span><span class="sxs-lookup"><span data-stu-id="256d7-249">0xFFFFFFFF (broadcast)</span></span>                                                                                   |
| <span data-ttu-id="256d7-250">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="256d7-250">nx_ip_driver_interface</span></span>             | <span data-ttu-id="256d7-251">Pekare till gränssnitts instansen.</span><span class="sxs-lookup"><span data-stu-id="256d7-251">Pointer to the interface instance.</span></span>                                                                       |
| <span data-ttu-id="256d7-252">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="256d7-252">nx_ip_driver_status</span></span>                | <span data-ttu-id="256d7-253">Status för slut för ande.</span><span class="sxs-lookup"><span data-stu-id="256d7-253">Completion status.</span></span> <span data-ttu-id="256d7-254">Om driv rutinen inte kan skicka paketet returnerar den en fel status som inte är noll.</span><span class="sxs-lookup"><span data-stu-id="256d7-254">If the driver is not able to send the packet, it will return a non-zero error status.</span></span> |

### <a name="arp-send"></a><span data-ttu-id="256d7-255">Skicka ARP</span><span class="sxs-lookup"><span data-stu-id="256d7-255">ARP Send</span></span>  
<span data-ttu-id="256d7-256">Den här begäran liknar också begäran om att skicka IP-paket.</span><span class="sxs-lookup"><span data-stu-id="256d7-256">This request is also similar to the IP packet send request.</span></span> <span data-ttu-id="256d7-257">Den enda skillnaden är att Ethernet-huvudet anger ett ARP-paket i stället för ett IP-paket och att de fysiska mål adress fälten är inställda på MAC-broadcast-adress.</span><span class="sxs-lookup"><span data-stu-id="256d7-257">The only difference is that the Ethernet header specifies an ARP packet instead of an IP packet, and destination physical address fields are set to MAC broadcast address.</span></span> <span data-ttu-id="256d7-258">Följande NX_IP_DRIVER-medlemmar används för ARP-sändnings förfrågan.</span><span class="sxs-lookup"><span data-stu-id="256d7-258">The following NX_IP_DRIVER members are used for the ARP send request.</span></span>

| <span data-ttu-id="256d7-259">NX_IP_DRIVER &nbsp; medlem</span><span class="sxs-lookup"><span data-stu-id="256d7-259">NX_IP_DRIVER&nbsp;member</span></span>                | <span data-ttu-id="256d7-260">Innebörd</span><span class="sxs-lookup"><span data-stu-id="256d7-260">Meaning</span></span>                                                                                                      |
|------------------------------------|--------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="256d7-261">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="256d7-261">nx_ip_driver_command</span></span>               | <span data-ttu-id="256d7-262">NX_LINK_ARP_SEND</span><span class="sxs-lookup"><span data-stu-id="256d7-262">NX_LINK_ARP_SEND</span></span>                                                                                             |
| <span data-ttu-id="256d7-263">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-263">nx_ip_driver_ptr</span></span>                   | <span data-ttu-id="256d7-264">Pekare till IP-instans</span><span class="sxs-lookup"><span data-stu-id="256d7-264">Pointer to IP instance</span></span>                                                                                       |
| <span data-ttu-id="256d7-265">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="256d7-265">nx_ip_driver_packet</span></span>                | <span data-ttu-id="256d7-266">Pekare till det paket som ska skickas</span><span class="sxs-lookup"><span data-stu-id="256d7-266">Pointer to the packet to send</span></span>                                                                                |
| <span data-ttu-id="256d7-267">nx_ip_driver_physical_address_ms w</span><span class="sxs-lookup"><span data-stu-id="256d7-267">nx_ip_driver_physical_address_ms w</span></span> | <span data-ttu-id="256d7-268">0x0000FFFF (sändning)</span><span class="sxs-lookup"><span data-stu-id="256d7-268">0x0000FFFF (broadcast)</span></span>                                                                                       |
| <span data-ttu-id="256d7-269">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="256d7-269">nx_ip_driver_physical_address_lsw</span></span>  | <span data-ttu-id="256d7-270">0xFFFFFFFF (sändning)</span><span class="sxs-lookup"><span data-stu-id="256d7-270">0xFFFFFFFF (broadcast)</span></span>                                                                                       |
| <span data-ttu-id="256d7-271">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="256d7-271">nx_ip_driver_interface</span></span>             | <span data-ttu-id="256d7-272">Pekare till gränssnitts instansen.</span><span class="sxs-lookup"><span data-stu-id="256d7-272">Pointer to the interface instance.</span></span>                                                                           |
| <span data-ttu-id="256d7-273">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="256d7-273">nx_ip_driver_status</span></span>                | <span data-ttu-id="256d7-274">Status för slut för ande.</span><span class="sxs-lookup"><span data-stu-id="256d7-274">Completion status.</span></span> <span data-ttu-id="256d7-275">Om driv rutinen inte kan skicka ARP-paketet returnerar den en fel status som inte är noll.</span><span class="sxs-lookup"><span data-stu-id="256d7-275">If the driver is not able to send the ARP packet, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="256d7-276">*Om fysisk mappning inte behövs krävs inte implementeringen av den här begäran*.</span><span class="sxs-lookup"><span data-stu-id="256d7-276">*If physical mapping is not needed, implementation of this request is not required*.</span></span>

<span data-ttu-id="256d7-277">*Även om ARP har ersatts med Neighbor Discovery-protokollet och router identifierings protokollet i IPv6, måste Ethernet-nätverks driv rutiner fortfarande vara kompatibla med IPv4-peer-datorer och routrar. Driv rutinerna måste därför fortfarande hantera ARP-paket*.</span><span class="sxs-lookup"><span data-stu-id="256d7-277">*Although ARP has been replaced with the Neighbor Discovery Protocol and the Router Discovery Protocol in IPv6, Ethernet network drivers must still be compatible with IPv4 peers and routers. Therefore, drivers must still handle ARP packets*.</span></span>

### <a name="arp-response-send"></a><span data-ttu-id="256d7-278">Skicka ARP-svar</span><span class="sxs-lookup"><span data-stu-id="256d7-278">ARP Response Send</span></span>  
<span data-ttu-id="256d7-279">Den här begäran är nästan identisk med ARP-begäran om att skicka paket.</span><span class="sxs-lookup"><span data-stu-id="256d7-279">This request is almost identical to the ARP send packet request.</span></span> <span data-ttu-id="256d7-280">Den enda skillnaden är att de fysiska mål adress fälten skickas från IP-instansen.</span><span class="sxs-lookup"><span data-stu-id="256d7-280">The only difference is the destination physical address fields are passed from the IP instance.</span></span> <span data-ttu-id="256d7-281">Följande NX_IP_DRIVER-medlemmar används för ARP-svar skicka begäran.</span><span class="sxs-lookup"><span data-stu-id="256d7-281">The following NX_IP_DRIVER members are used for the ARP response send request.</span></span>

| <span data-ttu-id="256d7-282">NX_IP_DRIVER &nbsp; medlem</span><span class="sxs-lookup"><span data-stu-id="256d7-282">NX_IP_DRIVER&nbsp;member</span></span>                  | <span data-ttu-id="256d7-283">Innebörd</span><span class="sxs-lookup"><span data-stu-id="256d7-283">Meaning</span></span>                                  |
| -------------------------------------- | -----------------------------------------|
| <span data-ttu-id="256d7-284">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="256d7-284">nx_ip_driver_command</span></span>                | <span data-ttu-id="256d7-285">NX_LINK_ARP_RESPONSE_SEND</span><span class="sxs-lookup"><span data-stu-id="256d7-285">NX_LINK_ARP_RESPONSE_SEND</span></span>            |
| <span data-ttu-id="256d7-286">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-286">nx_ip_driver_ptr</span></span>                    | <span data-ttu-id="256d7-287">Pekare till IP-instans</span><span class="sxs-lookup"><span data-stu-id="256d7-287">Pointer to IP instance</span></span>   |
| <span data-ttu-id="256d7-288">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="256d7-288">nx_ip_driver_packet</span></span>                 | <span data-ttu-id="256d7-289">Pekare till det paket som ska skickas</span><span class="sxs-lookup"><span data-stu-id="256d7-289">Pointer to the packet to send</span></span>          |
| <span data-ttu-id="256d7-290">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="256d7-290">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="256d7-291">Mest betydande 32-bitars fysisk adress</span><span class="sxs-lookup"><span data-stu-id="256d7-291">Most significant 32-bits of physical address</span></span> |
| <span data-ttu-id="256d7-292">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="256d7-292">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="256d7-293">Minst signifikant 32-bitars fysisk adress</span><span class="sxs-lookup"><span data-stu-id="256d7-293">Least significant 32-bits of physical address</span></span> |
| <span data-ttu-id="256d7-294">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="256d7-294">nx_ip_driver_interface</span></span>              | <span data-ttu-id="256d7-295">Pekare till gränssnitts instansen</span><span class="sxs-lookup"><span data-stu-id="256d7-295">Pointer to the interface instance</span></span> |
| <span data-ttu-id="256d7-296">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="256d7-296">nx_ip_driver_status</span></span>                 | <span data-ttu-id="256d7-297">Status för slut för ande.</span><span class="sxs-lookup"><span data-stu-id="256d7-297">Completion status.</span></span> <span data-ttu-id="256d7-298">Om driv rutinen inte kan skicka ARP-paketet returnerar den en fel status som inte är noll.</span><span class="sxs-lookup"><span data-stu-id="256d7-298">If the driver is not able to send the ARP packet, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="256d7-299">*Om fysisk mappning inte behövs krävs inte implementeringen av den här begäran*.</span><span class="sxs-lookup"><span data-stu-id="256d7-299">*If physical mapping is not needed, implementation of this request is not required*.</span></span>

### <a name="rarp-send"></a><span data-ttu-id="256d7-300">Skicka RARP</span><span class="sxs-lookup"><span data-stu-id="256d7-300">RARP Send</span></span>   
<span data-ttu-id="256d7-301">Den här begäran är nästan identisk med ARP-begäran om att skicka paket.</span><span class="sxs-lookup"><span data-stu-id="256d7-301">This request is almost identical to the ARP send packet request.</span></span> <span data-ttu-id="256d7-302">De enda skillnaderna är typ av paket huvud och de fysiska adress fälten krävs inte, eftersom det fysiska målet alltid är en broadcast-adress.</span><span class="sxs-lookup"><span data-stu-id="256d7-302">The only differences are the type of packet header and the physical address fields are not required because the physical destination is always a broadcast address.</span></span>

<span data-ttu-id="256d7-303">Följande NX_IP_DRIVERs medlemmar används för RARP Send-begäran.</span><span class="sxs-lookup"><span data-stu-id="256d7-303">The following NX_IP_DRIVER members are used for the RARP send request.</span></span>

| <span data-ttu-id="256d7-304">NX_IP_DRIVER &nbsp; medlem</span><span class="sxs-lookup"><span data-stu-id="256d7-304">NX_IP_DRIVER&nbsp;member</span></span>                | <span data-ttu-id="256d7-305">Innebörd</span><span class="sxs-lookup"><span data-stu-id="256d7-305">Meaning</span></span>                                                                                                       |
|------------------------------------|---------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="256d7-306">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="256d7-306">nx_ip_driver_command</span></span>               | <span data-ttu-id="256d7-307">NX_LINK_RARP_SEND</span><span class="sxs-lookup"><span data-stu-id="256d7-307">NX_LINK_RARP_SEND</span></span>                                                                                             |
| <span data-ttu-id="256d7-308">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-308">nx_ip_driver_ptr</span></span>                   | <span data-ttu-id="256d7-309">Pekare till IP-instans</span><span class="sxs-lookup"><span data-stu-id="256d7-309">Pointer to IP instance</span></span>                                                                                        |
| <span data-ttu-id="256d7-310">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="256d7-310">nx_ip_driver_packet</span></span>                | <span data-ttu-id="256d7-311">Pekare till det paket som ska skickas</span><span class="sxs-lookup"><span data-stu-id="256d7-311">Pointer to the packet to send</span></span>                                                                                 |
| <span data-ttu-id="256d7-312">nx_ip_driver_physical_address_ms w</span><span class="sxs-lookup"><span data-stu-id="256d7-312">nx_ip_driver_physical_address_ms w</span></span> | <span data-ttu-id="256d7-313">0x0000FFFF (sändning)</span><span class="sxs-lookup"><span data-stu-id="256d7-313">0x0000FFFF (broadcast)</span></span>                                                                                        |
| <span data-ttu-id="256d7-314">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="256d7-314">nx_ip_driver_physical_address_lsw</span></span>  | <span data-ttu-id="256d7-315">0xFFFFFFFF (sändning)</span><span class="sxs-lookup"><span data-stu-id="256d7-315">0xFFFFFFFF (broadcast)</span></span>                                                                                        |
| <span data-ttu-id="256d7-316">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="256d7-316">nx_ip_driver_interface</span></span>             | <span data-ttu-id="256d7-317">Pekare till gränssnitts instansen.</span><span class="sxs-lookup"><span data-stu-id="256d7-317">Pointer to the interface instance.</span></span>                                                                            |
| <span data-ttu-id="256d7-318">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="256d7-318">nx_ip_driver_status</span></span>                | <span data-ttu-id="256d7-319">Status för slut för ande.</span><span class="sxs-lookup"><span data-stu-id="256d7-319">Completion status.</span></span> <span data-ttu-id="256d7-320">Om driv rutinen inte kan skicka RARP-paketet returnerar den en fel status som inte är noll.</span><span class="sxs-lookup"><span data-stu-id="256d7-320">If the driver is not able to send the RARP packet, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="256d7-321">*Program som kräver RARP-tjänst måste implementera det här kommandot*.</span><span class="sxs-lookup"><span data-stu-id="256d7-321">*Applications that require RARP service must implement this command*.</span></span>

### <a name="multicast-group-join"></a><span data-ttu-id="256d7-322">Anslutning till multicast-grupp</span><span class="sxs-lookup"><span data-stu-id="256d7-322">Multicast Group Join</span></span>   
<span data-ttu-id="256d7-323">Den här begäran görs med ***nx_igmp_multicast_interface Join** _ och _*_Nx_ipv4_multicast_interface_join_*_ service i IPv4, _ *_nxd_ipv6_multicast_interface_join_** service i IPv6 och olika åtgärder som krävs av IPv6.</span><span class="sxs-lookup"><span data-stu-id="256d7-323">This request is made with the ***nx_igmp_multicast_interface join** _ and _*_nx_ipv4_multicast_interface_join_*_ service in IPv4, _ *_nxd_ipv6_multicast_interface_join_** service in IPv6, and various operation required by IPv6.</span></span> <span data-ttu-id="256d7-324">Nätverks driv rutinen tar den tillhandahållna multicast-gruppadressen och konfigurerar det fysiska mediet för att acceptera inkommande paket från den multicast-gruppadressen.</span><span class="sxs-lookup"><span data-stu-id="256d7-324">The network driver takes the supplied multicast group address and sets up the physical media to accept incoming packets from that multicast group address.</span></span> <span data-ttu-id="256d7-325">Observera att för driv rutiner som inte har stöd för multicast-filter kan driv rutinen ta emot logik vara i läget ofiltrerad.</span><span class="sxs-lookup"><span data-stu-id="256d7-325">Note that for drivers that don't support multicast filter, the driver receive logic may have to be in promiscuous mode.</span></span> <span data-ttu-id="256d7-326">I det här fallet kan driv rutinen behöva filtrera inkommande ramar baserat på målets MAC-adress, vilket minskar mängden trafik som skickas till IP-instansen.</span><span class="sxs-lookup"><span data-stu-id="256d7-326">In this case, the driver may need to filter incoming frames based on destination MAC address, thus reducing the amount of traffic passed into the IP instance.</span></span> <span data-ttu-id="256d7-327">Följande NX_IP_DRIVER-medlemmar används för begäran om multicast-gruppkoppling.</span><span class="sxs-lookup"><span data-stu-id="256d7-327">The following NX_IP_DRIVER members are used for the multicast group join request.</span></span>

| <span data-ttu-id="256d7-328">NX_IP_DRIVER &nbsp; medlem</span><span class="sxs-lookup"><span data-stu-id="256d7-328">NX_IP_DRIVER&nbsp;member</span></span>                  | <span data-ttu-id="256d7-329">Innebörd</span><span class="sxs-lookup"><span data-stu-id="256d7-329">Meaning</span></span>                                 |
| -------------------------------------- | --------------------------------------- |
| <span data-ttu-id="256d7-330">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="256d7-330">nx_ip_driver_command</span></span>                | <span data-ttu-id="256d7-331">NX_LINK_MULTICAST_JOIN</span><span class="sxs-lookup"><span data-stu-id="256d7-331">NX_LINK_MULTICAST_JOIN</span></span>               |
| <span data-ttu-id="256d7-332">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-332">nx_ip_driver_ptr</span></span>                    | <span data-ttu-id="256d7-333">Pekare till IP-instans</span><span class="sxs-lookup"><span data-stu-id="256d7-333">Pointer to IP instance</span></span>  |
| <span data-ttu-id="256d7-334">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="256d7-334">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="256d7-335">Mest signifikanta 32-bitar av fysisk multicast-adress</span><span class="sxs-lookup"><span data-stu-id="256d7-335">Most significant 32-bits of physical multicast address</span></span> |
| <span data-ttu-id="256d7-336">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="256d7-336">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="256d7-337">Minst signifikant 32-bitars fysisk multicast-adress</span><span class="sxs-lookup"><span data-stu-id="256d7-337">Least significant 32-bits of physical multicast address</span></span> |
| <span data-ttu-id="256d7-338">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="256d7-338">nx_ip_driver_interface</span></span>              | <span data-ttu-id="256d7-339">Pekare till gränssnitts instansen</span><span class="sxs-lookup"><span data-stu-id="256d7-339">Pointer to the interface instance</span></span> |
| <span data-ttu-id="256d7-340">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="256d7-340">nx_ip_driver_status</span></span>                 | <span data-ttu-id="256d7-341">Status för slut för ande.</span><span class="sxs-lookup"><span data-stu-id="256d7-341">Completion status.</span></span> <span data-ttu-id="256d7-342">Om driv rutinen inte kan ansluta till multicast-gruppen returnerar den en fel status som inte är noll.</span><span class="sxs-lookup"><span data-stu-id="256d7-342">If the driver is not able to join the multicast group, it will return a non-zero error status.</span></span> |

> [!NOTE]  
> <span data-ttu-id="256d7-343">*IPv6-program kräver att multicast implementeras i driv rutinen för ICMPv6-baserade protokoll som adress konfiguration. För IPv4-program behövs dock inte implementeringen av den här begäran om inga multicast-funktioner krävs*.</span><span class="sxs-lookup"><span data-stu-id="256d7-343">*IPv6 applications will require multicast to be implemented in the driver for ICMPv6 based protocols such as address configuration. However, for IPv4 applications, implementation of this request is not necessary if multicast capabilities are not required*.</span></span>

> [!IMPORTANT]  
> <span data-ttu-id="256d7-344">*Om IPv6 inte är aktiverat och multicast-funktioner inte krävs av IPv4 krävs inte implementeringen av den här begäran*.</span><span class="sxs-lookup"><span data-stu-id="256d7-344">*If IPv6 is not enabled, and multicast capabilities are not required by IPv4, implementation of this request is not required*.</span></span>

### <a name="multicast-group-leave"></a><span data-ttu-id="256d7-345">Lämna multicast-grupp</span><span class="sxs-lookup"><span data-stu-id="256d7-345">Multicast Group Leave</span></span>  
<span data-ttu-id="256d7-346">Den här begäran anropas genom att anropa de ***nx_igmp_multicast_interface_leave** _-eller _*_nx_ipv4_multicast_interface_leave_*_ -tjänsterna i IPv4, _ *_nxd_ipv6_multicast_interface_leave_** i IPv6 eller av olika interna netx Duo-åtgärder som krävs för IPv6.</span><span class="sxs-lookup"><span data-stu-id="256d7-346">This request is invoked by explicitly calling the ***nx_igmp_multicast_interface_leave** _ or _*_nx_ipv4_multicast_interface_leave_*_ services in IPv4, _ *_nxd_ipv6_multicast_interface_leave_** service in IPv6, or by various internal NetX Duo operations required for IPv6.</span></span> <span data-ttu-id="256d7-347">Driv rutinen tar bort den angivna Ethernet-multicast-adressen från multicast-listan.</span><span class="sxs-lookup"><span data-stu-id="256d7-347">The driver removes the supplied Ethernet multicast address from the multicast list.</span></span> <span data-ttu-id="256d7-348">När en värd har lämnat en multicast-grupp tas paket i nätverket med den här Ethernet-multicast-adressen inte längre emot av den här IP-instansen.</span><span class="sxs-lookup"><span data-stu-id="256d7-348">After a host has left a multicast group, packets on the network with this Ethernet multicast address are no longer received by this IP instance.</span></span> <span data-ttu-id="256d7-349">Följande NX_IP_DRIVERs medlemmar används för begäran om att lämna multicast-gruppen.</span><span class="sxs-lookup"><span data-stu-id="256d7-349">The following NX_IP_DRIVER members are used for the multicast group leave request.</span></span>

| <span data-ttu-id="256d7-350">NX_IP_DRIVER &nbsp; medlem</span><span class="sxs-lookup"><span data-stu-id="256d7-350">NX_IP_DRIVER&nbsp;member</span></span>              | <span data-ttu-id="256d7-351">Innebörd</span><span class="sxs-lookup"><span data-stu-id="256d7-351">Meaning</span></span>                              |
| -----------------------------------| -------------------------------------|
| <span data-ttu-id="256d7-352">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="256d7-352">nx_ip_driver_command</span></span>            | <span data-ttu-id="256d7-353">NX_LINK_MULTICAST_LEAVE</span><span class="sxs-lookup"><span data-stu-id="256d7-353">NX_LINK_MULTICAST_LEAVE</span></span>           |
| <span data-ttu-id="256d7-354">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-354">nx_ip_driver_ptr</span></span>                | <span data-ttu-id="256d7-355">Pekare till IP-instans</span><span class="sxs-lookup"><span data-stu-id="256d7-355">Pointer to IP instance</span></span>   |
| <span data-ttu-id="256d7-356">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="256d7-356">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="256d7-357">Mest signifikanta 32 bitar av fysisk multicast-adress</span><span class="sxs-lookup"><span data-stu-id="256d7-357">Most significant 32 bits of physical multicast address</span></span> |
| <span data-ttu-id="256d7-358">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="256d7-358">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="256d7-359">Minst signifikant 32-bitars fysisk multicast-adress</span><span class="sxs-lookup"><span data-stu-id="256d7-359">Least significant 32 bits of physical multicast address</span></span> |
| <span data-ttu-id="256d7-360">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="256d7-360">nx_ip_driver_interface</span></span>              | <span data-ttu-id="256d7-361">Pekare till gränssnitts instansen</span><span class="sxs-lookup"><span data-stu-id="256d7-361">Pointer to the interface instance</span></span> |
| <span data-ttu-id="256d7-362">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="256d7-362">nx_ip_driver_status</span></span>                 | <span data-ttu-id="256d7-363">Status för slut för ande.</span><span class="sxs-lookup"><span data-stu-id="256d7-363">Completion status.</span></span> <span data-ttu-id="256d7-364">Om driv rutinen inte kan lämna multicast-gruppen kommer den att returnera en fel status som inte är noll.</span><span class="sxs-lookup"><span data-stu-id="256d7-364">If the driver is not able to leave the multicast group, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="256d7-365">*Om multicast-funktioner inte krävs av IPv4 eller IPv6 krävs inte implementeringen av den här begäran*.</span><span class="sxs-lookup"><span data-stu-id="256d7-365">*If multicast capabilities are not required by either IPv4 or IPv6, implementation of this request is not required*.</span></span>

### <a name="attach-interface"></a><span data-ttu-id="256d7-366">Bifoga gränssnitt</span><span class="sxs-lookup"><span data-stu-id="256d7-366">Attach Interface</span></span>  
<span data-ttu-id="256d7-367">Den här begäran anropas från NetX Duo till enhets driv rutinen, så att driv rutinen kan associera driv rutins instansen med motsvarande IP-instans och den fysiska gränssnitts instansen inom IP-adressen.</span><span class="sxs-lookup"><span data-stu-id="256d7-367">This request is invoked from the NetX Duo to the device driver, allowing the driver to associate the driver instance with the corresponding IP instance and the physical interface instance within the IP.</span></span> <span data-ttu-id="256d7-368">Följande NX_IP_DRIVER-medlemmar används för begäran om att bifoga gränssnitt.</span><span class="sxs-lookup"><span data-stu-id="256d7-368">The following NX_IP_DRIVER members are used for the attach interface request.</span></span>

| <span data-ttu-id="256d7-369">NX_IP_DRIVER &nbsp; medlem</span><span class="sxs-lookup"><span data-stu-id="256d7-369">NX_IP_DRIVER&nbsp;member</span></span>    | <span data-ttu-id="256d7-370">Innebörd</span><span class="sxs-lookup"><span data-stu-id="256d7-370">Meaning</span></span>                  |
|------------------------|--------------------------|
| <span data-ttu-id="256d7-371">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="256d7-371">nx_ip_driver_command</span></span>   | <span data-ttu-id="256d7-372">NX_LINK_INTERFACE_ATTACH</span><span class="sxs-lookup"><span data-stu-id="256d7-372">NX_LINK_INTERFACE_ATTACH</span></span> |
| <span data-ttu-id="256d7-373">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-373">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="256d7-374">Pekare till IP-instans</span><span class="sxs-lookup"><span data-stu-id="256d7-374">Pointer to IP instance</span></span>   |
| <span data-ttu-id="256d7-375">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="256d7-375">nx_ip_driver_interface</span></span> | <span data-ttu-id="256d7-376">Pekare till gränssnitts instansen.</span><span class="sxs-lookup"><span data-stu-id="256d7-376">Pointer to the interface instance.</span></span>|
| <span data-ttu-id="256d7-377">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="256d7-377">nx_ip_driver_status</span></span>    | <span data-ttu-id="256d7-378">Status för slut för ande.</span><span class="sxs-lookup"><span data-stu-id="256d7-378">Completion status.</span></span> <span data-ttu-id="256d7-379">Om driv rutinen inte kan koppla bort det angivna gränssnittet till IP-instansen, returnerar den en fel status som inte är noll.</span><span class="sxs-lookup"><span data-stu-id="256d7-379">If the driver is not able to detach the specified interface to the IP instance, it will return a non-zero error status.</span></span> |

### <a name="detach-interface"></a><span data-ttu-id="256d7-380">Koppla från gränssnitt</span><span class="sxs-lookup"><span data-stu-id="256d7-380">Detach Interface</span></span>    
<span data-ttu-id="256d7-381">Den här begäran anropas av NetX Duo till enhets driv rutinen, vilket gör att driv rutinen kan avassociera driv rutins instansen med motsvarande IP-instans och den fysiska gränssnitts instansen inom IP-adressen.</span><span class="sxs-lookup"><span data-stu-id="256d7-381">This request is invoked by NetX Duo to the device driver, allowing the driver to disassociate the driver instance with the corresponding IP instance and the physical interface instance within the IP.</span></span> <span data-ttu-id="256d7-382">Följande NX_IP_DRIVER-medlemmar används för begäran om att bifoga gränssnitt.</span><span class="sxs-lookup"><span data-stu-id="256d7-382">The following NX_IP_DRIVER members are used for the attach interface request.</span></span>

| <span data-ttu-id="256d7-383">NX_IP_DRIVER &nbsp; medlem</span><span class="sxs-lookup"><span data-stu-id="256d7-383">NX_IP_DRIVER&nbsp;member</span></span>    | <span data-ttu-id="256d7-384">Innebörd</span><span class="sxs-lookup"><span data-stu-id="256d7-384">Meaning</span></span>                                                                                                                                    |
|------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="256d7-385">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="256d7-385">nx_ip_driver_command</span></span>   | <span data-ttu-id="256d7-386">NX_LINK_INTERFACE_DETACH</span><span class="sxs-lookup"><span data-stu-id="256d7-386">NX_LINK_INTERFACE_DETACH</span></span>                                                                                                                   |
| <span data-ttu-id="256d7-387">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-387">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="256d7-388">Pekare till IP-instans</span><span class="sxs-lookup"><span data-stu-id="256d7-388">Pointer to IP instance</span></span>                                                                                                                     |
| <span data-ttu-id="256d7-389">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="256d7-389">nx_ip_driver_interface</span></span> | <span data-ttu-id="256d7-390">Pekare till gränssnitts instansen.</span><span class="sxs-lookup"><span data-stu-id="256d7-390">Pointer to the interface instance.</span></span>                                                                                                         |
| <span data-ttu-id="256d7-391">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="256d7-391">nx_ip_driver_status</span></span>    | <span data-ttu-id="256d7-392">Status för slut för ande.</span><span class="sxs-lookup"><span data-stu-id="256d7-392">Completion status.</span></span> <span data-ttu-id="256d7-393">Om driv rutinen inte kan koppla det angivna gränssnittet till IP-instansen, returnerar den en fel status som inte är noll.</span><span class="sxs-lookup"><span data-stu-id="256d7-393">If the driver is not able to attach the specified interface to the IP instance, it will return a non-zero error status.</span></span> |

### <a name="get-link-status"></a><span data-ttu-id="256d7-394">Hämta länk status</span><span class="sxs-lookup"><span data-stu-id="256d7-394">Get Link Status</span></span>    
<span data-ttu-id="256d7-395">Programmet kan fråga nätverks gränssnittets länk status med hjälp av NetX Duo service ***nx_ip_interface_status_check*** -tjänsten för alla gränssnitt på värden.</span><span class="sxs-lookup"><span data-stu-id="256d7-395">The application can query the network interface link status using the NetX Duo service ***nx_ip_interface_status_check*** service for any interface on the host.</span></span> <span data-ttu-id="256d7-396">Se kapitel 4, "Beskrivning av NetX Duo-tjänster" på sidan 149 för mer information om dessa tjänster.</span><span class="sxs-lookup"><span data-stu-id="256d7-396">See Chapter 4, "Description of NetX Duo Services" on page 149, for more details on these services.</span></span>

<span data-ttu-id="256d7-397">Länkens status finns i fältet *nx_interface_link_up* i NX_INTERFACE-strukturen som *nx_ip_driver_interface* visaren pekar på.</span><span class="sxs-lookup"><span data-stu-id="256d7-397">The link status is contained in the *nx_interface_link_up* field in the NX_INTERFACE structure pointed to by *nx_ip_driver_interface* pointer.</span></span> <span data-ttu-id="256d7-398">Följande NX_IP_DRIVERs medlemmar används för begäran om länk status.</span><span class="sxs-lookup"><span data-stu-id="256d7-398">The following NX_IP_DRIVER members are used for the link status request.</span></span>

| <span data-ttu-id="256d7-399">NX_IP_DRIVER &nbsp; medlem</span><span class="sxs-lookup"><span data-stu-id="256d7-399">NX_IP_DRIVER&nbsp;member</span></span>       | <span data-ttu-id="256d7-400">Innebörd</span><span class="sxs-lookup"><span data-stu-id="256d7-400">Meaning</span></span>                  |
| --------------------------- | -------------------------|
| <span data-ttu-id="256d7-401">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="256d7-401">nx_ip_driver_command</span></span>     | <span data-ttu-id="256d7-402">NX_LINK_GET_STATUS</span><span class="sxs-lookup"><span data-stu-id="256d7-402">NX_LINK_GET_STATUS</span></span>    |
| <span data-ttu-id="256d7-403">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-403">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="256d7-404">Pekare till IP-instans</span><span class="sxs-lookup"><span data-stu-id="256d7-404">Pointer to IP instance</span></span>   |
| <span data-ttu-id="256d7-405">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-405">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="256d7-406">Pekar till målet för att placera statusen.</span><span class="sxs-lookup"><span data-stu-id="256d7-406">Pointer to the destination to place the status.</span></span> |
| <span data-ttu-id="256d7-407">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="256d7-407">nx_ip_driver_interface</span></span>   | <span data-ttu-id="256d7-408">Pekare till gränssnitts instansen</span><span class="sxs-lookup"><span data-stu-id="256d7-408">Pointer to the interface instance</span></span>   |
| <span data-ttu-id="256d7-409">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="256d7-409">nx_ip_driver_status</span></span>      | <span data-ttu-id="256d7-410">Status för slut för ande.</span><span class="sxs-lookup"><span data-stu-id="256d7-410">Completion status.</span></span> <span data-ttu-id="256d7-411">Om driv rutinen inte kan hämta en angiven status returneras en fel status som inte är noll.</span><span class="sxs-lookup"><span data-stu-id="256d7-411">If the driver is not able to get specific status, it will return a non-zero error status.</span></span> |

> [!NOTE]  
> <span data-ttu-id="256d7-412">\***nx_ip_status_check** _ är fortfarande tillgängligt för att kontrol lera status för det primära gränssnittet.</span><span class="sxs-lookup"><span data-stu-id="256d7-412">\***nx_ip_status_check** _ is still available for checking the status of the primary interface.</span></span> <span data-ttu-id="256d7-413">Programutvecklare uppmanas dock att använda den gränssnitts specifika tjänsten: _ *_nx_ip_interface_status_check._*\*</span><span class="sxs-lookup"><span data-stu-id="256d7-413">However, application developers are encouraged to use the interface specific service: _ *_nx_ip_interface_status_check._*\*</span></span>

### <a name="get-link-speed"></a><span data-ttu-id="256d7-414">Hämta länk hastighet</span><span class="sxs-lookup"><span data-stu-id="256d7-414">Get Link Speed</span></span>  
<span data-ttu-id="256d7-415">Den här begäran görs inifrån den ***nx_ip_driver_direct_command*** tjänsten.</span><span class="sxs-lookup"><span data-stu-id="256d7-415">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="256d7-416">Driv rutinen lagrar länkens linje hastighet på den angivna destinationen.</span><span class="sxs-lookup"><span data-stu-id="256d7-416">The driver stores the link's line speed in the supplied destination.</span></span> <span data-ttu-id="256d7-417">Följande NX_IP_DRIVER-medlemmar används för länk linjens hastighets förfrågan.</span><span class="sxs-lookup"><span data-stu-id="256d7-417">The following NX_IP_DRIVER members are used for the link line speed request.</span></span>

| <span data-ttu-id="256d7-418">NX_IP_DRIVER &nbsp; medlem</span><span class="sxs-lookup"><span data-stu-id="256d7-418">NX_IP_DRIVER&nbsp;member</span></span>   | <span data-ttu-id="256d7-419">Innebörd</span><span class="sxs-lookup"><span data-stu-id="256d7-419">Meaning</span></span>                   |
| ------------------------| ------------------------- |
| <span data-ttu-id="256d7-420">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="256d7-420">nx_ip_driver_command</span></span>     | <span data-ttu-id="256d7-421">NX_LINK_GET_SPEED</span><span class="sxs-lookup"><span data-stu-id="256d7-421">NX_LINK_GET_SPEED</span></span>          |
| <span data-ttu-id="256d7-422">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-422">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="256d7-423">Pekare till IP-instans</span><span class="sxs-lookup"><span data-stu-id="256d7-423">Pointer to IP instance</span></span>                                                                                         |
| <span data-ttu-id="256d7-424">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-424">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="256d7-425">Pekare till målet för att placera linje hastigheten</span><span class="sxs-lookup"><span data-stu-id="256d7-425">Pointer to the destination to place the line speed</span></span>                                                             |
| <span data-ttu-id="256d7-426">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="256d7-426">nx_ip_driver_interface</span></span>   | <span data-ttu-id="256d7-427">Pekare till gränssnitts instansen</span><span class="sxs-lookup"><span data-stu-id="256d7-427">Pointer to the interface instance</span></span>                                                                              |
| <span data-ttu-id="256d7-428">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="256d7-428">nx_ip_driver_status</span></span>      | <span data-ttu-id="256d7-429">Status för slut för ande.</span><span class="sxs-lookup"><span data-stu-id="256d7-429">Completion status.</span></span> <span data-ttu-id="256d7-430">Om driv rutinen inte kan hämta hastighets information returneras en fel status som inte är noll.</span><span class="sxs-lookup"><span data-stu-id="256d7-430">If the driver is not able to get speed information, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="256d7-431">*Den här begäran används inte internt av netx Duo, så dess implementering är valfri*.</span><span class="sxs-lookup"><span data-stu-id="256d7-431">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="get-duplex-type"></a><span data-ttu-id="256d7-432">Hämta duplex-typ</span><span class="sxs-lookup"><span data-stu-id="256d7-432">Get Duplex Type</span></span>   
<span data-ttu-id="256d7-433">Den här begäran görs inifrån den ***nx_ip_driver_direct_command*** tjänsten.</span><span class="sxs-lookup"><span data-stu-id="256d7-433">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="256d7-434">Driv rutinen lagrar länkens duplex-typ på det angivna målet.</span><span class="sxs-lookup"><span data-stu-id="256d7-434">The driver stores the link's duplex type in the supplied destination.</span></span> <span data-ttu-id="256d7-435">Följande NX_IP_DRIVER-medlemmar används för begäran om duplex-typ.</span><span class="sxs-lookup"><span data-stu-id="256d7-435">The following NX_IP_DRIVER members are used for the duplex type request.</span></span>

| <span data-ttu-id="256d7-436">NX_IP_DRIVER &nbsp; medlem</span><span class="sxs-lookup"><span data-stu-id="256d7-436">NX_IP_DRIVER&nbsp;member</span></span>   | <span data-ttu-id="256d7-437">Innebörd</span><span class="sxs-lookup"><span data-stu-id="256d7-437">Meaning</span></span>                                                                                                    |
| --------------------------- | -------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="256d7-438">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="256d7-438">nx_ip_driver_command</span></span>     | <span data-ttu-id="256d7-439">NX_LINK_GET_DUPLEX_TYPE</span><span class="sxs-lookup"><span data-stu-id="256d7-439">NX_LINK_GET_DUPLEX_TYPE</span></span>                                                                                    |
| <span data-ttu-id="256d7-440">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-440">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="256d7-441">Pekare till IP-instans</span><span class="sxs-lookup"><span data-stu-id="256d7-441">Pointer to IP instance</span></span>                                                                                         |
| <span data-ttu-id="256d7-442">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-442">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="256d7-443">Pekare till målet för att placera duplex-typen</span><span class="sxs-lookup"><span data-stu-id="256d7-443">Pointer to the destination to place the duplex type</span></span>                                                            |
| <span data-ttu-id="256d7-444">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="256d7-444">nx_ip_driver_interface</span></span>   | <span data-ttu-id="256d7-445">Pekare till gränssnitts instansen</span><span class="sxs-lookup"><span data-stu-id="256d7-445">Pointer to the interface instance</span></span>                                                                              |
| <span data-ttu-id="256d7-446">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="256d7-446">nx_ip_driver_status</span></span>      | <span data-ttu-id="256d7-447">Status för slut för ande.</span><span class="sxs-lookup"><span data-stu-id="256d7-447">Completion status.</span></span> <span data-ttu-id="256d7-448">Om driv rutinen inte kan hämta information om duplex, returnerar den en fel status som inte är noll.</span><span class="sxs-lookup"><span data-stu-id="256d7-448">If the driver is not able to get duplex information, it will return a nonzero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="256d7-449">*Den här begäran används inte internt av netx Duo, så dess implementering är valfri*.</span><span class="sxs-lookup"><span data-stu-id="256d7-449">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="get-error-count"></a><span data-ttu-id="256d7-450">Hämta fel antal</span><span class="sxs-lookup"><span data-stu-id="256d7-450">Get Error Count</span></span>   
<span data-ttu-id="256d7-451">Den här begäran görs inifrån den ***nx_ip_driver_direct_command*** tjänsten.</span><span class="sxs-lookup"><span data-stu-id="256d7-451">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="256d7-452">Driv rutinen lagrar länkens fel antal på den angivna destinationen.</span><span class="sxs-lookup"><span data-stu-id="256d7-452">The driver stores the link's error count in the supplied destination.</span></span> <span data-ttu-id="256d7-453">För att stödja den här funktionen måste driv rutinen spåra åtgärds fel.</span><span class="sxs-lookup"><span data-stu-id="256d7-453">To support this feature, the driver needs to track operation errors.</span></span> <span data-ttu-id="256d7-454">Följande NX_IP_DRIVER-medlemmar används för begäran om länk fel räkning.</span><span class="sxs-lookup"><span data-stu-id="256d7-454">The following NX_IP_DRIVER members are used for the link error count request.</span></span>

| <span data-ttu-id="256d7-455">NX_IP_DRIVER &nbsp; medlem</span><span class="sxs-lookup"><span data-stu-id="256d7-455">NX_IP_DRIVER&nbsp;member</span></span>   | <span data-ttu-id="256d7-456">Innebörd</span><span class="sxs-lookup"><span data-stu-id="256d7-456">Meaning</span></span>                   |
| --------------------------- | -------------------------------|
| <span data-ttu-id="256d7-457">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="256d7-457">nx_ip_driver_command</span></span>     | <span data-ttu-id="256d7-458">NX_LINK_GET_ERROR_COUNT</span><span class="sxs-lookup"><span data-stu-id="256d7-458">NX_LINK_GET_ERROR_COUNT</span></span>   |
| <span data-ttu-id="256d7-459">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-459">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="256d7-460">Pekare till IP-instans</span><span class="sxs-lookup"><span data-stu-id="256d7-460">Pointer to IP instance</span></span>   |
| <span data-ttu-id="256d7-461">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-461">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="256d7-462">Pekare till målet för att placera antalet fel</span><span class="sxs-lookup"><span data-stu-id="256d7-462">Pointer to the destination to place the error count</span></span> |
| <span data-ttu-id="256d7-463">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="256d7-463">nx_ip_driver_interface</span></span>   | <span data-ttu-id="256d7-464">Pekare till gränssnitts instansen</span><span class="sxs-lookup"><span data-stu-id="256d7-464">Pointer to the interface instance</span></span>|
| <span data-ttu-id="256d7-465">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="256d7-465">nx_ip_driver_status</span></span>      | <span data-ttu-id="256d7-466">Status för slut för ande.</span><span class="sxs-lookup"><span data-stu-id="256d7-466">Completion status.</span></span> <span data-ttu-id="256d7-467">Om driv rutinen inte kan hämta antalet fel, returnerar den en fel status som inte är noll.</span><span class="sxs-lookup"><span data-stu-id="256d7-467">If the driver is not able to get error count, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]
> <span data-ttu-id="256d7-468">*Den här begäran används inte internt av netx Duo, så dess implementering är valfri*.</span><span class="sxs-lookup"><span data-stu-id="256d7-468">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="get-receive-packet-count"></a><span data-ttu-id="256d7-469">Hämta antal mottagna paket</span><span class="sxs-lookup"><span data-stu-id="256d7-469">Get Receive Packet Count</span></span>    
<span data-ttu-id="256d7-470">Den här begäran görs inifrån den ***nx_ip_driver_direct_command*** tjänsten.</span><span class="sxs-lookup"><span data-stu-id="256d7-470">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="256d7-471">Driv rutinen lagrar länkens antal mottagna paket på det angivna målet.</span><span class="sxs-lookup"><span data-stu-id="256d7-471">The driver stores the link's receive packet count in the supplied destination.</span></span> <span data-ttu-id="256d7-472">För att stödja den här funktionen måste driv rutinen hålla koll på antalet mottagna paket.</span><span class="sxs-lookup"><span data-stu-id="256d7-472">To support this feature, the driver needs to keep track of the number of packets received.</span></span> <span data-ttu-id="256d7-473">Följande NX_IP_DRIVERs medlemmar används för begäran om att räkna antalet mottagna paket.</span><span class="sxs-lookup"><span data-stu-id="256d7-473">The following NX_IP_DRIVER members are used for the link receive packet count request.</span></span>

| <span data-ttu-id="256d7-474">NX_IP_DRIVER &nbsp; medlem</span><span class="sxs-lookup"><span data-stu-id="256d7-474">NX_IP_DRIVER&nbsp;member</span></span>       | <span data-ttu-id="256d7-475">Innebörd</span><span class="sxs-lookup"><span data-stu-id="256d7-475">Meaning</span></span>                        |
| --------------------------- | -------------------------------|
| <span data-ttu-id="256d7-476">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="256d7-476">nx_ip_driver_command</span></span>     | <span data-ttu-id="256d7-477">NX_LINK_GET_RX_COUNT</span><span class="sxs-lookup"><span data-stu-id="256d7-477">NX_LINK_GET_RX_COUNT</span></span>      |
| <span data-ttu-id="256d7-478">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-478">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="256d7-479">Pekare till IP-instans</span><span class="sxs-lookup"><span data-stu-id="256d7-479">Pointer to IP instance</span></span>  |
| <span data-ttu-id="256d7-480">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-480">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="256d7-481">Pekare till målet för att placera antalet mottagna paket</span><span class="sxs-lookup"><span data-stu-id="256d7-481">Pointer to the destination to place the receive packet count</span></span>   |
| <span data-ttu-id="256d7-482">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="256d7-482">nx_ip_driver_interface</span></span>   | <span data-ttu-id="256d7-483">Pekare till det fysiska nätverks gränssnittet</span><span class="sxs-lookup"><span data-stu-id="256d7-483">Pointer to the physical network interface</span></span>  |
| <span data-ttu-id="256d7-484">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="256d7-484">nx_ip_driver_status</span></span>      | <span data-ttu-id="256d7-485">Status för slut för ande.</span><span class="sxs-lookup"><span data-stu-id="256d7-485">Completion status.</span></span> <span data-ttu-id="256d7-486">Om driv rutinen inte kan få mottagnings antal, returnerar den en fel status som inte är noll.</span><span class="sxs-lookup"><span data-stu-id="256d7-486">If the driver is not able to get receive count, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="256d7-487">*Den här begäran används inte internt av netx Duo, så dess implementering är valfri*.</span><span class="sxs-lookup"><span data-stu-id="256d7-487">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="get-transmit-packet-count"></a><span data-ttu-id="256d7-488">Hämta antal sändnings paket</span><span class="sxs-lookup"><span data-stu-id="256d7-488">Get Transmit Packet Count</span></span>   
<span data-ttu-id="256d7-489">Den här begäran görs inifrån den ***nx_ip_driver_direct_command*** tjänsten.</span><span class="sxs-lookup"><span data-stu-id="256d7-489">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="256d7-490">Driv rutinen lagrar länkens antal överförings paket på den angivna destinationen.</span><span class="sxs-lookup"><span data-stu-id="256d7-490">The driver stores the link's transmit packet count in the supplied destination.</span></span> <span data-ttu-id="256d7-491">För att stödja den här funktionen måste driv rutinen hålla koll på varje paket som skickas till varje gränssnitt.</span><span class="sxs-lookup"><span data-stu-id="256d7-491">To support this feature, the driver needs to keep track of each packet it transmits on each interface.</span></span> <span data-ttu-id="256d7-492">Följande NX_IP_DRIVER-medlemmar används för begäran om antal länkar för att skicka paket.</span><span class="sxs-lookup"><span data-stu-id="256d7-492">The following  NX_IP_DRIVER members are used for the link transmit packet count request.</span></span>

| <span data-ttu-id="256d7-493">NX_IP_DRIVER &nbsp; medlem</span><span class="sxs-lookup"><span data-stu-id="256d7-493">NX_IP_DRIVER&nbsp;member</span></span>   | <span data-ttu-id="256d7-494">Innebörd</span><span class="sxs-lookup"><span data-stu-id="256d7-494">Meaning</span></span>                   |
| ----------------------- | ------------------------- |
| <span data-ttu-id="256d7-495">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="256d7-495">nx_ip_driver_command</span></span> | <span data-ttu-id="256d7-496">NX_LINK_GET_TX_COUNT</span><span class="sxs-lookup"><span data-stu-id="256d7-496">NX_LINK_GET_TX_COUNT</span></span>  |
| <span data-ttu-id="256d7-497">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-497">nx_ip_driver_ptr</span></span>     | <span data-ttu-id="256d7-498">Pekare till IP-instans</span><span class="sxs-lookup"><span data-stu-id="256d7-498">Pointer to IP instance</span></span>    |
| <span data-ttu-id="256d7-499">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-499">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="256d7-500">Pekare till målet för att placera antalet överförings paket</span><span class="sxs-lookup"><span data-stu-id="256d7-500">Pointer to the destination to place the transmit packet count</span></span>  |
| <span data-ttu-id="256d7-501">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="256d7-501">nx_ip_driver_interface</span></span>   | <span data-ttu-id="256d7-502">Pekare till gränssnitts instansen</span><span class="sxs-lookup"><span data-stu-id="256d7-502">Pointer to the interface instance</span></span>   |
| <span data-ttu-id="256d7-503">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="256d7-503">nx_ip_driver_status</span></span>      | <span data-ttu-id="256d7-504">Status för slut för ande.</span><span class="sxs-lookup"><span data-stu-id="256d7-504">Completion status.</span></span> <span data-ttu-id="256d7-505">Om driv rutinen inte kan hämta antal överföringar returneras en fel status som inte är noll.</span><span class="sxs-lookup"><span data-stu-id="256d7-505">If the driver is not able to get transmit count, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="256d7-506">*Den här begäran används inte internt av netx Duo, så dess implementering är valfri*.</span><span class="sxs-lookup"><span data-stu-id="256d7-506">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="get-allocation-errors"></a><span data-ttu-id="256d7-507">Hämta tilldelnings fel</span><span class="sxs-lookup"><span data-stu-id="256d7-507">Get Allocation Errors</span></span>   
<span data-ttu-id="256d7-508">Den här begäran görs inifrån den ***nx_ip_driver_direct_command*** tjänsten.</span><span class="sxs-lookup"><span data-stu-id="256d7-508">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="256d7-509">Driv rutinen lagrar länkens antal allokeringsfel tilldelnings fel på den angivna destinationen.</span><span class="sxs-lookup"><span data-stu-id="256d7-509">The driver stores the link's packet pool allocation error count in the supplied destination.</span></span> <span data-ttu-id="256d7-510">Följande NX_IP_DRIVERs medlemmar används för begäran om tilldelning av länk tilldelnings fel.</span><span class="sxs-lookup"><span data-stu-id="256d7-510">The following NX_IP_DRIVER members are used for the link allocation error count request.</span></span>

| <span data-ttu-id="256d7-511">NX_IP_DRIVER &nbsp; medlem</span><span class="sxs-lookup"><span data-stu-id="256d7-511">NX_IP_DRIVER&nbsp;member</span></span>       | <span data-ttu-id="256d7-512">Innebörd</span><span class="sxs-lookup"><span data-stu-id="256d7-512">Meaning</span></span>                       |
| --------------------------- | ----------------------------- |
| <span data-ttu-id="256d7-513">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="256d7-513">nx_ip_driver_command</span></span>     | <span data-ttu-id="256d7-514">NX_LINK_GET_ALLOC_ERRORS</span><span class="sxs-lookup"><span data-stu-id="256d7-514">NX_LINK_GET_ALLOC_ERRORS</span></span>  |
| <span data-ttu-id="256d7-515">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-515">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="256d7-516">Pekare till IP-instans</span><span class="sxs-lookup"><span data-stu-id="256d7-516">Pointer to IP instance</span></span>     |
| <span data-ttu-id="256d7-517">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-517">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="256d7-518">Pekare till målet för att placera tilldelnings fel antalet</span><span class="sxs-lookup"><span data-stu-id="256d7-518">Pointer to the destination to place the allocation error count</span></span>  |
| <span data-ttu-id="256d7-519">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="256d7-519">nx_ip_driver_interface</span></span>   | <span data-ttu-id="256d7-520">Pekare till gränssnitts instansen</span><span class="sxs-lookup"><span data-stu-id="256d7-520">Pointer to the interface instance</span></span>  |
| <span data-ttu-id="256d7-521">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="256d7-521">nx_ip_driver_status</span></span>      | <span data-ttu-id="256d7-522">Status för slut för ande.</span><span class="sxs-lookup"><span data-stu-id="256d7-522">Completion status.</span></span> <span data-ttu-id="256d7-523">Om driv rutinen inte kan hämta allokeringsfel, returnerar den en fel status som inte är noll.</span><span class="sxs-lookup"><span data-stu-id="256d7-523">If the driver is not able to get allocation errors, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="256d7-524">*Den här begäran används inte internt av netx Duo, så dess implementering är valfri*.</span><span class="sxs-lookup"><span data-stu-id="256d7-524">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="driver-deferred-processing"></a><span data-ttu-id="256d7-525">Driv rutin uppskjuten bearbetning</span><span class="sxs-lookup"><span data-stu-id="256d7-525">Driver Deferred Processing</span></span>    
<span data-ttu-id="256d7-526">Den här begäran görs från IP-hjälpens tråd som svar på den driv rutin som anropar _\* **nx_ip_driver_deferred_processing**_ rutinen från en överföring eller ta emot ISR.</span><span class="sxs-lookup"><span data-stu-id="256d7-526">This request is made from the IP helper thread in response to the driver calling the _\***nx_ip_driver_deferred_processing**_ routine from a transmit or receive ISR.</span></span> <span data-ttu-id="256d7-527">Detta gör att driv rutinen ISR kan skjuta upp paket mottagningen och skicka bearbetningen till IP-hjälpen och därmed minska mängden att bearbeta i ISR.</span><span class="sxs-lookup"><span data-stu-id="256d7-527">This allows the driver ISR to defer the packet receive and transmit processing to the IP helper thread and thus reduce the amount to process in the ISR.</span></span> <span data-ttu-id="256d7-528">Fältet _nx_interface_additional_link_info \* i NX_INTERFACE-strukturen som anges av *nx_ip_driver_interface* kan användas av driv rutinen för att lagra information om den uppskjutna bearbetnings händelsen från tråd kontexten för IP-hjälp.</span><span class="sxs-lookup"><span data-stu-id="256d7-528">The _nx_interface_additional_link_info\* field in the NX_INTERFACE structure pointed to by *nx_ip_driver_interface* may be used by the driver to store information about the deferred processing event from the IP helper thread context.</span></span> <span data-ttu-id="256d7-529">Följande NX_IP_DRIVERs medlemmar används för den uppskjutna bearbetnings händelsen.</span><span class="sxs-lookup"><span data-stu-id="256d7-529">The following  NX_IP_DRIVER members are used for the deferred processing event.</span></span>

| <span data-ttu-id="256d7-530">NX_IP_DRIVER &nbsp; medlem</span><span class="sxs-lookup"><span data-stu-id="256d7-530">NX_IP_DRIVER&nbsp;member</span></span>     | <span data-ttu-id="256d7-531">Innebörd</span><span class="sxs-lookup"><span data-stu-id="256d7-531">Meaning</span></span>                           |
| ------------------------- | --------------------------------- |
| <span data-ttu-id="256d7-532">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="256d7-532">nx_ip_driver_command</span></span>   | <span data-ttu-id="256d7-533">NX_LINK_DEFERRED_PROCESSING</span><span class="sxs-lookup"><span data-stu-id="256d7-533">NX_LINK_DEFERRED_PROCESSING</span></span>    |
| <span data-ttu-id="256d7-534">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-534">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="256d7-535">Pekare till IP-instans</span><span class="sxs-lookup"><span data-stu-id="256d7-535">Pointer to IP instance</span></span>            |
| <span data-ttu-id="256d7-536">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="256d7-536">nx_ip_driver_interface</span></span> | <span data-ttu-id="256d7-537">Pekare till gränssnitts instansen</span><span class="sxs-lookup"><span data-stu-id="256d7-537">Pointer to the interface instance</span></span> |

### <a name="set-physical-address"></a><span data-ttu-id="256d7-538">Ange fysisk adress</span><span class="sxs-lookup"><span data-stu-id="256d7-538">Set Physical Address</span></span>  
<span data-ttu-id="256d7-539">Den här begäran görs inifrån \***nx_ip_interface_physical_address_set** _-tjänsten.</span><span class="sxs-lookup"><span data-stu-id="256d7-539">This request is made from within the \***nx_ip_interface_physical_address_set** _ service.</span></span> <span data-ttu-id="256d7-540">Med den här tjänsten kan ett program ändra den fysiska gränssnitts adressen vid körning.</span><span class="sxs-lookup"><span data-stu-id="256d7-540">This service allows an application to change the interface physical address at run time.</span></span> <span data-ttu-id="256d7-541">Vid mottagning av det här kommandot krävs driv rutinen för att omkonfigurera maskin varu adressen för nätverks gränssnittet till den angivna fysiska adressen.</span><span class="sxs-lookup"><span data-stu-id="256d7-541">On receiving this command, the driver is required to re-configure the hardware address of the network interface to the supplied physical address.</span></span> <span data-ttu-id="256d7-542">Eftersom IP-instansen redan har den nya adressen behöver du inte anropa tjänsten _ *_nx_ip_interface_address_set_*\* från det här kommandot.</span><span class="sxs-lookup"><span data-stu-id="256d7-542">Since the IP instance already has the new address, there is no need to call the _ *_nx_ip_interface_address_set_*\* service from this command.</span></span>

<span data-ttu-id="256d7-543">Följande NX_IP_DRIVER-medlemmar används för begäran om användar kommando.</span><span class="sxs-lookup"><span data-stu-id="256d7-543">The following NX_IP_DRIVER members are used for the user command request.</span></span>

| <span data-ttu-id="256d7-544">NX_IP_DRIVER &nbsp; medlem</span><span class="sxs-lookup"><span data-stu-id="256d7-544">NX_IP_DRIVER&nbsp;member</span></span>      | <span data-ttu-id="256d7-545">Innebörd</span><span class="sxs-lookup"><span data-stu-id="256d7-545">Meaning</span></span>                      |
| -------------------------- | ---------------------------- |
| <span data-ttu-id="256d7-546">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="256d7-546">nx_ip_driver_command</span></span>    | <span data-ttu-id="256d7-547">NX_LINK_SET_PHYSICAL_ADDRESS</span><span class="sxs-lookup"><span data-stu-id="256d7-547">NX_LINK_SET_PHYSICAL_ADDRESS</span></span>  |
| <span data-ttu-id="256d7-548">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-548">nx_ip_driver_ptr</span></span>        | <span data-ttu-id="256d7-549">Pekare till IP-instans</span><span class="sxs-lookup"><span data-stu-id="256d7-549">Pointer to IP instance</span></span>  |
| <span data-ttu-id="256d7-550">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="256d7-550">nx_ip_driver_interface</span></span>  | <span data-ttu-id="256d7-551">Pekare till gränssnitts instansen</span><span class="sxs-lookup"><span data-stu-id="256d7-551">Pointer to the interface instance</span></span>   |
| <span data-ttu-id="256d7-552">nx_ip_driver_physical_ad dress_msw</span><span class="sxs-lookup"><span data-stu-id="256d7-552">nx_ip_driver_physical_ad dress_msw</span></span> | <span data-ttu-id="256d7-553">Mest signifikanta 32 bitar av den nya fysiska adressen</span><span class="sxs-lookup"><span data-stu-id="256d7-553">Most significant 32-bits of the new physical address</span></span>  |
| <span data-ttu-id="256d7-554">nx_ip_driver_physical_ad dress_lsw</span><span class="sxs-lookup"><span data-stu-id="256d7-554">nx_ip_driver_physical_ad dress_lsw</span></span> | <span data-ttu-id="256d7-555">Minst signifikant 32-bitar av den nya fysiska adressen</span><span class="sxs-lookup"><span data-stu-id="256d7-555">Least significant 32-bits of the new physical address</span></span>  |
| <span data-ttu-id="256d7-556">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="256d7-556">nx_ip_driver_status</span></span>                  | <span data-ttu-id="256d7-557">Status för slut för ande.</span><span class="sxs-lookup"><span data-stu-id="256d7-557">Completion status.</span></span> <span data-ttu-id="256d7-558">Om driv rutinen inte kan konfigurera om den fysiska adressen kommer den att returnera en fel status som inte är noll.</span><span class="sxs-lookup"><span data-stu-id="256d7-558">If the driver is not able to reconfigure the physical address, it will return a non-zero error status.</span></span> |

### <a name="user-commands"></a><span data-ttu-id="256d7-559">Användar kommandon</span><span class="sxs-lookup"><span data-stu-id="256d7-559">User Commands</span></span>    
<span data-ttu-id="256d7-560">Den här begäran görs inifrån den ***nx_ip_driver_direct_command*** tjänsten.</span><span class="sxs-lookup"><span data-stu-id="256d7-560">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="256d7-561">Driv rutinen bearbetar programspecifika användar kommandon.</span><span class="sxs-lookup"><span data-stu-id="256d7-561">The driver processes the application specific user commands.</span></span> <span data-ttu-id="256d7-562">Följande NX_IP_DRIVER-medlemmar används för begäran om användar kommando.</span><span class="sxs-lookup"><span data-stu-id="256d7-562">The following NX_IP_DRIVER members are used for the user command request.</span></span>

| <span data-ttu-id="256d7-563">NX_IP_DRIVER &nbsp; medlem</span><span class="sxs-lookup"><span data-stu-id="256d7-563">NX_IP_DRIVER&nbsp;member</span></span>       | <span data-ttu-id="256d7-564">Innebörd</span><span class="sxs-lookup"><span data-stu-id="256d7-564">Meaning</span></span>                       |
| --------------------------- | ----------------------------- |
| <span data-ttu-id="256d7-565">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="256d7-565">nx_ip_driver_command</span></span>     | <span data-ttu-id="256d7-566">NX_LINK_USER_COMMAND</span><span class="sxs-lookup"><span data-stu-id="256d7-566">NX_LINK_USER_COMMAND</span></span>       |
| <span data-ttu-id="256d7-567">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-567">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="256d7-568">Pekare till IP-instans</span><span class="sxs-lookup"><span data-stu-id="256d7-568">Pointer to IP instance</span></span>        |
| <span data-ttu-id="256d7-569">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="256d7-569">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="256d7-570">Användardefinierad</span><span class="sxs-lookup"><span data-stu-id="256d7-570">User defined</span></span>       |
| <span data-ttu-id="256d7-571">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="256d7-571">nx_ip_driver_interface</span></span>   | <span data-ttu-id="256d7-572">Pekare till gränssnitts instansen</span><span class="sxs-lookup"><span data-stu-id="256d7-572">Pointer to the interface instance</span></span>    |
| <span data-ttu-id="256d7-573">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="256d7-573">nx_ip_driver_status</span></span>      | <span data-ttu-id="256d7-574">Status för slut för ande.</span><span class="sxs-lookup"><span data-stu-id="256d7-574">Completion status.</span></span> <span data-ttu-id="256d7-575">Om driv rutinen inte kan köra användar kommandon returnerar den en fel status som inte är noll.</span><span class="sxs-lookup"><span data-stu-id="256d7-575">If the driver is not able to execute user commands, it will return a non-zero error status.</span></span> |

> [!IMPORTANT] 
> <span data-ttu-id="256d7-576">*Den här begäran används inte internt av netx Duo, så dess implementering är valfri*.</span><span class="sxs-lookup"><span data-stu-id="256d7-576">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="unimplemented-commands"></a><span data-ttu-id="256d7-577">Ej implementerade kommandon</span><span class="sxs-lookup"><span data-stu-id="256d7-577">Unimplemented Commands</span></span>  
<span data-ttu-id="256d7-578">Kommandona som inte implementeras av nätverks driv rutinen måste ha värdet NX_UNHANDLED_COMMAND i fältet retur status.</span><span class="sxs-lookup"><span data-stu-id="256d7-578">Commands unimplemented by the network driver must have the return status field set to NX_UNHANDLED_COMMAND.</span></span>

## <a name="driver-capability"></a><span data-ttu-id="256d7-579">Driv rutins kapacitet</span><span class="sxs-lookup"><span data-stu-id="256d7-579">Driver Capability</span></span>

<span data-ttu-id="256d7-580">Vissa nätverks gränssnitt erbjuder avlastnings funktioner för kontroll summa.</span><span class="sxs-lookup"><span data-stu-id="256d7-580">Some network interfaces offer checksum offload features.</span></span> <span data-ttu-id="256d7-581">Enhets driv rutiner kan dra nytta av maskin varu accelerationerna för att frigöra CPU-tid från att köra olika beräkningar av kontroll summor.</span><span class="sxs-lookup"><span data-stu-id="256d7-581">Device drivers may take advantage of the hardware accelerations to free up CPU time from running various checksum computations.</span></span>

<span data-ttu-id="256d7-582">Beroende på maskin varans stöd för kontroll summa för maskin vara måste enhets driv rutinen informera IP-instansen som maskin varu funktionen är aktive rad för.</span><span class="sxs-lookup"><span data-stu-id="256d7-582">Depending the level of hardware checksum support from the hardware, the device driver needs to inform the IP instance which hardware feature is enabled.</span></span> <span data-ttu-id="256d7-583">På så sätt kan IP-instansen vara medveten om maskin varu funktionen och avlasta så mycket beräkning till maskin varan som möjligt.</span><span class="sxs-lookup"><span data-stu-id="256d7-583">This way, the IP instance is aware of the hardware feature, and offload as much computation to the hardware as possible.</span></span> <span data-ttu-id="256d7-584">Driv rutinen ska använda API- ***nx_ip_interface_capability_set*** för att ange alla funktioner som det fysiska gränssnittet kan hantera.</span><span class="sxs-lookup"><span data-stu-id="256d7-584">The driver should use the API ***nx_ip_interface_capability_set*** to set all the features the physical interface is able to handle.</span></span>

<span data-ttu-id="256d7-585">Följande funktioner kan användas:</span><span class="sxs-lookup"><span data-stu-id="256d7-585">The following features can be used:</span></span>

- <span data-ttu-id="256d7-586">NX_INTERFACE_CAPABILITY_IPV4_TX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="256d7-586">NX_INTERFACE_CAPABILITY_IPV4_TX_CHECKSUM</span></span>
- <span data-ttu-id="256d7-587">NX_INTERFACE_CAPABILITY_IPV4_RX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="256d7-587">NX_INTERFACE_CAPABILITY_IPV4_RX_CHECKSUM</span></span>
- <span data-ttu-id="256d7-588">NX_INTERFACE_CAPABILITY_TCP_TX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="256d7-588">NX_INTERFACE_CAPABILITY_TCP_TX_CHECKSUM</span></span>
- <span data-ttu-id="256d7-589">NX_INTERFACE_CAPABILITY_TCP_RX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="256d7-589">NX_INTERFACE_CAPABILITY_TCP_RX_CHECKSUM</span></span>
- <span data-ttu-id="256d7-590">NX_INTERFACE_CAPABILITY_UDP_TX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="256d7-590">NX_INTERFACE_CAPABILITY_UDP_TX_CHECKSUM</span></span>
- <span data-ttu-id="256d7-591">NX_INTERFACE_CAPABILITY_UDP_RX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="256d7-591">NX_INTERFACE_CAPABILITY_UDP_RX_CHECKSUM</span></span>
- <span data-ttu-id="256d7-592">NX_INTERFACE_CAPABILITY_ICMPV4_TX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="256d7-592">NX_INTERFACE_CAPABILITY_ICMPV4_TX_CHECKSUM</span></span>
- <span data-ttu-id="256d7-593">NX_INTERFACE_CAPABILITY_ICMPV4_RX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="256d7-593">NX_INTERFACE_CAPABILITY_ICMPV4_RX_CHECKSUM</span></span>
- <span data-ttu-id="256d7-594">NX_INTERFACE_CAPABILITY_ICMPV6_TX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="256d7-594">NX_INTERFACE_CAPABILITY_ICMPV6_TX_CHECKSUM</span></span>
- <span data-ttu-id="256d7-595">NX_INTERFACE_CAPABILITY_ICMPV6_RX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="256d7-595">NX_INTERFACE_CAPABILITY_ICMPV6_RX_CHECKSUM</span></span>
- <span data-ttu-id="256d7-596">NX_INTERFACE_CAPABILITY_IGMP_TX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="256d7-596">NX_INTERFACE_CAPABILITY_IGMP_TX_CHECKSUM</span></span>
- <span data-ttu-id="256d7-597">NX_INTERFACE_CAPABILITY_IGMP_RX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="256d7-597">NX_INTERFACE_CAPABILITY_IGMP_RX_CHECKSUM</span></span>

<span data-ttu-id="256d7-598">För en beräkning av kontroll summa som kan utföras i maskin vara, måste driv rutinen konfigurera maskin varan eller buffertens beskrivningar korrekt så att kontroll summan för ett pågående paket kan genereras och infogas i rubriken av maskin varan.</span><span class="sxs-lookup"><span data-stu-id="256d7-598">For a checksum computation that can be performed in hardware, the driver must set up the hardware or the buffer descriptors correctly so the checksum for an out-going packet can be generated and inserted into the header by the hardware.</span></span> <span data-ttu-id="256d7-599">Vid mottagning av ett paket bör logiken för maskin varu kontroll kunna verifiera värdet för kontroll summan.</span><span class="sxs-lookup"><span data-stu-id="256d7-599">On receiving a packet, the hardware checksum logic should be able to verify the checksum value.</span></span> <span data-ttu-id="256d7-600">Om värdet för kontroll summan är felaktigt ska den mottagna ramen tas bort.</span><span class="sxs-lookup"><span data-stu-id="256d7-600">If the checksum value is incorrect, the received frame should be discarded.</span></span>

<span data-ttu-id="256d7-601">Även om möjligheten att utföra beräkning av kontroll summa i maskin vara, behåller IP-instansen fortfarande kontroll summa.</span><span class="sxs-lookup"><span data-stu-id="256d7-601">Even with the capability of performing checksum computation in hardware, the IP instance still maintains the checksum capability.</span></span> <span data-ttu-id="256d7-602">I vissa scenarier, t. ex. ett UDP-datagram som går via IPsec-skydd, måste UDP-kontrollsumman beräknas i program vara innan UDP-ramen skickas nedåt i stacken.</span><span class="sxs-lookup"><span data-stu-id="256d7-602">In certain scenarios, for example a UDP datagram going through IPsec protection, the UDP checksum must be computed in software before passing the UDP frame down the stack.</span></span> <span data-ttu-id="256d7-603">De flesta maskin varu kontroll summor har inte stöd för beräkning av kontroll summa för ett data segment som skyddas av IPsec.</span><span class="sxs-lookup"><span data-stu-id="256d7-603">Most hardware checksum feature does not support checksum computation for a segment of data protected by IPsec.</span></span> <span data-ttu-id="256d7-604">För en UDP-eller ICMP-ram som behöver fragmenteras måste UDP-eller ICMP-kontrollsumma beräknas i program varan.</span><span class="sxs-lookup"><span data-stu-id="256d7-604">For a UDP or ICMP frame that needs to be fragmented, the UDP or ICMP checksum needs to be computed in software.</span></span> <span data-ttu-id="256d7-605">De flesta logiska maskin varu kontrollers logik hanterar inte det fall där data delas upp i flera ramar.</span><span class="sxs-lookup"><span data-stu-id="256d7-605">Most hardware checksum logic does not handle the case where the data is split into multiple frames.</span></span>

## <a name="driver-output"></a><span data-ttu-id="256d7-606">Driv rutins utdata</span><span class="sxs-lookup"><span data-stu-id="256d7-606">Driver Output</span></span>  

<span data-ttu-id="256d7-607">Alla tidigare nämnda paket överförings begär Anden kräver en output-funktion som implementeras i driv rutinen.</span><span class="sxs-lookup"><span data-stu-id="256d7-607">All previously mentioned packet transmit requests require an output function implemented in the driver.</span></span> <span data-ttu-id="256d7-608">En speciell överförings logik är maskin varu information, men den består vanligt vis av att kontrol lera maskin varu kapaciteten för att skicka paketet omedelbart.</span><span class="sxs-lookup"><span data-stu-id="256d7-608">Specific transmit logic is hardware specific, but it usually consists of checking for hardware capacity to send the packet immediately.</span></span> <span data-ttu-id="256d7-609">Om möjligt läses paketets nytto Last (och ytterligare nytto laster i paket kedjan) in i en eller flera buffertar för maskin varu överföring och en överförings åtgärd initieras.</span><span class="sxs-lookup"><span data-stu-id="256d7-609">If possible, the packet payload (and additional payloads in the packet  chain) are loaded into one or more of the hardware transmit buffers and a transmit operation is initiated.</span></span> <span data-ttu-id="256d7-610">Om paketet inte ryms i tillgängliga överföringsbuffert, ska paketet placeras i kö och skickas när överförings buffertarna blir tillgängliga.</span><span class="sxs-lookup"><span data-stu-id="256d7-610">If the packet won't fit in the available transmit buffers, the packet should be queued, and be transmitted when the transmission buffers become available.</span></span>

<span data-ttu-id="256d7-611">Den rekommenderade överförings kön är en länkad lista med både huvud-och slut punkter.</span><span class="sxs-lookup"><span data-stu-id="256d7-611">The recommended transmit queue is a singly linked list, having both head and tail pointers.</span></span> <span data-ttu-id="256d7-612">Nya paket läggs till i slutet av kön och behåller det äldsta paketet längst fram.</span><span class="sxs-lookup"><span data-stu-id="256d7-612">New packets are added to the end of the queue, keeping the oldest packet at the front.</span></span> <span data-ttu-id="256d7-613">Fältet *nx_packet_queue_next* används som paketets nästa länk i kön.</span><span class="sxs-lookup"><span data-stu-id="256d7-613">The *nx_packet_queue_next* field is used as the packet's next link in the queue.</span></span> <span data-ttu-id="256d7-614">Driv rutinen definierar huvud-och slut punkterna i överförings kön.</span><span class="sxs-lookup"><span data-stu-id="256d7-614">The driver defines the head and tail pointers of the transmit queue.</span></span>

> [!CAUTION]  
> <span data-ttu-id="256d7-615">*Eftersom den här kön nås från tråden och avbryter delar av driv rutinen måste avbrotts skyddet placeras runt köns manipulering*.</span><span class="sxs-lookup"><span data-stu-id="256d7-615">*Because this queue is accessed from thread and interrupt portions of the driver, interrupt protection must be placed around the queue manipulations*.</span></span>

<span data-ttu-id="256d7-616">De flesta fysiska maskin varu implementeringar genererar ett avbrott vid slut för ande av paket överföring.</span><span class="sxs-lookup"><span data-stu-id="256d7-616">Most physical hardware implementations generate an interrupt upon packet transmit completion.</span></span> <span data-ttu-id="256d7-617">När driv rutinen tar emot ett sådant avbrott, frigör den vanligen de resurser som är associerade med paketet som skickas.</span><span class="sxs-lookup"><span data-stu-id="256d7-617">When the driver receives such an interrupt, it typically releases the resources associated with the packet just being transmitted.</span></span> <span data-ttu-id="256d7-618">Om överförings logiken läser data direkt från NX_PACKET-bufferten bör driv rutinen använda tjänsten ***nx_packet_transmit_release*** för att frigöra paketet som associeras med överföringen slutförs tillbaka till den tillgängliga poolen.</span><span class="sxs-lookup"><span data-stu-id="256d7-618">In case the transmit logic reads data directly from the NX_PACKET buffer, the driver should use the ***nx_packet_transmit_release*** service to release the packet associated with the transmit complete interrupt back to the available packet pool.</span></span> <span data-ttu-id="256d7-619">Därefter undersöker driv rutinen överförings kön för ytterligare paket som väntar på att skickas.</span><span class="sxs-lookup"><span data-stu-id="256d7-619">Next, the driver examines the transmit queue for additional packets waiting to be sent.</span></span> <span data-ttu-id="256d7-620">Så många av de köade överförings paket som passar i de köade överförings-och maskin varu buffertarna placeras de i kö och läses in i buffertarna.</span><span class="sxs-lookup"><span data-stu-id="256d7-620">As many of the queued transmit packets that fit into the hardware transmit buffer(s) are de-queued and loaded into the buffers.</span></span> <span data-ttu-id="256d7-621">Detta följs genom att en annan sändnings åtgärd initieras.</span><span class="sxs-lookup"><span data-stu-id="256d7-621">This is followed by initiation of another send operation.</span></span>

<span data-ttu-id="256d7-622">Så snart data i NX_PACKET har flyttats till sändnings-FIFO (eller om en driv rutin stöder noll kopierings åtgärd NX_PACKET, så måste driv rutinen flytta *nx_packet_prepend_ptr* till början av IP-huvudet innan du anropar \***nx_packet_transmit_release.** _ Kom ihåg att justera _nx_packet_length \* fält enligt detta.</span><span class="sxs-lookup"><span data-stu-id="256d7-622">As soon as the data in the NX_PACKET has been moved into the transmitter FIFO (or in case a driver supports zero-copy operation, the data in NX_PACKET has been transmitted), the driver must move the *nx_packet_prepend_ptr* to the beginning of the IP header before calling ***nx_packet_transmit_release.** _ Remember to adjust _nx_packet_length* field accordingly.</span></span> <span data-ttu-id="256d7-623">Om en IP-ram består av flera paket måste endast huvudet i paket kedjan släppas.</span><span class="sxs-lookup"><span data-stu-id="256d7-623">If an IP frame is made up of multiple packets, only the head of the packet chain needs to be released.</span></span>

## <a name="driver-input"></a><span data-ttu-id="256d7-624">Driv rutins Indatatyp</span><span class="sxs-lookup"><span data-stu-id="256d7-624">Driver Input</span></span>

<span data-ttu-id="256d7-625">Vid mottagning av mottagna paket avbrott hämtar nätverks driv rutinen paketet från den fysiska maskin varan som tar emot buffertar och skapar ett giltigt NetX Duo-paket.</span><span class="sxs-lookup"><span data-stu-id="256d7-625">Upon reception of a received packet interrupt, the network driver retrieves the packet from the physical hardware receive buffers and builds a valid NetX Duo packet.</span></span> <span data-ttu-id="256d7-626">Genom att skapa ett giltigt NetX Duo-paket kan du konfigurera lämpligt längd fält och kedja samman flera paket om det inkommande paketets storlek är större än en enda paket nytto Last.</span><span class="sxs-lookup"><span data-stu-id="256d7-626">Building a valid NetX Duo packet involves setting up the appropriate length field and chaining together multiple packets if the incoming packet's size is greater than a single packet payload.</span></span> <span data-ttu-id="256d7-627">När den väl har skapats flyttas *prepend_ptr* efter den fysiska skikt rubriken och mottagnings paketet skickas till netx Duo.</span><span class="sxs-lookup"><span data-stu-id="256d7-627">Once properly built, the *prepend_ptr* is moved after the physical layer header and the receive packet is dispatched to NetX Duo.</span></span>

<span data-ttu-id="256d7-628">NetX Duo förutsätter att IP (IPv4 och IPv6) och ARP-huvuden är justerade efter en **ulong** -gränser.</span><span class="sxs-lookup"><span data-stu-id="256d7-628">NetX Duo assumes that the IP (IPv4 and IPv6) and ARP headers are aligned on a **ULONG** boundary.</span></span> <span data-ttu-id="256d7-629">NetX Duo-drivrutinen måste därför se till att den här justeringen.</span><span class="sxs-lookup"><span data-stu-id="256d7-629">The NetX Duo driver must, therefore, ensure this alignment.</span></span> <span data-ttu-id="256d7-630">I Ethernet-miljöer görs detta genom att du startar Ethernet-huvudet två byte från paketets början.</span><span class="sxs-lookup"><span data-stu-id="256d7-630">In Ethernet environments this is done by starting the Ethernet header two bytes from the beginning of the packet.</span></span> <span data-ttu-id="256d7-631">När *nx_packet_prepend_ptr* flyttas bortom Ethernet-huvudet, är den underliggande IP-adressen (IPv4 och IPv6) eller ARP-huvudet 4-byte-justerad.</span><span class="sxs-lookup"><span data-stu-id="256d7-631">When the *nx_packet_prepend_ptr* is moved beyond the Ethernet header, the underlying IP (IPv4 and IPv6) or ARP header is 4-byte aligned.</span></span>

> [!WARNING] 
> <span data-ttu-id="256d7-632">*Se avsnittet "Ethernet-rubriker" nedan för viktiga skillnader mellan IPv6-och IPv6-Ethernet-huvuden*.</span><span class="sxs-lookup"><span data-stu-id="256d7-632">*See the section "Ethernet Headers" below for important differences between IPv6 and IPv6 Ethernet headers*.</span></span>

<span data-ttu-id="256d7-633">Det finns flera mottagna paket funktioner i NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="256d7-633">There are several receive packet functions available in NetX Duo.</span></span> <span data-ttu-id="256d7-634">Om det mottagna paketet är ett ARP-paket anropas _\* **nx_arp_packet_deferred_receive**_ .</span><span class="sxs-lookup"><span data-stu-id="256d7-634">If the received packet is an ARP packet, _\***nx_arp_packet_deferred_receive**_ is called.</span></span> <span data-ttu-id="256d7-635">Om det mottagna paketet är ett RARP-paket anropas _ _*_nx_rarp_packet_deferred_receive_*_ .</span><span class="sxs-lookup"><span data-stu-id="256d7-635">If the received packet is an RARP packet, _ _*_nx_rarp_packet_deferred_receive_*_ is called.</span></span> <span data-ttu-id="256d7-636">Det finns flera alternativ för att hantera inkommande IP-paket.</span><span class="sxs-lookup"><span data-stu-id="256d7-636">There are several options for handling incoming IP packets.</span></span> <span data-ttu-id="256d7-637">För den snabbaste hanteringen av IP-paket, anropas _ _*_nx_ip_packet_receive_*_ .</span><span class="sxs-lookup"><span data-stu-id="256d7-637">For the fastest handling of IP packets, _ _*_nx_ip_packet_receive_*_ is called.</span></span> <span data-ttu-id="256d7-638">Den här metoden har minst extra kostnader men kräver mer bearbetning i driv Rutinens tjänst hanterare för mottagnings avbrott (ISR).</span><span class="sxs-lookup"><span data-stu-id="256d7-638">This approach has the least overhead, but requires more processing in the driver's receive interrupt service handler (ISR).</span></span> <span data-ttu-id="256d7-639">För minimal ISR-bearbetning är _ @*_nx_ip_packet_deferred_receive_*\* anropas.</span><span class="sxs-lookup"><span data-stu-id="256d7-639">For minimal ISR processing __ *_nx_ip_packet_deferred_receive_*\* is called.</span></span>

<span data-ttu-id="256d7-640">När det nya mottagnings paketet har skapats korrekt är den fysiska maskin varans mottagningsbuffertar installations program för att ta emot mer data.</span><span class="sxs-lookup"><span data-stu-id="256d7-640">After the new receive packet is properly built, the physical hardware's receive buffers are setup to receive more data.</span></span> <span data-ttu-id="256d7-641">Detta kan kräva att du tilldelar NetX Duo-paket och placerar nytto Last adressen i den mottagande bufferten för maskin vara, eller att du bara behöver ändra en inställning i bufferten för maskin vara.</span><span class="sxs-lookup"><span data-stu-id="256d7-641">This might require allocating NetX Duo packets and placing the payload address in the hardware receive buffer or it may simply amount to changing a setting in the hardware receive buffer.</span></span> <span data-ttu-id="256d7-642">För att minimera överskridnings möjligheterna är det viktigt att maskin varans mottagande buffertar har tillgängliga buffertar så snart som möjligt efter det att ett paket har mottagits.</span><span class="sxs-lookup"><span data-stu-id="256d7-642">To minimize overrun possibilities, it is important that the hardware's receive buffers have available buffers as soon as possible after a packet is received.</span></span>

> [!IMPORTANT] 
> <span data-ttu-id="256d7-643">*De första mottagningsbuffertar installeras när driv rutinen initieras*.</span><span class="sxs-lookup"><span data-stu-id="256d7-643">*The initial receive buffers are setup during driver initialization*.</span></span>

### <a name="deferred-receive-packet-handling"></a><span data-ttu-id="256d7-644">Uppskjuten mottagning av paket hantering</span><span class="sxs-lookup"><span data-stu-id="256d7-644">Deferred Receive Packet Handling</span></span>  
<span data-ttu-id="256d7-645">Driv rutinen kan skjuta upp mottagning av paket bearbetning till NetX Duo IP Helper-tråden.</span><span class="sxs-lookup"><span data-stu-id="256d7-645">The driver may defer receive packet processing to the NetX Duo IP helper thread.</span></span> <span data-ttu-id="256d7-646">För vissa program kan detta vara nödvändigt för att minimera ISR-bearbetning samt ignorerade paket.</span><span class="sxs-lookup"><span data-stu-id="256d7-646">For some applications this may be necessary to minimize ISR processing as well as dropped packets.</span></span> 

<span data-ttu-id="256d7-647">Om du vill använda uppskjuten paket hantering måste NetX Duo-biblioteket först kompileras med \***NX_DRIVER_DEFERRED_PROCESSING** _ definierade.</span><span class="sxs-lookup"><span data-stu-id="256d7-647">To use deferred packet handling, the NetX Duo library must first be compiled with \***NX_DRIVER_DEFERRED_PROCESSING** _ defined.</span></span> <span data-ttu-id="256d7-648">Detta lägger till den uppskjutna paket logiken i NetX Duo IP Helper-tråden.</span><span class="sxs-lookup"><span data-stu-id="256d7-648">This adds the deferred packet logic to the NetX Duo IP helper thread.</span></span> <span data-ttu-id="256d7-649">Därefter måste driv rutinen anropa __nx_ip_packet_deferred_receive () för att ta emot ett data paket:\*</span><span class="sxs-lookup"><span data-stu-id="256d7-649">Next, on receiving a data packet, the driver must call __nx_ip_packet_deferred_receive():\*</span></span>

```c
_nx_ip_packet_deferred_receive(ip_ptr, packet_ptr);
```
<span data-ttu-id="256d7-650">Funktionen för uppskjuten mottagning placerar det mottagna paketet som representeras av *packet_ptr* på en FIFO (länkad lista) och meddelar IP-hjälpens tråd.</span><span class="sxs-lookup"><span data-stu-id="256d7-650">The deferred receive function places the receive packet represented by *packet_ptr* on a FIFO (linked list) and notifies the IP helper thread.</span></span> <span data-ttu-id="256d7-651">Efter körningen anropar IP-hjälpen upprepade gånger den uppskjutna hanterings funktionen för att bearbeta varje uppskjutet paket.</span><span class="sxs-lookup"><span data-stu-id="256d7-651">After executing, the IP helper repetitively calls the deferred handling function to process each deferred packet.</span></span> <span data-ttu-id="256d7-652">Bearbetningen av uppskjuten hanterare tar vanligt vis bort paketets fysiska lager rubrik (vanligt vis Ethernet) och skickar den till någon av dessa NetX Duo-mottagnings funktioner:</span><span class="sxs-lookup"><span data-stu-id="256d7-652">The deferred handler processing typically includes removing the packet's physical layer header (usually Ethernet) and dispatching it to one of these NetX Duo receive functions:</span></span>

- <span data-ttu-id="256d7-653">***_nx_ip_packet_receive***</span><span class="sxs-lookup"><span data-stu-id="256d7-653">***_nx_ip_packet_receive***</span></span>
- <span data-ttu-id="256d7-654">***_nx_arp_packet_deferred_receive***</span><span class="sxs-lookup"><span data-stu-id="256d7-654">***_nx_arp_packet_deferred_receive***</span></span>
- <span data-ttu-id="256d7-655">***_nx_rarp_packet_deferred_receive***</span><span class="sxs-lookup"><span data-stu-id="256d7-655">***_nx_rarp_packet_deferred_receive***</span></span>

## <a name="ethernet-headers"></a><span data-ttu-id="256d7-656">Ethernet-rubriker</span><span class="sxs-lookup"><span data-stu-id="256d7-656">Ethernet Headers</span></span> 

<span data-ttu-id="256d7-657">En av de viktigaste skillnaderna mellan IPv6 och IPv4 för Ethernet-huvuden är ramtypen.</span><span class="sxs-lookup"><span data-stu-id="256d7-657">One of the most significant differences between IPv6 and IPv4 for Ethernet Headers is the frame type setting.</span></span> <span data-ttu-id="256d7-658">När du skickar ut paket ansvarar Ethernet-drivrutinen för att ställa in Ethernet-ramtypen i utgående paket.</span><span class="sxs-lookup"><span data-stu-id="256d7-658">When sending out packets, the Ethernet driver is responsible for setting the Ethernet frame type in outgoing packets.</span></span> <span data-ttu-id="256d7-659">För IPv6-paket ska ramtypen vara 0x86DD; för IPv4-paket ska ramtypen vara 0x0800.</span><span class="sxs-lookup"><span data-stu-id="256d7-659">For IPv6 packets, the frame type should be 0x86DD; for IPv4 packets, the frame type should be 0x0800.</span></span>

<span data-ttu-id="256d7-660">Följande kod segment illustrerar den här processen:</span><span class="sxs-lookup"><span data-stu-id="256d7-660">The following code segment illustrates this process:</span></span>

```c
NX_PACKET *packet_ptr;
packet_ptr = driver_req_ptr -> nx_ip_driver_packet;
if (packet_ptr -> nx_packet_ip_version == NX_IP_VERSION_V4)
{

   /* Set Ethernet frame type to IPv4 /*
   ethernet_frame_ptr -> frame_type = 0x0800;

   /* Swap endian-ness for little endian targets.*/
   NX_CHANGE_USHORT_ENDIAN(ethernet_frame_ptr -> frame_type);
}
else if (packet_ptr -> nx_packet_ip_version == NX_IP_VERSION_V6)
{

   /* Set Ethernet frame type to IPv6. /*
   ethernet_frame_ptr -> frame_type = 0x86DD;

   /* Swap endian-ness for little endian targets.*/
   NX_CHANGE_USHORT_ENDIAN(ethernet_frame_ptr -> frame_type);
}
else
{

   /* Unknown IP version. Free the packet we will not send. */
   nx_packet_transmit_release(packet_ptr);
}
```
<span data-ttu-id="256d7-661">På samma sätt bör Ethernet-drivrutinen för inkommande paket fastställa paket typen från Ethernet-ramtypen.</span><span class="sxs-lookup"><span data-stu-id="256d7-661">Similarly, for incoming packets, the Ethernet driver should determine the packet type from the Ethernet frame type.</span></span> <span data-ttu-id="256d7-662">Den bör implementeras för att godkänna 0x86DD-, IPv4-(0x0800), ARP-(0x0806) och RARP-(0x8035) ramtyper.</span><span class="sxs-lookup"><span data-stu-id="256d7-662">It should be implemented to accept IPv6 (0x86DD), IPv4 (0x0800), ARP (0x0806), and RARP (0x8035) frame types.</span></span>

## <a name="example-ram-ethernet-network-driver"></a><span data-ttu-id="256d7-663">Exempel på RAM Ethernet-nätverks driv rutin</span><span class="sxs-lookup"><span data-stu-id="256d7-663">Example RAM Ethernet Network Driver</span></span>

<span data-ttu-id="256d7-664">Demonstrations systemet NetX Duo levereras med en liten RAM-baserad nätverks driv rutin som definieras i filen ***nx_ram_network_driver. c.***</span><span class="sxs-lookup"><span data-stu-id="256d7-664">The NetX Duo demonstration system is delivered with a small RAM-based network driver, defined in the file ***nx_ram_network_driver.c.***</span></span> <span data-ttu-id="256d7-665">Den här driv rutinen förutsätter att IP-instanserna är alla i samma nätverk och bara tilldelar virtuella maskin varu adresser (MAC-adresser) till varje enhets instans när de skapas.</span><span class="sxs-lookup"><span data-stu-id="256d7-665">This driver assumes the IP instances are all on the same network and simply assigns virtual hardware addresses (MAC addresses) to each device instance as they are created.</span></span> <span data-ttu-id="256d7-666">Den här filen ger ett enkelt exempel på grund strukturen för NetX Duo fysiska nätverks driv rutiner.</span><span class="sxs-lookup"><span data-stu-id="256d7-666">This file provides a good example of the basic structure of NetX Duo physical network drivers.</span></span> <span data-ttu-id="256d7-667">Användare kan utveckla sina egna nätverks driv rutiner med hjälp av driv rutins ramverket som presenteras i det här exemplet.</span><span class="sxs-lookup"><span data-stu-id="256d7-667">Users may develop their own network drivers using the driver framework presented in this example.</span></span>

<span data-ttu-id="256d7-668">Inmatnings funktionen för nätverks driv rutinen är \***_nx_ram_network_driver (),** _ som skickas till IP-instansen skapa anrop.</span><span class="sxs-lookup"><span data-stu-id="256d7-668">The entry function of the network driver is \***_nx_ram_network_driver(),** _ which is passed to the IP instance create call.</span></span> <span data-ttu-id="256d7-669">Post funktioner för ytterligare nätverks gränssnitt kan skickas till _nx_ip_interface_attach () \*-tjänsten.</span><span class="sxs-lookup"><span data-stu-id="256d7-669">Entry functions for additional network interfaces can be passed into the _nx_ip_interface_attach()\* service.</span></span> <span data-ttu-id="256d7-670">När IP-instansen börjar köras anropas funktionen för driv rutins post för att initiera och aktivera enheten (se fall **NX_LINK_INITIALIZE** och **NX_LINK_ENABLE**).</span><span class="sxs-lookup"><span data-stu-id="256d7-670">After the IP instance starts to run, the driver entry function is invoked to initialize and enable the device (refer to the case **NX_LINK_INITIALIZE** and **NX_LINK_ENABLE**).</span></span> <span data-ttu-id="256d7-671">När **NX_LINK_ENABLE** kommandot har utfärdats bör enheten vara redo att skicka och ta emot paket.</span><span class="sxs-lookup"><span data-stu-id="256d7-671">After the **NX_LINK_ENABLE** command is issued, the device should be ready to transmit and receive packets.</span></span> 

<span data-ttu-id="256d7-672">IP-instansen överför nätverks paket via något av följande kommandon:</span><span class="sxs-lookup"><span data-stu-id="256d7-672">The IP instance transmits network packets via one of these commands:</span></span>

|                                 |                                                                |
| ------------------------------- | -------------------------------------------------------------- |
| <span data-ttu-id="256d7-673">***NX_LINK_PACKET_SEND***</span><span class="sxs-lookup"><span data-stu-id="256d7-673">***NX_LINK_PACKET_SEND***</span></span>    | <span data-ttu-id="256d7-674">Ett IPv4-eller IPv6-paket överförs,</span><span class="sxs-lookup"><span data-stu-id="256d7-674">An IPv4 or IPv6 packet is being transmitted,</span></span>                   |
| <span data-ttu-id="256d7-675">***NX_LINK_ARP_SEND***</span><span class="sxs-lookup"><span data-stu-id="256d7-675">***NX_LINK_ARP_SEND***</span></span>       | <span data-ttu-id="256d7-676">En ARP-begäran eller ett ARP-svars paket överförs,</span><span class="sxs-lookup"><span data-stu-id="256d7-676">An ARP request or ARP response packet is being transmitted,</span></span>    |
| <span data-ttu-id="256d7-677">***NX_LINK_ARP_RARP_SEND***</span><span class="sxs-lookup"><span data-stu-id="256d7-677">***NX_LINK_ARP_RARP_SEND***</span></span> | <span data-ttu-id="256d7-678">En omvänd ARP-begäran eller ett svars paket överförs</span><span class="sxs-lookup"><span data-stu-id="256d7-678">A Reverse ARP request or response packet is being transmitted,</span></span> |

<span data-ttu-id="256d7-679">Vid bearbetning av dessa kommandon måste nätverks driv rutinen lägga lämpligt Ethernet-Rams huvud och sedan skicka den till den underliggande maskin varan för överföring.</span><span class="sxs-lookup"><span data-stu-id="256d7-679">On processing these commands, the network driver needs to prepend the appropriate Ethernet frame header, and then send it to the underlying hardware for transmission.</span></span> <span data-ttu-id="256d7-680">Under överförings processen har nätverks driv rutinen ensam ägarskap för paketets buffertzon.</span><span class="sxs-lookup"><span data-stu-id="256d7-680">During the transmission process, the network driver has the exclusive ownership of the packet buffer area.</span></span> <span data-ttu-id="256d7-681">När data överförs (eller när data har kopierats till driv Rutinens interna överföringsbuffert) är nätverks driv rutinen ansvarig för att frigöra paketets buffert genom att först flytta lägga-pekaren förbi Ethernet-huvudet till IP-huvudet (och justera Paketets längd enligt detta) och sedan anropa tjänsten ***nx_packet_transmit_release ()*** för att frigöra paketet.</span><span class="sxs-lookup"><span data-stu-id="256d7-681">Therefore once the data is being transmitted (or once the data has been copied into the driver internal transfer buffer), the network driver is responsible for releasing the packet buffer by first moving the prepend pointer past the Ethernet header to the IP header (and adjust packet length accordingly), and then by calling the ***nx_packet_transmit_release()*** service to release the packet.</span></span> <span data-ttu-id="256d7-682">Om du inte frigör paketet efter data överföringen kommer paket att läcka.</span><span class="sxs-lookup"><span data-stu-id="256d7-682">Not releasing the packet after data transmission will cause packets to leak.</span></span>

<span data-ttu-id="256d7-683">Nätverks enhetens driv rutin ansvarar också för hantering av inkommande data paket.</span><span class="sxs-lookup"><span data-stu-id="256d7-683">The network device driver is also responsible for handling incoming data packets.</span></span> <span data-ttu-id="256d7-684">I exempel på RAM-drivrutin bearbetas det mottagna paketet av funktionen ***_nx_ram_network_driver_receive ()***.</span><span class="sxs-lookup"><span data-stu-id="256d7-684">In the RAM driver example, the received packet is processed by the function ***_nx_ram_network_driver_receive()***.</span></span> <span data-ttu-id="256d7-685">När enheten får en Ethernet-ram ansvarar driv rutinen för att lagra data i NX_PACKET-strukturen.</span><span class="sxs-lookup"><span data-stu-id="256d7-685">Once the device receives an Ethernet frame, the driver is responsible for storing the data in  NX_PACKET structure.</span></span> <span data-ttu-id="256d7-686">Observera att NetX Duo antar att IP-huvudet börjar från den justerade adressen på 4 byte.</span><span class="sxs-lookup"><span data-stu-id="256d7-686">Note that NetX Duo assumes the IP header starts from 4-byte aligned address.</span></span> <span data-ttu-id="256d7-687">Eftersom längden på Ethernet-huvudet är 14byte måste driv rutinen lagra början av Ethernet-huvudet med en justerad adress på 2 byte för att garantera att IP-huvudet börjar med 4 byte-justerad adress.</span><span class="sxs-lookup"><span data-stu-id="256d7-687">Since the length of Ethernet header is 14byte, the driver needs to store the starting of the Ethernet header at 2-byte aligned address to guarantee that the IP header starts at 4-byte aligned address.</span></span>