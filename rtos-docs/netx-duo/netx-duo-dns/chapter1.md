---
title: Kapitel 1 – Introduktion till DNS-klienten för Azure återställnings tider NetX Duo
description: DNS tillhandahåller en distribuerad databas som innehåller mappning mellan domän namn och fysiska IP-adresser.
author: philmea
ms.author: philmea
ms.date: 06/04/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 4c07d6e3183d421c637874dcdeff3767554fca78
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 03/22/2021
ms.locfileid: "104826025"
---
# <a name="chapter-1---introduction-to-the-azure-rtos-netx-duo-dns-client"></a><span data-ttu-id="e5a61-103">Kapitel 1 – Introduktion till DNS-klienten för Azure återställnings tider NetX Duo</span><span class="sxs-lookup"><span data-stu-id="e5a61-103">Chapter 1 - Introduction to the Azure RTOS NetX Duo DNS Client</span></span>

<span data-ttu-id="e5a61-104">DNS tillhandahåller en distribuerad databas som innehåller mappning mellan domän namn och fysiska IP-adresser.</span><span class="sxs-lookup"><span data-stu-id="e5a61-104">The DNS provides a distributed database that contains mapping between domain names and physical IP addresses.</span></span> <span data-ttu-id="e5a61-105">Databasen kallas *distribuerad* eftersom det inte finns någon enskild entitet på Internet som innehåller den fullständiga mappningen.</span><span class="sxs-lookup"><span data-stu-id="e5a61-105">The database is referred to as *distributed* because there is no single entity on the Internet that contains the complete mapping.</span></span> <span data-ttu-id="e5a61-106">En entitet som underhåller en del av mappningen kallas för en DNS-server.</span><span class="sxs-lookup"><span data-stu-id="e5a61-106">An entity that maintains a portion of the mapping is called a DNS Server.</span></span> <span data-ttu-id="e5a61-107">Internet består av flera DNS-servrar, som var och en innehåller en delmängd av databasen.</span><span class="sxs-lookup"><span data-stu-id="e5a61-107">The Internet is composed of numerous DNS Servers, each of which contains a subset of the database.</span></span> <span data-ttu-id="e5a61-108">DNS-servrar svarar också på DNS-klientcertifikat för mappnings information för domän namn, endast om servern har den begärda mappningen.</span><span class="sxs-lookup"><span data-stu-id="e5a61-108">DNS Servers also respond to DNS Client requests for domain name mapping information, only if the server has the requested mapping.</span></span>

<span data-ttu-id="e5a61-109">DNS-klientens protokoll för NetX Duo tillhandahåller programmet med tjänster för att begära mappnings information från en eller flera DNS-servrar.</span><span class="sxs-lookup"><span data-stu-id="e5a61-109">The DNS Client protocol for NetX Duo provides the application with services to request mapping information from one or more DNS Servers.</span></span>

## <a name="dns-client-setup"></a><span data-ttu-id="e5a61-110">DNS-klient installation</span><span class="sxs-lookup"><span data-stu-id="e5a61-110">DNS Client Setup</span></span>

<span data-ttu-id="e5a61-111">För att kunna fungera korrekt kräver DNS-klientprogrammet att en NetX Duo-instans redan har skapats.</span><span class="sxs-lookup"><span data-stu-id="e5a61-111">In order to function properly, the DNS Client package requires that a NetX Duo IP instance has already been created.</span></span>

<span data-ttu-id="e5a61-112">När du har skapat DNS-klienten måste programmet lägga till en eller flera DNS-servrar i Server listan som underhålls av DNS-klienten.</span><span class="sxs-lookup"><span data-stu-id="e5a61-112">After creating the DNS Client, the application must add one or more DNS servers to the server list maintained by the DNS Client.</span></span> <span data-ttu-id="e5a61-113">Om du vill lägga till DNS-servrar använder programmet tjänsten *nxd_dns_server_add* .</span><span class="sxs-lookup"><span data-stu-id="e5a61-113">To add DNS servers, the application uses the *nxd_dns_server_add* service.</span></span> <span data-ttu-id="e5a61-114">NetX Duo DNS-klienttjänsten *nx_dns_server_add* kan också användas för att lägga till servrar.</span><span class="sxs-lookup"><span data-stu-id="e5a61-114">The NetX Duo DNS Client service *nx_dns_server_add* can also be used to add servers.</span></span> <span data-ttu-id="e5a61-115">Det accepterar dock bara IPv4-adresser och vi rekommenderar att utvecklarna använder tjänsten *nxd_dns_server_add* i stället.</span><span class="sxs-lookup"><span data-stu-id="e5a61-115">However it only accepts IPv4 addresses and it is recommended that developers use the *nxd_dns_server_add* service instead.</span></span>

<span data-ttu-id="e5a61-116">Om alternativet NX_DNS_IP_GATEWAY_SERVER är aktiverat och gateway-adressen för IP-instansen inte är noll läggs gatewayen för IP-instansen automatiskt till som den primära DNS-servern.</span><span class="sxs-lookup"><span data-stu-id="e5a61-116">If the NX_DNS_IP_GATEWAY_SERVER option is enabled, and the IP instance gateway address is non zero, the IP instance gateway is automatically added as the primary DNS server.</span></span> <span data-ttu-id="e5a61-117">Om DNS-serverns information inte är statiskt känd kan den också härledas via Dynamic Host Configuration Protocol (DHCP) för NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="e5a61-117">If DNS server information is not statically known, it may also be derived through the Dynamic Host Configuration Protocol (DHCP) for NetX Duo.</span></span> <span data-ttu-id="e5a61-118">Mer information finns i användar handboken för NetX Duo DHCP.</span><span class="sxs-lookup"><span data-stu-id="e5a61-118">Please refer to the NetX Duo DHCP User Guide for more information.</span></span>

<span data-ttu-id="e5a61-119">DNS-klienten kräver en modempool för överföring av DNS-meddelanden.</span><span class="sxs-lookup"><span data-stu-id="e5a61-119">The DNS Client requires a packet pool for transmitting DNS messages.</span></span> <span data-ttu-id="e5a61-120">Som standard skapar DNS-klienten den här poolen när tjänsten *nx_dns_create* anropas.</span><span class="sxs-lookup"><span data-stu-id="e5a61-120">By default, the DNS Client creates this packet pool when the *nx_dns_create* service is called.</span></span> <span data-ttu-id="e5a61-121">Konfigurations alternativen NX_DNS_PACKET_PAYLOAD_UNALIGNED och NX_DNS_PACKET_POOL_SIZE tillåter att programmet fastställer paketets nytto last och paketets pool storlek (t. ex. antalet paket) för den här poolen.</span><span class="sxs-lookup"><span data-stu-id="e5a61-121">The configuration options NX_DNS_PACKET_PAYLOAD_UNALIGNED and NX_DNS_PACKET_POOL_SIZE allow the application to determine the packet payload and packet pool size (e.g. number of packets) of this packet pool respectively.</span></span> <span data-ttu-id="e5a61-122">De här alternativen beskrivs i avsnittet "konfigurations alternativ" i kapitel två.</span><span class="sxs-lookup"><span data-stu-id="e5a61-122">These options are described in section “Configuration Options” in Chapter Two.</span></span>

<span data-ttu-id="e5a61-123">Ett alternativ till DNS-klienten som skapar en egen modempool är för att programmet ska skapa poolen och ange den som DNS-klientens modempool med hjälp av tjänsten *nx_dns_packet_pool_set* .</span><span class="sxs-lookup"><span data-stu-id="e5a61-123">An alternative to the DNS Client creating its own packet pool is for the application to create the packet pool and set it as the DNS Client’s packet pool using the *nx_dns_packet_pool_set* service.</span></span> <span data-ttu-id="e5a61-124">För att göra det måste NX_DNS_CLIENT_USER_CREATE_PACKET_POOL alternativet definieras.</span><span class="sxs-lookup"><span data-stu-id="e5a61-124">To do so, the NX_DNS_CLIENT_USER_CREATE_PACKET_POOL option must be defined.</span></span> <span data-ttu-id="e5a61-125">Det här alternativet kräver också en tidigare skapad modempool som använder *nx_packet_pool_create* som paketets pool pekare in på *nx_dns_packet_pool_set* .</span><span class="sxs-lookup"><span data-stu-id="e5a61-125">This option also requires a previously created packet pool using *nx_packet_pool_create* as the packet pool pointer input to *nx_dns_packet_pool_set* .</span></span> <span data-ttu-id="e5a61-126">När DNS-klienttjänsten tas bort ansvarar programmet för att ta bort poolen för DNS-klienter om NX_DNS_CLIENT_USER_CREATE_PACKET_POOL är aktive rad om den inte längre behövs.</span><span class="sxs-lookup"><span data-stu-id="e5a61-126">When the DNS Client instance is deleted, the application is responsible for deleting the DNS Client packet pool if NX_DNS_CLIENT_USER_CREATE_PACKET_POOL is enabled if it is no longer needed.</span></span>

> [!NOTE] 
> <span data-ttu-id="e5a61-127">För program som väljer att tillhandahålla en egen modempool med hjälp av alternativet NX_DNS_CLIENT_USER_CREATE_PACKET_POOL måste paket storleken kunna innehålla den maximala storleken för DNS-massage (512 byte) plus rum för UDP-huvud, IPv4-eller IPv6-huvud och MAC-huvudet.</span><span class="sxs-lookup"><span data-stu-id="e5a61-127">For applications choosing to provide its own packet pool using the NX_DNS_CLIENT_USER_CREATE_PACKET_POOL option, the packet size needs to be able to hold the DNS maximum massage size (512 bytes) plus rooms for UDP header, IPv4 or IPv6 header, and the MAC header.</span></span>

## <a name="dns-messages"></a><span data-ttu-id="e5a61-128">DNS-meddelanden</span><span class="sxs-lookup"><span data-stu-id="e5a61-128">DNS Messages</span></span>

<span data-ttu-id="e5a61-129">DNS har en mycket enkel mekanism för att hämta mappning mellan värdnamn och IP-adresser.</span><span class="sxs-lookup"><span data-stu-id="e5a61-129">The DNS has a very simple mechanism for obtaining mapping between host names and IP addresses.</span></span> <span data-ttu-id="e5a61-130">För att hämta en mappning förbereder DNS-klienten ett DNS-frågemeddelanden som innehåller namnet eller IP-adressen som måste matchas.</span><span class="sxs-lookup"><span data-stu-id="e5a61-130">To obtain a mapping, the DNS Client prepares a DNS query message containing the name or the IP address that needs to be resolved.</span></span> <span data-ttu-id="e5a61-131">Meddelandet skickas sedan till den första DNS-servern i Server listan.</span><span class="sxs-lookup"><span data-stu-id="e5a61-131">The message is then sent to the first DNS server in the server list.</span></span> <span data-ttu-id="e5a61-132">Om servern har en sådan mappning svarar den på DNS-klienten med ett DNS-svarsmeddelande som innehåller den begärda mappnings informationen.</span><span class="sxs-lookup"><span data-stu-id="e5a61-132">If the server has such a mapping, it replies to the DNS Client using a DNS response message that contains the requested mapping information.</span></span> <span data-ttu-id="e5a61-133">Om servern inte svarar frågar DNS-klienten nästa server i listan tills alla DNS-servrar har frågats.</span><span class="sxs-lookup"><span data-stu-id="e5a61-133">If the server does not respond, the DNS Client queries the next server on its list until all its DNS servers have been queried.</span></span> <span data-ttu-id="e5a61-134">Om inget svar från alla DNS-servrar tas emot har DNS-klienten återförsök för att överföra DNS-meddelandet igen.</span><span class="sxs-lookup"><span data-stu-id="e5a61-134">If no response from all its DNS servers is received, the DNS Client has retry logic to retransmit the DNS message.</span></span> <span data-ttu-id="e5a61-135">Vid återsändning av en DNS-fråga dubbleras tids gränsen för återöverföring.</span><span class="sxs-lookup"><span data-stu-id="e5a61-135">On resending a DNS query, the retransmission timeout is doubled.</span></span> <span data-ttu-id="e5a61-136">Den här processen fortsätter tills Max gränsen för överföring (definieras som NX_DNS_MAX_RETRANS_TIMEOUT i *nxd_dns. h*) har nåtts eller tills ett lyckat svar tas emot från servern.</span><span class="sxs-lookup"><span data-stu-id="e5a61-136">This process continues until the maximum transmission timeout (defined as NX_DNS_MAX_RETRANS_TIMEOUT in *nxd_dns.h*) is reached or until a successful response is received from that server is obtained.</span></span>

<span data-ttu-id="e5a61-137">NetX Duo DNS-klienten kan utföra både IPv6-adresss ökningar (typ AAAA) och IPv4-adresss ökningar (Skriv A) genom att ange versionen för IP-adressen i *nxd_dns_host_by_name_get* -anropet.</span><span class="sxs-lookup"><span data-stu-id="e5a61-137">NetX Duo DNS Client can perform both IPv6 address lookups (type AAAA) and IPv4 address lookups (type A) by specifying the version of the IP address in the *nxd_dns_host_by_name_get* call.</span></span> <span data-ttu-id="e5a61-138">DNS-klienten kan utföra omvänd sökning av IP-adresser (Skriv PTR-frågor) för att hämta webb värd namn med hjälp av *nxd_dns_host_by_address_get*.</span><span class="sxs-lookup"><span data-stu-id="e5a61-138">The DNS Client can perform reverse lookups of IP addresses (type PTR queries) to obtain web host names using *nxd_dns_host_by_address_get*.</span></span> <span data-ttu-id="e5a61-139">NetX Duo DNS-klienten stöder fortfarande *nx_dns_host_by_name_get* och *nx_dns_host_by_address_get* som är motsvarande tjänster, men som är begränsade till IPv4-nätverkskommunikation.</span><span class="sxs-lookup"><span data-stu-id="e5a61-139">The NetX Duo DNS Client still supports the *nx_dns_host_by_name_get* and *nx_dns_host_by_address_get* which are the equivalent services but which are limited to IPv4 network communication.</span></span> <span data-ttu-id="e5a61-140">Utvecklare uppmanas dock att Porta befintliga DNS-klientprogram till *nxd_dns_host_by_name_get* -och *nxd_dns_host_by_address_get* -tjänsterna.</span><span class="sxs-lookup"><span data-stu-id="e5a61-140">However, developers are encouraged to port existing DNS Client applications to the *nxd_dns_host_by_name_get* and *nxd_dns_host_by_address_get* services.</span></span>

<span data-ttu-id="e5a61-141">DNS-meddelanden använder UDP-protokollet för att skicka begär Anden och fält svar.</span><span class="sxs-lookup"><span data-stu-id="e5a61-141">DNS messaging utilizes the UDP protocol to send requests and field responses.</span></span> <span data-ttu-id="e5a61-142">En DNS-Server lyssnar på port nummer 53 för frågor från klienter.</span><span class="sxs-lookup"><span data-stu-id="e5a61-142">A DNS Server listens on port number 53 for queries from clients.</span></span> <span data-ttu-id="e5a61-143">Därför måste UDP-tjänsterna vara aktiverade i NetX Duo med \***nx_udp_enable** _-tjänsten på en tidigare skapad IP-instans (_ *_nx_ip_create_* \*).</span><span class="sxs-lookup"><span data-stu-id="e5a61-143">Therefore UDP services must be enabled in NetX Duo using the ***nx_udp_enable** _ service on a previously created IP instance (_*_nx_ip_create_\*\*).</span></span>

<span data-ttu-id="e5a61-144">I det här läget är DNS-klienten redo att ta emot begär Anden från programmet och skicka DNS-frågor.</span><span class="sxs-lookup"><span data-stu-id="e5a61-144">At this point, the DNS Client is ready to accept requests from the application and send out DNS queries.</span></span>

## <a name="extended-dns-resource-record-types"></a><span data-ttu-id="e5a61-145">Utökade DNS-resurs post typer</span><span class="sxs-lookup"><span data-stu-id="e5a61-145">Extended DNS Resource Record Types</span></span>

<span data-ttu-id="e5a61-146">Om NX_DNS_ENABLE_EXTENDED_RR_TYPES är aktive rad stöder NetX Duo DNS-klienten även följande frågor för post typer:</span><span class="sxs-lookup"><span data-stu-id="e5a61-146">If NX_DNS_ENABLE_EXTENDED_RR_TYPES is enabled, NetX Duo DNS Client also supports the following record type queries:</span></span>

- <span data-ttu-id="e5a61-147">CNAME: innehåller det kanoniska namnet för ett alias</span><span class="sxs-lookup"><span data-stu-id="e5a61-147">CNAME: contains the canonical name for an alias</span></span>
- <span data-ttu-id="e5a61-148">TXT: innehåller en text sträng</span><span class="sxs-lookup"><span data-stu-id="e5a61-148">TXT: contains a text string</span></span>
- <span data-ttu-id="e5a61-149">NS: innehåller en auktoritativ namnserver</span><span class="sxs-lookup"><span data-stu-id="e5a61-149">NS: contains an authoritative name server</span></span>
- <span data-ttu-id="e5a61-150">SOA: innehåller start för en zon för auktoritet</span><span class="sxs-lookup"><span data-stu-id="e5a61-150">SOA: contains the start of a zone of authority</span></span>
- <span data-ttu-id="e5a61-151">MX: används för e-postutbyte</span><span class="sxs-lookup"><span data-stu-id="e5a61-151">MX: used for mail exchange</span></span>
- <span data-ttu-id="e5a61-152">SRV: innehåller information om den tjänst som erbjuds av domänen</span><span class="sxs-lookup"><span data-stu-id="e5a61-152">SRV: contains information on the service offered by the domain</span></span>

<span data-ttu-id="e5a61-153">Med undantag för CNAME-och TXT-posttyper måste programmet tillhandahålla en 4-byte-justerad buffert för att ta emot DNS-dataposten.</span><span class="sxs-lookup"><span data-stu-id="e5a61-153">With the exception of CNAME and TXT record types, the application must supply a 4-byte aligned buffer to receive the DNS data record.</span></span>

<span data-ttu-id="e5a61-154">I NetX Duo DNS-klient lagras post data på ett sådant sätt för att effektivt utnyttja buffertutrymme.</span><span class="sxs-lookup"><span data-stu-id="e5a61-154">In NetX Duo DNS Client, record data is stored in such a way to make most efficient use of buffer space.</span></span>

<span data-ttu-id="e5a61-155">Ett exempel på en post buffert med fast längd (typ AAAA-post) visas nedan:</span><span class="sxs-lookup"><span data-stu-id="e5a61-155">An example of a record buffer of fixed length (type AAAA record) is shown below:</span></span>

![Registrera bufferten med fast längd](media/image2.png)

<span data-ttu-id="e5a61-157">För de frågor vars post typer har variabel data längd, till exempel NS-poster vars värdnamn är varierande längd, sparar NetX Duo DNS-klienten data på följande sätt.</span><span class="sxs-lookup"><span data-stu-id="e5a61-157">For those queries whose record types have variable data length, such as NS records whose host names are of variable length, NetX Duo DNS Client saves the data as follows.</span></span> <span data-ttu-id="e5a61-158">Bufferten som anges i DNS-klientens fråga är ordnad i ett området med fasta längd data och ett del av ostrukturerat minne.</span><span class="sxs-lookup"><span data-stu-id="e5a61-158">The buffer supplied in the DNS Client query is organized into an area of fixed length data and an area of unstructured memory.</span></span> <span data-ttu-id="e5a61-159">Den övre delen av minnesbufferten är indelad i 4 bytes justerade post poster.</span><span class="sxs-lookup"><span data-stu-id="e5a61-159">The top of the memory buffer is organized into 4-byte aligned record entries.</span></span> <span data-ttu-id="e5a61-160">Varje post post innehåller IP-adressen och en pekare till data för variabel längd för den IP-adressen.</span><span class="sxs-lookup"><span data-stu-id="e5a61-160">Each record entry contains the IP address and a pointer to the variable length data for that IP address.</span></span> <span data-ttu-id="e5a61-161">Variabla längd data för varje IP-adress lagras i det ostrukturerade områdets minne som börjar i slutet av minnesbufferten.</span><span class="sxs-lookup"><span data-stu-id="e5a61-161">The variable length data for each IP address are stored in the unstructured area memory starting at the end of the memory buffer.</span></span> <span data-ttu-id="e5a61-162">Variabla längd data för varje post i följd sparas i nästa områdes minne intill variabel data för föregående post poster.</span><span class="sxs-lookup"><span data-stu-id="e5a61-162">The variable length data for each successive record entry is saved in the next area memory adjacent to the previous record entries variable data.</span></span> <span data-ttu-id="e5a61-163">Därmed växer variabeln data mot det strukturerade minnes området som innehåller post posterna tills det inte finns tillräckligt med minne för att lagra ytterligare post-och variabel data.</span><span class="sxs-lookup"><span data-stu-id="e5a61-163">Hence, the variable data ‘grows’ towards the structured area of memory containing the record entries until there is insufficient memory to store another record entry and variable data.</span></span>

<span data-ttu-id="e5a61-164">Detta visas i bilden nedan:</span><span class="sxs-lookup"><span data-stu-id="e5a61-164">This is shown in the figure below:</span></span>

![Bild 2](media/image3.png)

<span data-ttu-id="e5a61-166">Exemplet på DNS-datalagringen (NS) för DNS-domännamn visas ovan.</span><span class="sxs-lookup"><span data-stu-id="e5a61-166">The example of the DNS domain name (NS) data storage is shown above.</span></span>

<span data-ttu-id="e5a61-167">NetX Duo DNS-klientfrågor med post Storage-formatet returnerar antalet poster som sparats till postbufferten.</span><span class="sxs-lookup"><span data-stu-id="e5a61-167">NetX Duo DNS Client queries using the record storage format return the number of records saved to the record buffer.</span></span> <span data-ttu-id="e5a61-168">Med den här informationen kan programmet extrahera NS-poster från bufferten för poster.</span><span class="sxs-lookup"><span data-stu-id="e5a61-168">This information enables the application to extract NS records from the record buffer.</span></span>

<span data-ttu-id="e5a61-169">Ett exempel på en DNS-klient fråga som lagrar DNS-data för variabel längd med det här post lagrings formatet visas nedan:</span><span class="sxs-lookup"><span data-stu-id="e5a61-169">An example of a DNS Client query that stores variable length DNS data using this record storage format is shown below:</span></span>

```C
UINT  _nx_dns_domain_name_server_get(NX_DNS *dns_ptr, 
                    UCHAR *host_name, VOID *record_buffer, 
                    UINT buffer_size, UINT *record_count, 
                    ULONG wait_option);
```


<span data-ttu-id="e5a61-170">Mer information finns i kapitel 3, "Beskrivning av DNS-klienttjänster".</span><span class="sxs-lookup"><span data-stu-id="e5a61-170">More details are available in Chapter 3, “Description of DNS Client Services”.</span></span>

## <a name="dns-cache"></a><span data-ttu-id="e5a61-171">DNS-cache</span><span class="sxs-lookup"><span data-stu-id="e5a61-171">DNS Cache</span></span>

<span data-ttu-id="e5a61-172">Om NX_DNS_CACHE_ENABLE är aktive rad stöder NetX Duo DNS-klienten funktionen DNS-cache.</span><span class="sxs-lookup"><span data-stu-id="e5a61-172">If NX_DNS_CACHE_ENABLE is enabled, NetX Duo DNS Client supports the DNS Cache feature.</span></span> <span data-ttu-id="e5a61-173">När du har skapat DNS-klienten kan programmet anropa API *-nx_dns_cache_initialize ()* för att ange det särskilda DNS-cacheminnet.</span><span class="sxs-lookup"><span data-stu-id="e5a61-173">After creating the DNS Client, the application can call the API *nx_dns_cache_initialize()* to set the special DNS Cache.</span></span> <span data-ttu-id="e5a61-174">Om Aktivera DNS-cache-funktion hittar DNS-klienten det tillgängliga svaret från DNS-cachen innan den börjar skicka DNS-fråga, om du hittar det tillgängliga svaret, returnerar svaret till programmet, annars skickas ett meddelande till DNS-servern i DNS-klienten och väntar på svar.</span><span class="sxs-lookup"><span data-stu-id="e5a61-174">If enable DNS Cache feature, DNS Client will find the available answer from DNS Cache before starts to send DNS query, if find the available answer, directly return the answer to application, otherwise DNS Client sends out query message to DNS server and waits for the reply.</span></span> <span data-ttu-id="e5a61-175">När DNS-klienten hämtar svarsmeddelandet och det finns ledigt cache tillgängligt, returnerar DNS-klienten svaret till programmet och lägger även till svaret som resurs post i DNS-cachen.</span><span class="sxs-lookup"><span data-stu-id="e5a61-175">When DNS Client gets the response message and there is free cache available, DNS Client returns the answer to the application and also adds the answer as resource record into DNS cache.</span></span>

<span data-ttu-id="e5a61-176">Varje svar är en data struktur *NX_DNS_RR* (resurs post) i cacheminnet.</span><span class="sxs-lookup"><span data-stu-id="e5a61-176">Each answer a data structure *NX_DNS_RR* (Resource Record) in the cache.</span></span> <span data-ttu-id="e5a61-177">Strängar (resurs post namn och data) i poster är variabel längd och lagras därför inte i NX_DNS_RRs strukturen.</span><span class="sxs-lookup"><span data-stu-id="e5a61-177">Strings (resource record name and data) in Records are variable length, therefore are not stored in the NX_DNS_RR structure.</span></span> <span data-ttu-id="e5a61-178">Posten innehåller pekare till den faktiska minnes platsen där strängarna lagras.</span><span class="sxs-lookup"><span data-stu-id="e5a61-178">The Record contains pointers to the actual memory location where the strings are stored.</span></span> <span data-ttu-id="e5a61-179">Sträng tabellen och posterna delar cacheminnet.</span><span class="sxs-lookup"><span data-stu-id="e5a61-179">The string table and the Records share the cache.</span></span> <span data-ttu-id="e5a61-180">Poster lagras från cachens början och växer mot slutet av cacheminnet.</span><span class="sxs-lookup"><span data-stu-id="e5a61-180">Records are stored from the beginning of the cache, and grow towards the end of the cache.</span></span> <span data-ttu-id="e5a61-181">Sträng tabellen börjar från slutet av cacheminnet och växer till början av cachen.</span><span class="sxs-lookup"><span data-stu-id="e5a61-181">The string table starts from the end of the cache and grows towards the beginning of the cache.</span></span> <span data-ttu-id="e5a61-182">Varje sträng i sträng tabellen har fältet längd och ett räknar fält.</span><span class="sxs-lookup"><span data-stu-id="e5a61-182">Each string in the string table has a length field and a counter field.</span></span> <span data-ttu-id="e5a61-183">När en sträng läggs till i sträng tabellen, och om samma sträng redan finns i tabellen, ökar räknarvärdet och inget minne allokeras för strängen.</span><span class="sxs-lookup"><span data-stu-id="e5a61-183">When a string is added to the string table, if the same string is already present in the table, the counter value is incremented and no memory is allocated for the string.</span></span> <span data-ttu-id="e5a61-184">Cachen anses vara full om inga fler resurs poster eller nya strängar kan läggas till i cachen.</span><span class="sxs-lookup"><span data-stu-id="e5a61-184">The cache is considered full if no more resource records or new strings can be added to the cache.</span></span>

## <a name="dns-client-limitations"></a><span data-ttu-id="e5a61-185">Begränsningar för DNS-klient</span><span class="sxs-lookup"><span data-stu-id="e5a61-185">DNS Client Limitations</span></span>

<span data-ttu-id="e5a61-186">DNS-klienten har stöd för en DNS-begäran åt gången.</span><span class="sxs-lookup"><span data-stu-id="e5a61-186">The DNS Client supports one DNS request at a time.</span></span> <span data-ttu-id="e5a61-187">Trådar som försöker göra en annan DNS-begäran blockeras tillfälligt tills den tidigare DNS-begäran har slutförts.</span><span class="sxs-lookup"><span data-stu-id="e5a61-187">Threads attempting to make another DNS request are temporarily blocked until the previous DNS request is complete.</span></span>

<span data-ttu-id="e5a61-188">NetX Duo DNS-klienten använder inte data från auktoritativa svar för att vidarebefordra ytterligare DNS-frågor till andra DNS-servrar.</span><span class="sxs-lookup"><span data-stu-id="e5a61-188">The NetX Duo DNS Client does not use data from authoritative answers to forward additional DNS queries to other DNS servers.</span></span>

## <a name="dns-rfcs"></a><span data-ttu-id="e5a61-189">DNS-RFC</span><span class="sxs-lookup"><span data-stu-id="e5a61-189">DNS RFCs</span></span>

<span data-ttu-id="e5a61-190">NetX Duo DNS är kompatibelt med följande RFC: er:</span><span class="sxs-lookup"><span data-stu-id="e5a61-190">NetX Duo DNS is compliant with the following RFCs:</span></span>

- <span data-ttu-id="e5a61-191">RFC1034 DOMÄN NAMN – KONCEPT OCH ANLÄGGNINGAR</span><span class="sxs-lookup"><span data-stu-id="e5a61-191">RFC1034 DOMAIN NAMES - CONCEPTS AND FACILITIES</span></span>
- <span data-ttu-id="e5a61-192">RFC1035 DOMÄN NAMN – IMPLEMENTERING OCH SPECIFIKATION</span><span class="sxs-lookup"><span data-stu-id="e5a61-192">RFC1035 DOMAIN NAMES - IMPLEMENTATION AND SPECIFICATION</span></span>
- <span data-ttu-id="e5a61-193">RFC1480 USA-domänen</span><span class="sxs-lookup"><span data-stu-id="e5a61-193">RFC1480 The US Domain</span></span>
- <span data-ttu-id="e5a61-194">RFC 2782 A DNS RR för att ange plats för tjänster (DNS SRV)</span><span class="sxs-lookup"><span data-stu-id="e5a61-194">RFC 2782 A DNS RR for specifying the location of services (DNS SRV)</span></span>
- <span data-ttu-id="e5a61-195">RFC 3596 DNS-tillägg som stöder IP version 6</span><span class="sxs-lookup"><span data-stu-id="e5a61-195">RFC 3596 DNS Extensions to Support IP Version 6</span></span>