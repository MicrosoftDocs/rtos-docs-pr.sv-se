---
title: Kapitel 1 – Introduktion till Azure återställnings tider NetX Duo Telnet
description: Azure återställnings tider NetX Duo Telnet är ett protokoll som har utformats för att överföra kommandon och svar mellan två noder på Internet.
author: philmea
ms.author: philmea
ms.date: 06/04/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: d25f5ca4a7bf1ecf4c3d0c68ef6c8aeda7800098
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 03/22/2021
ms.locfileid: "104825734"
---
# <a name="chapter-1---introduction-to-the-azure-rtos-netx-duo-telnet"></a><span data-ttu-id="3bd23-103">Kapitel 1 – Introduktion till Azure återställnings tider NetX Duo Telnet</span><span class="sxs-lookup"><span data-stu-id="3bd23-103">Chapter 1 - Introduction to the Azure RTOS NetX Duo Telnet</span></span>

<span data-ttu-id="3bd23-104">Azure återställnings tider NetX Duo Telnet är ett protokoll som har utformats för att överföra kommandon och svar mellan två noder på Internet.</span><span class="sxs-lookup"><span data-stu-id="3bd23-104">The Azure RTOS NetX Duo Telnet is a protocol designed for transferring commands and responses between two nodes on the Internet.</span></span> <span data-ttu-id="3bd23-105">Telnet är ett enkelt protokoll som använder Reliable Transmission Control Protocol (TCP)-tjänster för att utföra sin överförings funktion.</span><span class="sxs-lookup"><span data-stu-id="3bd23-105">Telnet is a simple protocol that utilizes reliable Transmission Control Protocol (TCP) services to perform its transfer function.</span></span> <span data-ttu-id="3bd23-106">Därför är Telnet ett mycket tillförlitligt överförings protokoll.</span><span class="sxs-lookup"><span data-stu-id="3bd23-106">Because of this, Telnet is a highly reliable transfer protocol.</span></span> <span data-ttu-id="3bd23-107">Telnet är också ett av de mest använda program protokollen.</span><span class="sxs-lookup"><span data-stu-id="3bd23-107">Telnet is also one of the most used application protocols.</span></span>

## <a name="telnet-requirements"></a><span data-ttu-id="3bd23-108">Telnet-krav</span><span class="sxs-lookup"><span data-stu-id="3bd23-108">Telnet Requirements</span></span>

<span data-ttu-id="3bd23-109">För att kunna fungera korrekt kräver Telnet-paketet NetX Duo att en NetX-IP-instans redan har skapats.</span><span class="sxs-lookup"><span data-stu-id="3bd23-109">In order to function properly, the NetX Duo Telnet package requires that a NetX IP instance has already been created.</span></span> <span data-ttu-id="3bd23-110">Dessutom måste TCP vara aktiverat på samma IP-instans.</span><span class="sxs-lookup"><span data-stu-id="3bd23-110">In addition, TCP must be enabled on that same IP instance.</span></span> <span data-ttu-id="3bd23-111">Telnet-klient delen av NetX Duo Telnet-paketet har inga ytterligare krav.</span><span class="sxs-lookup"><span data-stu-id="3bd23-111">The Telnet Client portion of the NetX Duo Telnet package has no further requirements.</span></span>

<span data-ttu-id="3bd23-112">Telnet-Server delen av NetX Duo Telnet-paketet har ett ytterligare krav.</span><span class="sxs-lookup"><span data-stu-id="3bd23-112">The Telnet Server portion of the NetX Duo Telnet package has one additional requirement.</span></span> <span data-ttu-id="3bd23-113">Den kräver fullständig åtkomst till TCP *-välkända port 23* för hantering av alla Telnet-begäranden i klienten.</span><span class="sxs-lookup"><span data-stu-id="3bd23-113">It requires complete access to TCP *well-known port 23* for handling all Client Telnet requests.</span></span>

## <a name="telnet-constraints"></a><span data-ttu-id="3bd23-114">Telnet-begränsningar</span><span class="sxs-lookup"><span data-stu-id="3bd23-114">Telnet Constraints</span></span> 

<span data-ttu-id="3bd23-115">NetX Duo Telnet-protokollet implementerar Telnet-standarden.</span><span class="sxs-lookup"><span data-stu-id="3bd23-115">The NetX Duo Telnet protocol implements the Telnet standard.</span></span> <span data-ttu-id="3bd23-116">Tolkningen och svaret på Telnet-kommandon som anges av en byte med värdet 255, är dock programmets ansvar.</span><span class="sxs-lookup"><span data-stu-id="3bd23-116">However,the interpretation and response of Telnet commands, indicated by a byte with the value of 255, is the responsibility of the application.</span></span> <span data-ttu-id="3bd23-117">De olika Telnet-kommandona och kommando parametrarna definieras i *nxd_telnet_client. h-och nxd_telnet_server. h* -filer.</span><span class="sxs-lookup"><span data-stu-id="3bd23-117">The various Telnet commands and command parameters are defined in the *nxd_telnet_client.h and nxd_telnet_server.h* files.</span></span>

## <a name="telnet-communication"></a><span data-ttu-id="3bd23-118">Telnet-kommunikation</span><span class="sxs-lookup"><span data-stu-id="3bd23-118">Telnet Communication</span></span>

<span data-ttu-id="3bd23-119">Som tidigare nämnts använder Telnet-servern den *välkända TCP-porten 23* för att fält klient begär Anden.</span><span class="sxs-lookup"><span data-stu-id="3bd23-119">As mentioned previously, the Telnet Server utilizes the *well-known TCP port 23* to field Client requests.</span></span> <span data-ttu-id="3bd23-120">Telnet-klienter kan använda alla tillgängliga TCP-portar.</span><span class="sxs-lookup"><span data-stu-id="3bd23-120">Telnet Clients may use any available TCP port.</span></span>

## <a name="telnet-authentication"></a><span data-ttu-id="3bd23-121">Telnet-autentisering</span><span class="sxs-lookup"><span data-stu-id="3bd23-121">Telnet Authentication</span></span>

<span data-ttu-id="3bd23-122">Telnet-autentisering är ansvaret för programmets motringnings funktion för Telnet-servern.</span><span class="sxs-lookup"><span data-stu-id="3bd23-122">Telnet authentication is the responsibility of the application’s Telnet Server callback function.</span></span> <span data-ttu-id="3bd23-123">Motringningen till programmets Telnet-Server "ny anslutning" skulle normalt fråga klienten om namn och/eller lösen ord.</span><span class="sxs-lookup"><span data-stu-id="3bd23-123">The application’s Telnet Server “new connection” callback would typically prompt the Client for name and/or password.</span></span> <span data-ttu-id="3bd23-124">Klienten ansvarar då för att tillhandahålla informationen.</span><span class="sxs-lookup"><span data-stu-id="3bd23-124">The Client would then be responsible for providing the information.</span></span> <span data-ttu-id="3bd23-125">Servern bearbetar sedan informationen i återanropet "Receive data".</span><span class="sxs-lookup"><span data-stu-id="3bd23-125">The Server would then process the information in the “receive data” callback.</span></span> <span data-ttu-id="3bd23-126">Det är här som program Server koden skulle behöva autentisera informationen och avgöra om den är giltig eller inte.</span><span class="sxs-lookup"><span data-stu-id="3bd23-126">This is where the application Server code would have to authenticate the information and decide whether or not it is valid.</span></span>

## <a name="telnet-new-connection-callback"></a><span data-ttu-id="3bd23-127">Telnet, ny motringning för anslutning</span><span class="sxs-lookup"><span data-stu-id="3bd23-127">Telnet New Connection Callback</span></span>

<span data-ttu-id="3bd23-128">NetX Duo Telnet-servern anropar den programspecifika återanrops funktionen när en ny begäran om Telnet-klienten tas emot.</span><span class="sxs-lookup"><span data-stu-id="3bd23-128">The NetX Duo Telnet Server calls the application specified callback function whenever a new Telnet Client request is received.</span></span> <span data-ttu-id="3bd23-129">Programmet anger återanrops funktionen när Telnet-servern skapas via funktionen ***nx_telnet_server_create*** .</span><span class="sxs-lookup"><span data-stu-id="3bd23-129">The application specifies the callback function when the Telnet Server is created via the ***nx_telnet_server_create*** function.</span></span> <span data-ttu-id="3bd23-130">Vanliga åtgärder för återanropet "ny anslutning" inkluderar att skicka en banderoll eller en prompt till klienten.</span><span class="sxs-lookup"><span data-stu-id="3bd23-130">Typical actions of the “new connection” callback include sending a banner or prompt to the Client.</span></span> <span data-ttu-id="3bd23-131">Detta kan mycket bra innehålla en prompt för inloggnings information.</span><span class="sxs-lookup"><span data-stu-id="3bd23-131">This could very well include a prompt for login information.</span></span>

### <a name="prototype"></a><span data-ttu-id="3bd23-132">Prototyp</span><span class="sxs-lookup"><span data-stu-id="3bd23-132">Prototype</span></span>

```c
void  telnet_new_connection(NX_TELNET_SERVER *server_ptr, 
                            UINT logical_connection);
```

### <a name="input-parameters"></a><span data-ttu-id="3bd23-133">Indataparametrar</span><span class="sxs-lookup"><span data-stu-id="3bd23-133">Input Parameters</span></span>

- <span data-ttu-id="3bd23-134">**server_ptr**: pekar mot den anropande Telnet-servern.</span><span class="sxs-lookup"><span data-stu-id="3bd23-134">**server_ptr**: Pointer to the calling Telnet Server.</span></span>
- <span data-ttu-id="3bd23-135">**logical_connection**: den interna logiska anslutningen för Telnet-servern.</span><span class="sxs-lookup"><span data-stu-id="3bd23-135">**logical_connection**: The internal logical connection for the Telnet Server.</span></span> <span data-ttu-id="3bd23-136">Detta kan användas av programmet som ett index i buffertar och/eller data strukturer som är specifika för varje klient anslutning.</span><span class="sxs-lookup"><span data-stu-id="3bd23-136">This can be used by the application as an index into buffers and/or data structures specific for each Client connection.</span></span> <span data-ttu-id="3bd23-137">Värdet sträcker sig från 0 till NX_TELNET_MAX_CLIENTS-1.</span><span class="sxs-lookup"><span data-stu-id="3bd23-137">Its value ranges from 0 through NX_TELNET_MAX_CLIENTS - 1.</span></span>

## <a name="telnet-receive-data-callback"></a><span data-ttu-id="3bd23-138">Motringning från Telnet-data</span><span class="sxs-lookup"><span data-stu-id="3bd23-138">Telnet Receive Data Callback</span></span>

<span data-ttu-id="3bd23-139">NetX Duo Telnet-servern anropar den programspecificerade motringningsfunktionen varje gång som en ny Telnet-klient data tas emot.</span><span class="sxs-lookup"><span data-stu-id="3bd23-139">The NetX Duo Telnet Server calls the application specified callback function whenever a new Telnet Client data is received.</span></span> <span data-ttu-id="3bd23-140">Programmet anger återanrops funktionen när Telnet-servern skapas via funktionen ***nx_telnet_server_create*** .</span><span class="sxs-lookup"><span data-stu-id="3bd23-140">The application specifies the callback function when the Telnet Server is created via the ***nx_telnet_server_create*** function.</span></span> <span data-ttu-id="3bd23-141">Vanliga åtgärder för motringning till "ny anslutning" är att lägga till eko data och/eller parsa data och tillhandahålla data som ett resultat av att ett kommando från klienten tolkas.</span><span class="sxs-lookup"><span data-stu-id="3bd23-141">Typical actions of the “new connection” callback include echoing the data back and/or parsing the data and providing data as a result of interpreting a command from the client.</span></span>

<span data-ttu-id="3bd23-142">Observera att den här återkallnings rutinen även måste släppa det angivna paketet.</span><span class="sxs-lookup"><span data-stu-id="3bd23-142">Note that this callback routine must also release the supplied packet.</span></span>

### <a name="prototype"></a><span data-ttu-id="3bd23-143">Prototyp</span><span class="sxs-lookup"><span data-stu-id="3bd23-143">Prototype</span></span>

```c
void  telnet_receive_data(NX_TELNET_SERVER *server_ptr, 
                          UINT logical_connection, NX_PACKET *packet_ptr);
```
### <a name="input-parameters"></a><span data-ttu-id="3bd23-144">Indataparametrar</span><span class="sxs-lookup"><span data-stu-id="3bd23-144">Input Parameters</span></span>

- <span data-ttu-id="3bd23-145">**server_ptr**: pekar mot den anropande Telnet-servern.</span><span class="sxs-lookup"><span data-stu-id="3bd23-145">**server_ptr**: Pointer to the calling Telnet Server.</span></span>
- <span data-ttu-id="3bd23-146">**logical_connection**: den interna logiska anslutningen för Telnet-servern.</span><span class="sxs-lookup"><span data-stu-id="3bd23-146">**logical_connection**: The internal logical connection for the Telnet Server.</span></span> <span data-ttu-id="3bd23-147">Detta kan användas av programmet som ett index i buffertar och/eller data strukturer som är specifika för varje klient anslutning.</span><span class="sxs-lookup"><span data-stu-id="3bd23-147">This can be used by the application as an index into buffers and/or data structures specific for each Client connection.</span></span> <span data-ttu-id="3bd23-148">Värdet sträcker sig från 0 till NX_TELNET_MAX_CLIENTS-1.</span><span class="sxs-lookup"><span data-stu-id="3bd23-148">Its value ranges from 0 through NX_TELNET_MAX_CLIENTS - 1.</span></span>
- <span data-ttu-id="3bd23-149">**packet_ptr**: pekar mot paket som innehåller data från klienten.</span><span class="sxs-lookup"><span data-stu-id="3bd23-149">**packet_ptr**: Pointer to packet containing the data from the Client.</span></span>

## <a name="telnet-end-connection-callback"></a><span data-ttu-id="3bd23-150">Återanrop för Telnet-avsluta anslutning</span><span class="sxs-lookup"><span data-stu-id="3bd23-150">Telnet End Connection Callback</span></span>

<span data-ttu-id="3bd23-151">NetX Duo Telnet-servern anropar den programspecificerade callback-funktionen när en Telnet-klient avslutar anslutningen.</span><span class="sxs-lookup"><span data-stu-id="3bd23-151">The NetX Duo Telnet Server calls the application specified callback function whenever a Telnet Client ends the connection.</span></span> <span data-ttu-id="3bd23-152">Programmet anger återanrops funktionen när Telnet-servern skapas via funktionen ***nx_telnet_server_create*** .</span><span class="sxs-lookup"><span data-stu-id="3bd23-152">The application specifies the callback function when the Telnet Server is created via the ***nx_telnet_server_create*** function.</span></span> <span data-ttu-id="3bd23-153">Vanliga åtgärder för återanropet "Avsluta anslutning" är bland annat rensning av alla klient särskilda data strukturer som är associerade med den logiska anslutningen.</span><span class="sxs-lookup"><span data-stu-id="3bd23-153">Typical actions of the “end connection” callback include cleaning up any Client specific data structures associated with the logical connection.</span></span>

### <a name="prototype"></a><span data-ttu-id="3bd23-154">Prototyp</span><span class="sxs-lookup"><span data-stu-id="3bd23-154">Prototype</span></span>
```c
void  telnet_end_connection(NX_TELNET_SERVER *server_ptr, 
                            UINT logical_connection);
```

### <a name="input-parameters"></a><span data-ttu-id="3bd23-155">Indataparametrar</span><span class="sxs-lookup"><span data-stu-id="3bd23-155">Input Parameters</span></span>

- <span data-ttu-id="3bd23-156">**server_ptr** Pekare till den anropande Telnet-servern.</span><span class="sxs-lookup"><span data-stu-id="3bd23-156">**server_ptr** Pointer to the calling Telnet Server.</span></span>
- <span data-ttu-id="3bd23-157">**logical_connection** Den interna logiska anslutningen för Telnet-servern.</span><span class="sxs-lookup"><span data-stu-id="3bd23-157">**logical_connection** The internal logical connection for the Telnet Server.</span></span> <span data-ttu-id="3bd23-158">Detta kan användas av programmet som ett index i buffertar och/eller data strukturer som är specifika för varje klient anslutning.</span><span class="sxs-lookup"><span data-stu-id="3bd23-158">This can be used by the application as an index into buffers and/or data structures specific for each Client connection.</span></span> <span data-ttu-id="3bd23-159">Värdet sträcker sig från 0 till NX_TELNET_MAX_CLIENTS-1.</span><span class="sxs-lookup"><span data-stu-id="3bd23-159">Its value ranges from 0 through NX_TELNET_MAX_CLIENTS - 1.</span></span>

## <a name="telnet-option-negotiation"></a><span data-ttu-id="3bd23-160">Alternativ förhandling för Telnet</span><span class="sxs-lookup"><span data-stu-id="3bd23-160">Telnet Option Negotiation</span></span>

<span data-ttu-id="3bd23-161">NetX Duo Telnet-servern har stöd för en begränsad uppsättning Telnet-alternativ, ECHO och förhindras gå vidare.</span><span class="sxs-lookup"><span data-stu-id="3bd23-161">The NetX Duo Telnet Server supports a limited set of Telnet options, Echo and Suppress Go Ahead.</span></span>

<span data-ttu-id="3bd23-162">Om du vill aktivera den här funktionen får NX_TELNET_SERVER_OPTION_DISABLE inte definieras.</span><span class="sxs-lookup"><span data-stu-id="3bd23-162">To enable this feature the NX_TELNET_SERVER_OPTION_DISABLE must not be defined.</span></span> <span data-ttu-id="3bd23-163">Som standard är den inte definierad.</span><span class="sxs-lookup"><span data-stu-id="3bd23-163">By default it is not defined.</span></span> <span data-ttu-id="3bd23-164">Telnet-servern skapar en adresspool i *nx_telnet_server_create* tjänst som den allokerar paket för att skicka Telnet-alternativ till klienten.</span><span class="sxs-lookup"><span data-stu-id="3bd23-164">The Telnet Server creates a packet pool in the *nx_telnet_server_create* service from which it allocates packets for sending telnet options requests to the Client.</span></span> <span data-ttu-id="3bd23-165">Se "konfigurations alternativ" för att ange paketets nytto Last (NX_TELNET_SERVER_PACKET_PAYLOAD) och storlek för Packet pool (NX_TELNET_SERVER_PACKET_POOL_SIZE) för den här poolen.</span><span class="sxs-lookup"><span data-stu-id="3bd23-165">See “Configuration Options” for setting the packet payload (NX_TELNET_SERVER_PACKET_PAYLOAD) and packet pool size (NX_TELNET_SERVER_PACKET_POOL_SIZE) for this packet pool.</span></span> <span data-ttu-id="3bd23-166">Den här poolen tas bort när *nx_telnet_server_deletes* tjänsten anropas.</span><span class="sxs-lookup"><span data-stu-id="3bd23-166">It will delete this packet pool when the *nx_telnet_server_delete* service is called.</span></span>

<span data-ttu-id="3bd23-167">När du upprättar en anslutning till Telnet-klienten kommer den att skicka ut den här uppsättningen Telnet-alternativ till klienten om den inte har fått alternativ begär Anden från klienten:</span><span class="sxs-lookup"><span data-stu-id="3bd23-167">Upon making a connection with the Telnet Client, it will send out this set of telnet options to the Client if it has not received option requests from the Client:</span></span>

- <span data-ttu-id="3bd23-168">kommer eko</span><span class="sxs-lookup"><span data-stu-id="3bd23-168">will echo</span></span>
- <span data-ttu-id="3bd23-169">eko inte</span><span class="sxs-lookup"><span data-stu-id="3bd23-169">dont echo</span></span>
- <span data-ttu-id="3bd23-170">kommer att SGA</span><span class="sxs-lookup"><span data-stu-id="3bd23-170">will sga</span></span>

<span data-ttu-id="3bd23-171">När Telnet-data tas emot från klienten, kontrollerar Telnet-servern om den första byten är "IAC"-koden.</span><span class="sxs-lookup"><span data-stu-id="3bd23-171">When it receives Telnet data from the Client, the Telnet Server checks if the first byte is the “IAC” code.</span></span> <span data-ttu-id="3bd23-172">I så fall kommer de att bearbeta alla alternativ i klient paketet.</span><span class="sxs-lookup"><span data-stu-id="3bd23-172">If so, it will process all the options in the Client packet.</span></span> <span data-ttu-id="3bd23-173">Alternativ som inte finns i listan ovan ignoreras.</span><span class="sxs-lookup"><span data-stu-id="3bd23-173">Options not in the list above are ignored.</span></span>

<span data-ttu-id="3bd23-174">Som standard skapar Telnet-servern sin egen interna adresspool om NX_TELNET_SERVER_OPTION_DISABLE inte har definierats och den måste överföra Telnet-alternativ.</span><span class="sxs-lookup"><span data-stu-id="3bd23-174">By default, the Telnet Server creates its own internal packet pool if NX_TELNET_SERVER_OPTION_DISABLE is not defined and it needs to transmit Telnet option commands.</span></span> <span data-ttu-id="3bd23-175">Programpoolen för Telnet Server definieras av NX_TELNET_SERVER_PACKET_PAYLOAD och NX_TELNET_SERVER_PACKET_POOLSIZE.</span><span class="sxs-lookup"><span data-stu-id="3bd23-175">The Telnet Server packet pool is defined by NX_TELNET_SERVER_PACKET_PAYLOAD and NX_TELNET_SERVER_PACKET_POOLSIZE.</span></span> <span data-ttu-id="3bd23-176">Men om NX_TELNET_SERVER_USER_CREATE_PACKET_POOL har definierats måste programmet skapa paket poolen för Telnet-servern och ange den som en Programpakets-pool för Telnet genom att anropa *_nx_telnet_server_packet_pool_set*.</span><span class="sxs-lookup"><span data-stu-id="3bd23-176">If, however, NX_TELNET_SERVER_USER_CREATE_PACKET_POOL is defined, the application must create the Telnet Server packet pool and set it as the Telnet Server packet pool by calling *_nx_telnet_server_packet_pool_set*.</span></span> <span data-ttu-id="3bd23-177">Mer information om den här funktionen finns i kapitel 3 "Beskrivning av Telnet-tjänster".</span><span class="sxs-lookup"><span data-stu-id="3bd23-177">See Chapter 3 “Description of Telnet Services” for more details about this function.</span></span>

<span data-ttu-id="3bd23-178">Till skillnad från NetX Duo Telnet-servern skickar och svarar inte NetX Duo Telnet-klientens uppgifts tråd automatiskt och svarar på mottagna alternativ från Telnet-servern.</span><span class="sxs-lookup"><span data-stu-id="3bd23-178">Unlike the NetX Duo Telnet Server, the NetX Duo Telnet Client task thread does not automatically send and respond to received options from the Telnet Server.</span></span> <span data-ttu-id="3bd23-179">Detta måste göras av Telnets klient program.</span><span class="sxs-lookup"><span data-stu-id="3bd23-179">This must be done by the Telnet Client application.</span></span>

## <a name="telnet-multi-thread-support"></a><span data-ttu-id="3bd23-180">Stöd för Telnet multi-Thread</span><span class="sxs-lookup"><span data-stu-id="3bd23-180">Telnet Multi-Thread Support</span></span>

<span data-ttu-id="3bd23-181">NetX Duo Telnet Client Services kan anropas från flera trådar samtidigt.</span><span class="sxs-lookup"><span data-stu-id="3bd23-181">The NetX Duo Telnet Client services can be called from multiple threads simultaneously.</span></span> <span data-ttu-id="3bd23-182">Läs-eller Skriv förfrågningar för en viss Telnet-serverinstans bör dock göras i följd från samma tråd.</span><span class="sxs-lookup"><span data-stu-id="3bd23-182">However, read or write requests for a particular Telnet Client instance should be done in sequence from the same thread.</span></span>

## <a name="telnet-rfcs"></a><span data-ttu-id="3bd23-183">Telnet-rapporter</span><span class="sxs-lookup"><span data-stu-id="3bd23-183">Telnet RFCs</span></span>

<span data-ttu-id="3bd23-184">NetX Duo Telnet är kompatibel med RFC854 och relaterade RFC: er.</span><span class="sxs-lookup"><span data-stu-id="3bd23-184">NetX Duo Telnet is compliant with RFC854 and related RFCs.</span></span>
