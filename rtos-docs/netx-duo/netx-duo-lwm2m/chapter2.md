---
title: Kapitel 2 – installation och användning av återställnings tider NetX Duo LWM2M-klienten
description: I det här kapitlet beskrivs hur du installerar och använder återställnings tider NetX Duo LWM2M-klienten.
author: v-condav
ms.author: v-condav
ms.date: 01/22/2021
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 536225de30f54356157c222917fc904c6aa039fe
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 03/22/2021
ms.locfileid: "104825950"
---
# <a name="chapter-2--installation-and-use-of-lwm2m-client"></a><span data-ttu-id="49c38-103">Kapitel 2 installation och användning av LWM2M-klienten</span><span class="sxs-lookup"><span data-stu-id="49c38-103">Chapter 2  Installation and Use of LWM2M Client</span></span>

<span data-ttu-id="49c38-104">Det här kapitlet innehåller en beskrivning av olika problem som rör Installation, konfiguration och användning av LWM2M-klient komponenten.</span><span class="sxs-lookup"><span data-stu-id="49c38-104">This chapter contains a description of various issues related to installation, setup, and usage of the LWM2M Client component.</span></span>

## <a name="product-distribution"></a><span data-ttu-id="49c38-105">Produkt distribution</span><span class="sxs-lookup"><span data-stu-id="49c38-105">Product Distribution</span></span>

<span data-ttu-id="49c38-106">Azure återställnings tider LWM2M-klienten kan hämtas från vår offentliga käll kods lagrings plats på [https://github.com/azure-rtos/netxduo/tree/master/addons/lwm2m](https://github.com/azure-rtos/netxduo/tree/master/addons/lwm2m/) .</span><span class="sxs-lookup"><span data-stu-id="49c38-106">Azure RTOS LWM2M Client can be obtained from our public source code repository at [https://github.com/azure-rtos/netxduo/tree/master/addons/lwm2m](https://github.com/azure-rtos/netxduo/tree/master/addons/lwm2m/).</span></span> <span data-ttu-id="49c38-107">Paketet innehåller tre källfiler, en inkludera filer, enligt följande.</span><span class="sxs-lookup"><span data-stu-id="49c38-107">The package includes three source files, one include files, as follows.</span></span>

* <span data-ttu-id="49c38-108">**NX \_ lwm2m \_ client. h** -huvudfilen för lwm2m-klienten</span><span class="sxs-lookup"><span data-stu-id="49c38-108">**nx\_lwm2m\_client.h** Header file for the LWM2M Client</span></span>

* <span data-ttu-id="49c38-109">**NX \_ lwm2m \_ client. c** c källfiler för lwm2m-klient</span><span class="sxs-lookup"><span data-stu-id="49c38-109">**nx\_lwm2m\_client.c** C Source files for LWM2M Client</span></span>

* <span data-ttu-id="49c38-110">**demo \_ netx \_ lwm2m \_ client. c** c-källfil för lwm2m client demo</span><span class="sxs-lookup"><span data-stu-id="49c38-110">**demo\_netx\_lwm2m\_client.c** C Source file for LWM2M Client Demo</span></span>

## <a name="lwm2m-client-installation"></a><span data-ttu-id="49c38-111">LWM2M-klient installation</span><span class="sxs-lookup"><span data-stu-id="49c38-111">LWM2M Client Installation</span></span>

<span data-ttu-id="49c38-112">LWM2M-klienten är en del av NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="49c38-112">The LWM2M Client is part of NetX Duo.</span></span> <span data-ttu-id="49c38-113">Efter kloning av NetX duo från GitHub-lagringsplatsen kan du därför hitta LWM2M klient källa på ***netxduo/addons/LWM2M***.</span><span class="sxs-lookup"><span data-stu-id="49c38-113">Therefore, after cloning NetX Duo from the GitHub repository, LWM2M client source can be found at ***netxduo/addons/lwm2m***.</span></span>

## <a name="using-lwm2m_client"></a><span data-ttu-id="49c38-114">Använda LWM2M- \_ klient</span><span class="sxs-lookup"><span data-stu-id="49c38-114">Using LWM2M\_Client</span></span>

<span data-ttu-id="49c38-115">Det är enkelt att använda LWM2M-klienten.</span><span class="sxs-lookup"><span data-stu-id="49c38-115">Using LWM2M Client is straightforward.</span></span> <span data-ttu-id="49c38-116">Program koden måste i princip innehålla en ***NX \_ lwm2m \_ -klient. h \*\* _ efter att det innehåller _*_TX \_ API. h_*_ och _*_NX \_ API. h_*_, för att använda ThreadX och netx. När _*_NX \_ lwm2m \_ client. h_*_ ingår, kan program koden sedan göra lwm2m klient funktions anrop senare i den här hand boken. Programmet måste också importera _* _nx lwm2m- \_ \_ klienten \_ . \***\* Files till netx-biblioteket.</span><span class="sxs-lookup"><span data-stu-id="49c38-116">Basically, the application code must include ***nx\_lwm2m\_client.h\*\*_ after it includes _*_tx\_api.h_*_ and _*_nx\_api.h_*_, in order to use ThreadX and NetX. Once _*_nx\_lwm2m\_client.h_*_ is included, the application code is then able to make the LWM2M Client function calls specified later in this guide. The application must also import the _* _nx\_lwm2m\_client\_.\***\* files into the NetX library.</span></span>

## <a name="configuration-options"></a><span data-ttu-id="49c38-117">Konfigurations alternativ</span><span class="sxs-lookup"><span data-stu-id="49c38-117">Configuration Options</span></span>

<span data-ttu-id="49c38-118">Det finns flera konfigurations alternativ när du skapar LWM2M-klient biblioteket och programmet med LWM2M-klienten.</span><span class="sxs-lookup"><span data-stu-id="49c38-118">There are several configuration options when building the LWM2M Client library and the application using the LWM2M Client.</span></span> <span data-ttu-id="49c38-119">Konfigurations alternativen kan definieras i program källan på kommando raden, om inget annat anges.</span><span class="sxs-lookup"><span data-stu-id="49c38-119">The configuration options can be defined in the application source, on the command line, unless otherwise specified.</span></span>

| <span data-ttu-id="49c38-120">Konfigurations &nbsp; alternativ</span><span class="sxs-lookup"><span data-stu-id="49c38-120">Configuration&nbsp;Option</span></span> | <span data-ttu-id="49c38-121">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="49c38-121">Description</span></span> |
| --- | --- |
| <span data-ttu-id="49c38-122">**NX \_ LWM2M- \_ klientens \_ MTU**</span><span class="sxs-lookup"><span data-stu-id="49c38-122">**NX\_LWM2M\_CLIENT\_MTU**</span></span> | <span data-ttu-id="49c38-123">Anger den maximala storleken för ett CoAP-meddelande, inklusive IP-och UDP-huvuden.</span><span class="sxs-lookup"><span data-stu-id="49c38-123">Specifies the maximum size of a CoAP message, including IP and UDP headers.</span></span> <span data-ttu-id="49c38-124">Standardvärdet är 1280.</span><span class="sxs-lookup"><span data-stu-id="49c38-124">The default value is 1280.</span></span> |
| <span data-ttu-id="49c38-125">**NX \_ LWM2M \_ client \_ socket \_ TOS**</span><span class="sxs-lookup"><span data-stu-id="49c38-125">**NX\_LWM2M\_CLIENT\_SOCKET\_TOS**</span></span> | <span data-ttu-id="49c38-126">Typ av tjänst som krävs för LwM2M-UDP.</span><span class="sxs-lookup"><span data-stu-id="49c38-126">Type of service required for the LwM2M UDP.</span></span> <span data-ttu-id="49c38-127">Som standard definieras det här värdet som NX \_ IP \_ Normal för att ange en normal IP-paketfiltrering.</span><span class="sxs-lookup"><span data-stu-id="49c38-127">By default, this value is defined as NX\_IP\_NORMAL to indicate normal IP packet service.</span></span> |
| <span data-ttu-id="49c38-128">**NX \_ LWM2M \_ client \_ socket \_ TTL**</span><span class="sxs-lookup"><span data-stu-id="49c38-128">**NX\_LWM2M\_CLIENT\_SOCKET\_TTL**</span></span> | <span data-ttu-id="49c38-129">Anger antalet routrar som det här paketet kan passera innan det tas bort.</span><span class="sxs-lookup"><span data-stu-id="49c38-129">Specifies the number of routers this packet can pass before it is discarded.</span></span> <span data-ttu-id="49c38-130">Standardvärdet är inställt på 0x80.</span><span class="sxs-lookup"><span data-stu-id="49c38-130">The default value is set to 0x80.</span></span> |
| <span data-ttu-id="49c38-131">**NX \_ LWM2M- \_ klientens \_ socket- \_ kö \_ Max**</span><span class="sxs-lookup"><span data-stu-id="49c38-131">**NX\_LWM2M\_CLIENT\_SOCKET\_QUEUE\_MAX**</span></span> | <span data-ttu-id="49c38-132">Anger antalet maximala djup i mottagnings kön.</span><span class="sxs-lookup"><span data-stu-id="49c38-132">Specifies the number of maximum depths of receive queue.</span></span> <span data-ttu-id="49c38-133">Standardvärdet är inställt på 4.</span><span class="sxs-lookup"><span data-stu-id="49c38-133">The default value is set to 4.</span></span> |
| <span data-ttu-id="49c38-134">**NX \_ LWM2M- \_ klient \_ Max COAP-URI- \_ \_ \_ sökväg**</span><span class="sxs-lookup"><span data-stu-id="49c38-134">**NX\_LWM2M\_CLIENT\_MAX\_COAP\_URI\_PATH**</span></span> | <span data-ttu-id="49c38-135">Anger antalet Max längder för alternativet CoAP Uri-Path.</span><span class="sxs-lookup"><span data-stu-id="49c38-135">Specifies the number of maximum lengths of the CoAP Uri-Path option.</span></span> <span data-ttu-id="49c38-136">Standardvärdet är inställt på 32.</span><span class="sxs-lookup"><span data-stu-id="49c38-136">The default value is set to 32.</span></span> |
| <span data-ttu-id="49c38-137">**NX \_ LWM2M \_ klient \_ Max \_ enhets \_ fel**</span><span class="sxs-lookup"><span data-stu-id="49c38-137">**NX\_LWM2M\_CLIENT\_MAX\_DEVICE\_ERRORS**</span></span> | <span data-ttu-id="49c38-138">Anger det högsta antalet felkoder som lagras av enhetsobjektet.</span><span class="sxs-lookup"><span data-stu-id="49c38-138">Specifies the maximum number of error codes stored by the Device Object.</span></span> <span data-ttu-id="49c38-139">Standardvärdet är 8.</span><span class="sxs-lookup"><span data-stu-id="49c38-139">The default value is 8.</span></span> |
| <span data-ttu-id="49c38-140">**NX \_ LWM2M- \_ klient \_ Max \_ säkerhets \_ instanser**</span><span class="sxs-lookup"><span data-stu-id="49c38-140">**NX\_LWM2M\_CLIENT\_MAX\_SECURITY\_INSTANCES**</span></span> | <span data-ttu-id="49c38-141">Anger det maximala antalet säkerhets objekt instanser.</span><span class="sxs-lookup"><span data-stu-id="49c38-141">Specifies the maximum number of Security Object Instances.</span></span> <span data-ttu-id="49c38-142">Standardvärdet är 2 för att stödja en Start Server och en standard server.</span><span class="sxs-lookup"><span data-stu-id="49c38-142">The default value is 2 for supporting a Bootstrap Server and a standard Server.</span></span> |
| <span data-ttu-id="49c38-143">**NX \_ LWM2M- \_ klient \_ Max \_ Server \_ instanser**</span><span class="sxs-lookup"><span data-stu-id="49c38-143">**NX\_LWM2M\_CLIENT\_MAX\_SERVER\_INSTANCES**</span></span> | <span data-ttu-id="49c38-144">Anger det maximala antalet Server objekt instanser.</span><span class="sxs-lookup"><span data-stu-id="49c38-144">Specifies the maximum number of Server Object Instances.</span></span> <span data-ttu-id="49c38-145">Standardvärdet är 1 för att stödja en enda standard server.</span><span class="sxs-lookup"><span data-stu-id="49c38-145">The default value is 1 for supporting a single standard Server.</span></span> |
| <span data-ttu-id="49c38-146">**NX \_ LWM2M \_ - \_ klient \_ Max \_ instanser för åtkomst kontroll \_**</span><span class="sxs-lookup"><span data-stu-id="49c38-146">**NX\_LWM2M\_CLIENT\_MAX\_ACCESS\_CONTROL\_INSTANCES**</span></span> | <span data-ttu-id="49c38-147">Anger det maximala antalet Access Control instanser.</span><span class="sxs-lookup"><span data-stu-id="49c38-147">Specifies the maximum number of Access Control Instances.</span></span> <span data-ttu-id="49c38-148">Standardvärdet är 0, vilket inaktiverar åtkomst kontroll.</span><span class="sxs-lookup"><span data-stu-id="49c38-148">The default value is 0, which disables access control.</span></span> <span data-ttu-id="49c38-149">Om programmet har stöd för mer än en LWM2M-Server, måste det maximala antalet Access Control instanser anges till det maximala antalet objekt instanser som LWM2M-klienten stöder, eftersom en Access Control instans måste skapas för varje objekt instans (utom säkerhets objekts instanserna).</span><span class="sxs-lookup"><span data-stu-id="49c38-149">If the application supports more than one LWM2M Server, the maximum number of Access Control Instances must be set to the maximum number of Object Instances that the LWM2M Client will support, as one Access Control Instance must be created for each Object Instance (except for the Security Object Instances).</span></span> |
| <span data-ttu-id="49c38-150">**NX \_ LWM2M- \_ klient \_ Max \_ åtkomst \_ kontrol \_ listor för åtkomst kontroll**</span><span class="sxs-lookup"><span data-stu-id="49c38-150">**NX\_LWM2M\_CLIENT\_MAX\_ACCESS\_CONTROL\_ACLS**</span></span> | <span data-ttu-id="49c38-151">Anger det maximala antalet ACL-resurser per Access Control instans.</span><span class="sxs-lookup"><span data-stu-id="49c38-151">Specifies the maximum number of ACL resources per Access Control Instance.</span></span> <span data-ttu-id="49c38-152">Standardvärdet är 4.</span><span class="sxs-lookup"><span data-stu-id="49c38-152">The default value is 4.</span></span> |
| <span data-ttu-id="49c38-153">**NX \_ LWM2M \_ klient \_ Max \_ meddelanden**</span><span class="sxs-lookup"><span data-stu-id="49c38-153">**NX\_LWM2M\_CLIENT\_MAX\_NOTIFICATIONS**</span></span> | <span data-ttu-id="49c38-154">Anger det maximala antalet meddelanden som LWM2M-klienten har stöd för.</span><span class="sxs-lookup"><span data-stu-id="49c38-154">Specifies the maximum number of notifications that the LWM2M Client will support.</span></span> <span data-ttu-id="49c38-155">En LWM2M-Server kan ange meddelanden om objekt, objekt instanser och resurser.</span><span class="sxs-lookup"><span data-stu-id="49c38-155">A LWM2M Server can set notifications on Objects, Object Instances, and Resources.</span></span> <span data-ttu-id="49c38-156">Standardvärdet är 8.</span><span class="sxs-lookup"><span data-stu-id="49c38-156">The default value is 8.</span></span> |
| <span data-ttu-id="49c38-157">**NX \_ LWM2M- \_ klient \_ Max \_ resurser**</span><span class="sxs-lookup"><span data-stu-id="49c38-157">**NX\_LWM2M\_CLIENT\_MAX\_RESOURCES**</span></span> | <span data-ttu-id="49c38-158">Anger det maximala antalet resurser per objekt.</span><span class="sxs-lookup"><span data-stu-id="49c38-158">Specifies the maximum number of Resources per Object.</span></span> <span data-ttu-id="49c38-159">Standardvärdet är 32.</span><span class="sxs-lookup"><span data-stu-id="49c38-159">The default value is 32.</span></span> |
| <span data-ttu-id="49c38-160">**NX \_ LWM2M- \_ klient \_ Max \_ flera \_ resurser**</span><span class="sxs-lookup"><span data-stu-id="49c38-160">**NX\_LWM2M\_CLIENT\_MAX\_MULTIPLE\_RESOURCES**</span></span> | <span data-ttu-id="49c38-161">Anger det maximala antalet resurs instanser för flera resurser.</span><span class="sxs-lookup"><span data-stu-id="49c38-161">Specifies the maximum number of Resources instances for multiple resource.</span></span> <span data-ttu-id="49c38-162">Standardvärdet är 8.</span><span class="sxs-lookup"><span data-stu-id="49c38-162">The default value is 8.</span></span> |
| <span data-ttu-id="49c38-163">**NX \_ LWM2M- \_ klient \_ Start timer för \_ inaktivitet \_**</span><span class="sxs-lookup"><span data-stu-id="49c38-163">**NX\_LWM2M\_CLIENT\_BOOTSTRAP\_IDLE\_TIMER**</span></span> | <span data-ttu-id="49c38-164">Anger den längsta vänte tiden för bootstrap-server begär anden när bootstrap-sessionen initieras innan sessionen avbryts.</span><span class="sxs-lookup"><span data-stu-id="49c38-164">Specifies the maximum time to wait for bootstrap server requests when the bootstrap session is initiated before aborting the session.</span></span> <span data-ttu-id="49c38-165">Standardvärdet är 60 sekunder.</span><span class="sxs-lookup"><span data-stu-id="49c38-165">The default value is 60 seconds.</span></span> |
| <span data-ttu-id="49c38-166">**NX \_ LWM2M \_ client \_ DTLS \_ Start \_ timeout**</span><span class="sxs-lookup"><span data-stu-id="49c38-166">**NX\_LWM2M\_CLIENT\_DTLS\_START\_TIMEOUT**</span></span> | <span data-ttu-id="49c38-167">Anger den maximala vänte tiden för slut för ande av DTLS-handskakning.</span><span class="sxs-lookup"><span data-stu-id="49c38-167">Specifies the maximum time to wait for DTLS handshake completion.</span></span> <span data-ttu-id="49c38-168">Standardvärdet är 30 sekunder.</span><span class="sxs-lookup"><span data-stu-id="49c38-168">The default value is 30 seconds.</span></span> |
| <span data-ttu-id="49c38-169">**NX \_ LWM2M \_ klient \_ DTLS \_ slut \_ tids gräns**</span><span class="sxs-lookup"><span data-stu-id="49c38-169">**NX\_LWM2M\_CLIENT\_DTLS\_END\_TIMEOUT**</span></span> | <span data-ttu-id="49c38-170">Anger den maximala vänte tiden för slut för ande av DTLS.</span><span class="sxs-lookup"><span data-stu-id="49c38-170">Specifies the maximum time to wait for DTLS shutdown completion.</span></span> <span data-ttu-id="49c38-171">Standardvärdet är 5 sekunder.</span><span class="sxs-lookup"><span data-stu-id="49c38-171">The default value is 5 seconds.</span></span> |
| <span data-ttu-id="49c38-172">**NX \_ LWM2M \_ klient \_ säkerhet \_ Max \_ Server- \_ URI**</span><span class="sxs-lookup"><span data-stu-id="49c38-172">**NX\_LWM2M\_CLIENT\_SECURITY\_MAX\_SERVER\_URI**</span></span> | <span data-ttu-id="49c38-173">Anger den maximala längden för en server-URI, inklusive avslutande NULL-tecken.</span><span class="sxs-lookup"><span data-stu-id="49c38-173">Specifies the maximum length of a server URI, including terminating null character.</span></span> <span data-ttu-id="49c38-174">Standardvärdet är 128.</span><span class="sxs-lookup"><span data-stu-id="49c38-174">The default value is 128.</span></span> |
| <span data-ttu-id="49c38-175">**NX \_ LWM2M \_ klient \_ säkerhet \_ Max \_ offentlig \_ nyckel \_ eller \_ identitet**</span><span class="sxs-lookup"><span data-stu-id="49c38-175">**NX\_LWM2M\_CLIENT\_SECURITY\_MAX\_PUBLIC\_KEY\_OR\_IDENTITY**</span></span> | <span data-ttu-id="49c38-176">Anger den maximala längden för den offentliga nyckeln eller identiteten för DTLS.</span><span class="sxs-lookup"><span data-stu-id="49c38-176">Specifies the maximum length of the public key or identity for DTLS.</span></span> <span data-ttu-id="49c38-177">Standardvärdet är 128.</span><span class="sxs-lookup"><span data-stu-id="49c38-177">The default value is 128.</span></span> |
| <span data-ttu-id="49c38-178">**NX \_ LWM2M \_ klient \_ säkerhet \_ Max \_ Server \_ offentlig \_ nyckel**</span><span class="sxs-lookup"><span data-stu-id="49c38-178">**NX\_LWM2M\_CLIENT\_SECURITY\_MAX\_SERVER\_PUBLIC\_KEY**</span></span> | <span data-ttu-id="49c38-179">Anger den maximala längden för serverns offentliga nyckel för DTLS.</span><span class="sxs-lookup"><span data-stu-id="49c38-179">Specifies the maximum length of the server public key for DTLS.</span></span> <span data-ttu-id="49c38-180">Standardvärdet är 128.</span><span class="sxs-lookup"><span data-stu-id="49c38-180">The default value is 128.</span></span> |
| <span data-ttu-id="49c38-181">**NX \_ LWM2M \_ klient \_ säkerhet \_ Max \_ hemlig \_ nyckel**</span><span class="sxs-lookup"><span data-stu-id="49c38-181">**NX\_LWM2M\_CLIENT\_SECURITY\_MAX\_SECRET\_KEY**</span></span> | <span data-ttu-id="49c38-182">Anger den maximala längden för den hemliga nyckeln för DTLS.</span><span class="sxs-lookup"><span data-stu-id="49c38-182">Specifies the maximum length of the secret key for DTLS.</span></span> <span data-ttu-id="49c38-183">Standardvärdet är 128.</span><span class="sxs-lookup"><span data-stu-id="49c38-183">The default value is 128.</span></span> |
| <span data-ttu-id="49c38-184">**NX \_ LWM2M- \_ klienten håller på att \_ stoppas \_**</span><span class="sxs-lookup"><span data-stu-id="49c38-184">**NX\_LWM2M\_CLIENT\_HOLD\_OFF**</span></span> | <span data-ttu-id="49c38-185">Anger hur många sekunder som ska förflyta innan start programmet initieras.</span><span class="sxs-lookup"><span data-stu-id="49c38-185">Specifies the number of seconds to wait before initiating bootstrap.</span></span> <span data-ttu-id="49c38-186">Standardvärdet är 1 sekund.</span><span class="sxs-lookup"><span data-stu-id="49c38-186">The default value is 1 second.</span></span> |
| <span data-ttu-id="49c38-187">**NX \_ LWM2M- \_ klientens \_ livs längd \_**</span><span class="sxs-lookup"><span data-stu-id="49c38-187">**NX\_LWM2M\_CLIENT\_LIFE\_TIME**</span></span> | <span data-ttu-id="49c38-188">Anger antalet sekunder för registrerings livs längden.</span><span class="sxs-lookup"><span data-stu-id="49c38-188">Specifies the number of seconds for the registration lifetime.</span></span> <span data-ttu-id="49c38-189">Standardvärdet är 600 sekunder.</span><span class="sxs-lookup"><span data-stu-id="49c38-189">The default value is 600 seconds.</span></span> |
