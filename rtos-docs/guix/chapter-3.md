---
title: Kapitel 3 – Funktionell översikt över GUIX
description: Det här kapitlet innehåller en funktionell översikt över produkten med högpresterande GUIX-användargränssnitt.
author: philmea
ms.author: philmea
ms.date: 05/19/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 2a53da048b18d35b6b15a4ad8d4138e1a2acd4e8
ms.sourcegitcommit: 95f4ae0842a486fec8f10d1480203695faa9592d
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 06/09/2021
ms.locfileid: "111875262"
---
# <a name="chapter-3---functional-overview-of-guix"></a><span data-ttu-id="26ca0-103">Kapitel 3 – Funktionell översikt över GUIX</span><span class="sxs-lookup"><span data-stu-id="26ca0-103">Chapter 3 - Functional Overview of GUIX</span></span>

<span data-ttu-id="26ca0-104">Det här kapitlet innehåller en funktionell översikt över produkten med högpresterande GUIX-användargränssnitt.</span><span class="sxs-lookup"><span data-stu-id="26ca0-104">This chapter contains a functional overview of the high-performance GUIX user interface product.</span></span> 

## <a name="execution-overview"></a><span data-ttu-id="26ca0-105">Körningsöversikt</span><span class="sxs-lookup"><span data-stu-id="26ca0-105">Execution Overview</span></span>

<span data-ttu-id="26ca0-106">GUIX implementerar en händelsedriven programmeringsmodell.</span><span class="sxs-lookup"><span data-stu-id="26ca0-106">GUIX implements an event driven programming model.</span></span> <span data-ttu-id="26ca0-107">Det innebär att GUIX-ramverket främst drivs av mottagandet av händelser som skickas till GUIX-händelsekön.</span><span class="sxs-lookup"><span data-stu-id="26ca0-107">This means that the GUIX framework is primarily driven by the receipt of events pushed into the GUIX event queue.</span></span> <span data-ttu-id="26ca0-108">Bearbetningen av dessa händelser sker i kontexten för GUIX-tråden, som är en ThreadX-tråd som skapas under GUIX-system initieringen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-108">The processing of these events takes place in the context of the GUIX thread, which is a ThreadX thread created during GUIX system initialization.</span></span>

<span data-ttu-id="26ca0-109">GUIX-program definierar användargränssnittet genom att anropa GUIX API-funktioner för att skapa fönster och underordnade widgetar och anpassa utseendet på dessa widgetar genom att anropa ytterligare API-funktioner som används för att definiera färger, format, teckensnitt och olika andra attribut för varje fönster eller widgettyp.</span><span class="sxs-lookup"><span data-stu-id="26ca0-109">GUIX applications define the user interface by calling GUIX API functions to create windows and child widgets, and customize the appearance of these widgets by calling additional API functions used to define colors, styles, fonts, and various other attributes of each window or widget type.</span></span> <span data-ttu-id="26ca0-110">Om du använder GUIX Studio för att skapa utseendet på dina användargränssnittsskärmar utförs mycket av det här arbetet med att anropa GUIX API-funktioner för att skapa din skärm åt dig av GUIX Studio-programmet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-110">If you are using GUIX Studio to create the appearance of your user-interface screens, much of this work of calling GUIX API functions to create your display is done for you by the GUIX Studio application.</span></span>

<span data-ttu-id="26ca0-111">GUIX-program interagerar med systemanvändaren och med extern affärslogik genom att hantera händelser som hämtats från GUIX-händelsekön.</span><span class="sxs-lookup"><span data-stu-id="26ca0-111">GUIX applications interact with the system user and with external business logic by handling events retrieved from the GUIX event queue.</span></span>
<span data-ttu-id="26ca0-112">Dessa händelser skapas vanligtvis av GUIX-widgetar, men de kan också skapas av externa trådar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-112">These events are usually produced by GUIX widgets, but they can also be created by external threads.</span></span> <span data-ttu-id="26ca0-113">När en typisk GUIX-knapp pushas skickar knappen en händelse till knappens överordnade fönster.</span><span class="sxs-lookup"><span data-stu-id="26ca0-113">When a typical GUIX button is pushed, that button sends an event to the button’s parent window.</span></span> <span data-ttu-id="26ca0-114">Ditt program agerar på knapp-push-knappen genom att tillhandahålla en hanterare för knappens push-händelse.</span><span class="sxs-lookup"><span data-stu-id="26ca0-114">Your application program will act on that button push by providing a handler for the button push event.</span></span>

<span data-ttu-id="26ca0-115">Ytterligare GUIX-trådar skapas ofta för saker som indatadrivrutiner.</span><span class="sxs-lookup"><span data-stu-id="26ca0-115">Additional GUIX threads are often created for things such as input drivers.</span></span> <span data-ttu-id="26ca0-116">En typisk drivrutin för pekskärmsinmatning körs som en fristående tråd som är extern till guix-huvudtråden.</span><span class="sxs-lookup"><span data-stu-id="26ca0-116">A typical touch screen input driver is executed as a standalone thread external to the main GUIX thread.</span></span> <span data-ttu-id="26ca0-117">Touch-indatadrivrutinen skickar pekinformation till GUIX-tråden genom att skicka händelser till GUIX-händelsekön.</span><span class="sxs-lookup"><span data-stu-id="26ca0-117">The touch input driver sends touch information into the GUIX thread by sending events into the GUIX event queue.</span></span>

<span data-ttu-id="26ca0-118">Eftersom många användargränssnittsåtgärder som animeringar kräver korrekt tidsinformation implementerar GUIX också ett enkelt och lättanvändargränssnitt.</span><span class="sxs-lookup"><span data-stu-id="26ca0-118">Since many user-interface operations such as animations require accurate timing information, GUIX also implements a simple and easy to use timer interface.</span></span> <span data-ttu-id="26ca0-119">Det här timergränssnittet bygger på ThreadX-timertjänsten och konfigureras automatiskt vid systemstart.</span><span class="sxs-lookup"><span data-stu-id="26ca0-119">This timer interface is built upon the ThreadX timer service, and is configured automatically at system startup.</span></span>

<span data-ttu-id="26ca0-120">Merparten av GUIX-programvaran är oberoende av eventuella maskinvaruberoenden.</span><span class="sxs-lookup"><span data-stu-id="26ca0-120">The vast majority of the GUIX software is independent of any hardware dependencies.</span></span> <span data-ttu-id="26ca0-121">Ramverket kräver maskinvaruspecifika indatadrivrutiner och maskinvaruspecifika grafikdrivrutiner.</span><span class="sxs-lookup"><span data-stu-id="26ca0-121">The framework does require hardware-specific input drivers and hardware-specific graphics drivers.</span></span> <span data-ttu-id="26ca0-122">Information om hur dessa maskinvaruspecifika drivrutiner implementeras skjuts upp till kapitel 5.</span><span class="sxs-lookup"><span data-stu-id="26ca0-122">The details of how these hardware specific drivers are implemented are deferred to chapter 5.</span></span>

## <a name="initialization"></a><span data-ttu-id="26ca0-123">Initiering</span><span class="sxs-lookup"><span data-stu-id="26ca0-123">Initialization</span></span> 

<span data-ttu-id="26ca0-124">Tjänsten måste ***gx_system_initialize*** anropas innan någon annan GUIX-tjänst anropas.</span><span class="sxs-lookup"><span data-stu-id="26ca0-124">The service ***gx_system_initialize*** must be called before any other GUIX service is called.</span></span> <span data-ttu-id="26ca0-125">GUIX-systeminitiering kan anropas ***från*** ThreadX tx_application_define rutinen (initieringskontext) eller från programtrådar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-125">GUIX system initialization can be called from the ThreadX ***tx_application_define*** routine (initialization context) or from application threads.</span></span> <span data-ttu-id="26ca0-126">Funktionen ***gx_system_initialize*** skapar GUIX-händelsekön, initierar GUIX-timerfunktionen, skapar den huvudsakliga GUIX-systemtråden och initierar olika datastrukturer som underhålls av GUIX under körningen av ditt program.</span><span class="sxs-lookup"><span data-stu-id="26ca0-126">The ***gx_system_initialize*** function creates the GUIX event queue, initializes the GUIX timer facility, creates the main GUIX system thread, and initializes various data structures maintained by GUIX during the execution of your application.</span></span>

<span data-ttu-id="26ca0-127">När ***gx_system_initialize*** returneras är programmet redo att skapa skärmar, arbetsyteobjekt, fönster, widgetar och anpassa egenskaperna för alla GUIX-objekt.</span><span class="sxs-lookup"><span data-stu-id="26ca0-127">After ***gx_system_initialize*** returns, the application is ready to create displays, canvases, windows, widgets, and customize the properties of all GUIX objects.</span></span> <span data-ttu-id="26ca0-128">Mycket av API:et för att skapa GUIX-objekt ***kan anropas från tx_application_define*** eller från programtrådar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-128">Much of the GUIX object creation API can be called from ***tx_application_define*** or from application threads.</span></span>

## <a name="application-interface-calls"></a><span data-ttu-id="26ca0-129">Anrop till programgränssnitt</span><span class="sxs-lookup"><span data-stu-id="26ca0-129">Application Interface Calls</span></span> 

<span data-ttu-id="26ca0-130">Anrop från programmet görs huvudsakligen från ***tx_application_define*** (initieringskontext) eller från programtrådar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-130">Calls from the application are largely made from ***tx_application_define*** (initialization context) or from application threads.</span></span> <span data-ttu-id="26ca0-131">Se avsnittet "Tillåten från" i varje GUIX-API som beskrivs i kapitel 4 för att avgöra vilken kontext det kan anropas från.</span><span class="sxs-lookup"><span data-stu-id="26ca0-131">Please see the “Allowed From” section of each GUIX API described in Chapter 4 to determine what context it may be called from.</span></span>

<span data-ttu-id="26ca0-132">I de flesta fall skjuts bearbetningsintensiva aktiviteter upp till den interna GUIX-tråden, inklusive all händelsebearbetning och widget/fönsterritning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-132">For the most part, processing intensive activities are deferred to the internal GUIX thread, including all event processing and widget/window drawing.</span></span>

<span data-ttu-id="26ca0-133">GUIX API-funktionerna kan anropas från vilken tråd som helst när som helst.</span><span class="sxs-lookup"><span data-stu-id="26ca0-133">The GUIX API functions can be called from any thread at any time.</span></span>
<span data-ttu-id="26ca0-134">Det anses dock vanligtvis vara en bättre arkitektur för att separera din tidskritiska affärslogik från logiken i användargränssnittet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-134">However it is usually considered to be better architecture to separate your time-critical business logic from your user interface logic.</span></span> <span data-ttu-id="26ca0-135">Eftersom ritningsåtgärder i användargränssnittet ibland kan ta lång tid beroende på din visningsstorlek och CPU-prestanda vill du normalt inte ha tidskritiska trådar som väntar på att en ritningsåtgärd ska slutföras.</span><span class="sxs-lookup"><span data-stu-id="26ca0-135">Since the user interface drawing operations can sometimes take a long time depending on your display size and CPU performance, you normally would not want to have time-critical threads delayed waiting for a drawing operation to complete.</span></span>

## <a name="internal-guix-thread"></a><span data-ttu-id="26ca0-136">Intern GUIX-tråd</span><span class="sxs-lookup"><span data-stu-id="26ca0-136">Internal GUIX Thread</span></span> 

<span data-ttu-id="26ca0-137">Som tidigare nämnts har GUIX en intern tråd som utför den största delen av GUI-bearbetningen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-137">As mentioned, GUIX has an internal thread that performs the bulk of the GUI processing.</span></span> <span data-ttu-id="26ca0-138">Den här tråden skapas av programmet genom att anropa ***gx_system_initialize** _ följt av _*_gx_system_start_\*\*.</span><span class="sxs-lookup"><span data-stu-id="26ca0-138">This thread is created by the application software by calling ***gx_system_initialize** _ followed by _*_gx_system_start_\*\*.</span></span>

<span data-ttu-id="26ca0-139">Prioriteten för den interna GUIX-tråden bestäms av `#define GX_SYSTEM_THREAD_PRIORITY` .</span><span class="sxs-lookup"><span data-stu-id="26ca0-139">The priority of the internal GUIX thread is determined by the `#define GX_SYSTEM_THREAD_PRIORITY`.</span></span> <span data-ttu-id="26ca0-140">Det här värdet är som standard 16 (mellanprioritet), men kan ändras genom att det här värdet anges i gx_port.h- eller gx_user.h-huvudfilen, vilket åsidosätter standardvärdet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-140">This value defaults to 16 (middle priority) but can be modified by specifying this value in the gx_port.h or gx_user.h header file, overriding the default value.</span></span>

<span data-ttu-id="26ca0-141">GUIX-trådtidssegmentet definieras på liknande sätt av `#define GX_SYSTEM_THREAD_TIMESLICE` , som har värdet 10 ms som standard.</span><span class="sxs-lookup"><span data-stu-id="26ca0-141">The GUIX thread time slice is similarly defined by the `#define GX_SYSTEM_THREAD_TIMESLICE`, which defaults to the value 10 ms.</span></span>

<span data-ttu-id="26ca0-142">Stack-sie för systemtråden bestäms av , som finns i gx_port.h-huvudfilen, men kan också åsidosättas genom att ange det här värdet i `#define GX_THREAD_STACK_SIZE` gx_user.h-huvudfilen. </span><span class="sxs-lookup"><span data-stu-id="26ca0-142">The stack sie of the system thread is determined by the `#define GX_THREAD_STACK_SIZE`, which is found in the ***gx_port.h*** header file, but can also be overridden by specifying this value in your gx_user.h header file.</span></span>

<span data-ttu-id="26ca0-143">Den interna GUIX-trådkörningsloopen består av tre åtgärder.</span><span class="sxs-lookup"><span data-stu-id="26ca0-143">The internal GUIX thread execution loop is composed of three actions.</span></span>
<span data-ttu-id="26ca0-144">Först hämtar GUIX händelser från GUIX-händelsekön och skickar dessa händelser för bearbetning av GUIX-fönster och widgetar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-144">First, GUIX retrieves events from the GUIX event queue and dispatches those events for processing by the GUIX windows and widgets.</span></span> <span data-ttu-id="26ca0-145">Händelser pushas vanligtvis till GUIX-händelsekön av periodiska timers, indataenheter som en pekskärm eller knappsats och av GUIX-widgetar själva när de bearbetar användarindata.</span><span class="sxs-lookup"><span data-stu-id="26ca0-145">Events are typically pushed into the GUIX event queue by periodic timers, input devices such as a touch screen or keypad, and by GUIX widgets themselves as they process user input.</span></span> <span data-ttu-id="26ca0-146">Efter att alla händelser har bearbetats avgör GUIX om en skärmuppdatering krävs och i så fall utför den bearbetning som krävs för att uppdatera visningsgrafikdata, främst genom att anropa ritningsfunktionerna i de fönster och widgetar som har markerats som dirty (dirty).</span><span class="sxs-lookup"><span data-stu-id="26ca0-146">Next, after all events have been processed, GUIX determines if a screen refresh is needed, and if so performs the processing necessary to update the display graphics data, mainly by calling the drawing functions of those windows and widgets which have been marked as dirty.</span></span> <span data-ttu-id="26ca0-147">Slutligen pausar GUIX GUIX-tråden tills en ny indatahändelse eller händelser anländer.</span><span class="sxs-lookup"><span data-stu-id="26ca0-147">Finally, GUIX suspends the GUIX thread until a new input event or events arrive.</span></span>

## <a name="event-processing"></a><span data-ttu-id="26ca0-148">Händelsebearbetning</span><span class="sxs-lookup"><span data-stu-id="26ca0-148">Event Processing</span></span> 

<span data-ttu-id="26ca0-149">Touch- eller pennindatahändelser bearbetas genom att fastställa det översta fönstret eller widgeten under pek- eller pennindatapunktspositionen och anropa fönstrets/widgetens händelsebearbetningsfunktion.</span><span class="sxs-lookup"><span data-stu-id="26ca0-149">Touch or pen input events are processed by determining the top-most window or widget beneath the touch or pen input pixel position and calling that window/widget’s event processing function.</span></span> <span data-ttu-id="26ca0-150">Om widgeten förstår pennindatahändelser bearbetas händelsen efter behov för den widgettypen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-150">If the widget understands pen input events, it will process the event as appropriate for that widget type.</span></span> <span data-ttu-id="26ca0-151">Annars skickar widgeten längst upp touch- eller penninmatningshändelsen till widgetens överordnade för bearbetning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-151">If not, the top-most widget will pass the touch or pen input event to the widget's parent for processing.</span></span> <span data-ttu-id="26ca0-152">Det här avfallet av händelsen uppåt i kedjan fortsätter tills antingen händelsen hanteras eller tills händelsen kommer till rotfönstret, i vilket fall händelsen ignoreras.</span><span class="sxs-lookup"><span data-stu-id="26ca0-152">This passing of the event up the chain continues until either the event is handled or the event arrives at the root window, in which case the event is discarded.</span></span>

<span data-ttu-id="26ca0-153">Tangenthändelser skickas till fönstret/widgeten som har indatafokus.</span><span class="sxs-lookup"><span data-stu-id="26ca0-153">Keypad events are sent to the window/widget that has input focus.</span></span> <span data-ttu-id="26ca0-154">Fokusstatus för indata underhålls av GUIX-gx_system komponenten.</span><span class="sxs-lookup"><span data-stu-id="26ca0-154">Input focus status is maintained by the GUIX gx_system component.</span></span>

<span data-ttu-id="26ca0-155">Timerhändelser skickas alltid till fönstret eller widgeten som äger timern för bearbetning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-155">Timer events are always dispatched to the window or widget that owns the timer for processing.</span></span>

<span data-ttu-id="26ca0-156">Internt genererade händelser, till exempel knapptryckningshändelser eller ändringshändelser för skjutreglagets värde, skickas alltid till den överordnade komponenten som genererar händelsen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-156">Internally generated events, such as button click events or slider value change events, are always sent to the parent of the widget generating the event.</span></span> <span data-ttu-id="26ca0-157">Om den överordnade inte bearbetar händelsen skickas den upp i kedjan som liknar pek- eller penninmatningshändelser.</span><span class="sxs-lookup"><span data-stu-id="26ca0-157">If the parent does not process the event, it is passed up the chain similar to touch or pen input events.</span></span>

## <a name="drawing"></a><span data-ttu-id="26ca0-158">Ritning</span><span class="sxs-lookup"><span data-stu-id="26ca0-158">Drawing</span></span> 

<span data-ttu-id="26ca0-159">När all händelsebearbetning är klar avgör GUIX interna tråd om någon visningsuppdatering behövs och i så fall anropas lämpliga fönster-/widgetritningsfunktioner.</span><span class="sxs-lookup"><span data-stu-id="26ca0-159">Once all the event processing is complete, the GUIX internal thread determines if any display update is needed and if so the appropriate window/widget drawing functions are called.</span></span> <span data-ttu-id="26ca0-160">När ritningen är klar väntar den interna GUIX-tråden helt enkelt på händelsekön tills nästa GUIX-händelse ska bearbetas.</span><span class="sxs-lookup"><span data-stu-id="26ca0-160">When drawing is complete, the GUIX internal thread simply waits on its event queue for the next GUIX event to process.</span></span>

<span data-ttu-id="26ca0-161">GUIX implementerar begreppet *"dirty areas",* som är områden som måste ritas om för varje widget och arbetsyta.</span><span class="sxs-lookup"><span data-stu-id="26ca0-161">GUIX implements the concept of *dirty areas*, which are areas that need to be re-drawn, for each widget and canvas.</span></span> <span data-ttu-id="26ca0-162">En widget kan bara ritas till områden som tidigare har markerats som dirty (dirty).</span><span class="sxs-lookup"><span data-stu-id="26ca0-162">A widget can only draw to areas that have previously been marked as dirty.</span></span> <span data-ttu-id="26ca0-163">När en widgetritningsfunktion anropas klipps alla ritningsåtgärder internt till den tidigare definierade dirty-rektangeln.</span><span class="sxs-lookup"><span data-stu-id="26ca0-163">When a widget drawing function is called, all drawing operations are internally clipped to the previously defined dirty rectangle.</span></span>
<span data-ttu-id="26ca0-164">Försök att rita utanför det här området ignoreras.</span><span class="sxs-lookup"><span data-stu-id="26ca0-164">Attempts to draw outside of this area are ignored.</span></span>

<span data-ttu-id="26ca0-165">Widgetar och fönster markerar sig själva som dirty genom att anropa ***API-funktionen gx_system_dirty_mark***.</span><span class="sxs-lookup"><span data-stu-id="26ca0-165">Widgets and windows mark themselves as dirty by calling the API function ***gx_system_dirty_mark***.</span></span> <span data-ttu-id="26ca0-166">Den här funktionen markerar hela widgeten eller fönstret som behöver ritas om.</span><span class="sxs-lookup"><span data-stu-id="26ca0-166">This function marks the entire widget or window as needing to be redrawn.</span></span> <span data-ttu-id="26ca0-167">En andra ***funktion, gx_system_dirty_partial_add***, kan anropas som ett alternativ för att bara markera en del av ett fönster eller en widget som skadad.</span><span class="sxs-lookup"><span data-stu-id="26ca0-167">A second function, ***gx_system_dirty_partial_add***, can be invoked as an alternative to mark only a portion of a window or widget as dirty.</span></span>

<span data-ttu-id="26ca0-168">Den här modellen för att markera widgetar som dirty och sedan rita om dessa widgetar endast när alla indatahändelser har bearbetats kallas *uppskjuten ritning*.</span><span class="sxs-lookup"><span data-stu-id="26ca0-168">This model of marking widgets as dirty and then redrawing those widgets only when all input events have been processed is referred to as *deferred drawing*.</span></span> <span data-ttu-id="26ca0-169">GUIX-algoritmen för uppskjuten ritning och underhåll av en dirty list har utformats för att förbättra ritningseffektiviteten.</span><span class="sxs-lookup"><span data-stu-id="26ca0-169">The GUIX deferred drawing algorithm and dirty list maintenance is designed to improve drawing efficiency.</span></span> <span data-ttu-id="26ca0-170">Eftersom ritningsåtgärder vanligtvis är dyra, arbetar GUIX hårt för att förhindra onödig ritning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-170">Since drawing operations are typically expensive, GUIX works hard to prevent unnecessary drawing.</span></span>

<span data-ttu-id="26ca0-171">Ritningen görs på en *GUIX-arbetsyta*.</span><span class="sxs-lookup"><span data-stu-id="26ca0-171">Drawing is done to a GUIX *canvas*.</span></span> <span data-ttu-id="26ca0-172">En arbetsyta är ett minnesutrymme som reserveras för att lagra grafikdata.</span><span class="sxs-lookup"><span data-stu-id="26ca0-172">A canvas is a memory area reserved to hold graphics data.</span></span> <span data-ttu-id="26ca0-173">En arbetsyta kan vara direkt kopplad till maskinvarurambufferten, beroende på systemarkitekturen och minnesbegränsningarna.</span><span class="sxs-lookup"><span data-stu-id="26ca0-173">A canvas may or may not be directly linked to the hardware frame buffer, depending on the system architecture and memory constraints.</span></span> <span data-ttu-id="26ca0-174">Innan en ritning kan ske måste en arbetsyta först öppnas för ritning genom att anropa ***GX_CANVAS_DRAWING_INITIATE API-funktionen.***</span><span class="sxs-lookup"><span data-stu-id="26ca0-174">Before any drawing can occur, a canvas must first be opened for drawing by calling the ***gx_canvas_drawing_initiate*** API function.</span></span> <span data-ttu-id="26ca0-175">Det här API:et förbereder en arbetsyta för ritning och upprättar den aktuella *ritningskontexten*.</span><span class="sxs-lookup"><span data-stu-id="26ca0-175">This API prepares a canvas for drawing and established the current *drawing context*.</span></span> <span data-ttu-id="26ca0-176">När GUIX utför en uppdatering av systemarbetsytan öppnas arbetsytan för ritning och den ritningskontext som upprättats innan API:erna för ritning på widgetnivå anropas.</span><span class="sxs-lookup"><span data-stu-id="26ca0-176">When GUIX performs a system canvas refresh, the canvas is opened for drawing and the drawing context established before the widget-level drawing APIs are invoked.</span></span> <span data-ttu-id="26ca0-177">Därför behöver widgetar inte initiera ritning på en arbetsyta i widgetens ritningsfunktion.</span><span class="sxs-lookup"><span data-stu-id="26ca0-177">Therefore widgets do not need to initiate drawing on a canvas within the widget drawing function.</span></span>

<span data-ttu-id="26ca0-178">Men om ett program vill utföra en omedelbar ritning till en arbetsyta, utanför flödet av standardalgoritmen för GUIX-uppskjuten ritning, måste programmet anropa ***gx_canvas_drawing_initiate*** direkt innan andra API-funktioner för ritning anropas och måste anropa ***gx_canvas_drawing_complete*** när den omedelbara ritningen har slutförts.</span><span class="sxs-lookup"><span data-stu-id="26ca0-178">However, if an application desires to perform immediate drawing to a canvas, outside the flow of the standard GUIX deferred drawing algorithm, the application must directly invoke the ***gx_canvas_drawing_initiate*** prior to calling any other drawing API functions, and must call ***gx_canvas_drawing_complete*** once the immediate drawing has been completed.</span></span>

## <a name="user-input"></a><span data-ttu-id="26ca0-179">Användarindata</span><span class="sxs-lookup"><span data-stu-id="26ca0-179">User Input</span></span> 

<span data-ttu-id="26ca0-180">GUIX stöder enheter med pekskärm, mus och tangentbord med fördefinierade händelsetyper.</span><span class="sxs-lookup"><span data-stu-id="26ca0-180">GUIX supports touch screen, mouse, and keyboard devices with predefined event types.</span></span> <span data-ttu-id="26ca0-181">Ytterligare indataenheter kan användas genom att definiera anpassade händelsetyper eller genom att mappa den anpassade indataenheten till de fördefinierade händelsetyperna.</span><span class="sxs-lookup"><span data-stu-id="26ca0-181">Additional input devices can be utilized by defining custom event types, or by mapping the custom input device to the predefined event types.</span></span>

<span data-ttu-id="26ca0-182">Åtgärder som är associerade med dessa enheter översätts till händelser som bearbetas av den interna GUIX-tråden.</span><span class="sxs-lookup"><span data-stu-id="26ca0-182">Actions associated with these devices are translated into events that are processed by the internal GUIX thread.</span></span> <span data-ttu-id="26ca0-183">Programvara på drivrutinsnivå som skrivits för att stödja en pekskärm måste förbereda och skicka händelser i GUIX-händelsekön för penn- och penntryckningar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-183">Driver level software written to support a touch screen must prepare and send to the GUIX event queue events for pen-down, pen-up, and pen-drag operations.</span></span> <span data-ttu-id="26ca0-184">På samma sätt måste en drivrutin för tangenttangentens indata generera händelser för inmatning av tangenttryckningar och tangentutdata.</span><span class="sxs-lookup"><span data-stu-id="26ca0-184">Similarly a keypad input driver must generate events for key press and key release input.</span></span>

## <a name="modal-dialog-execution"></a><span data-ttu-id="26ca0-185">Körning av modal dialogruta</span><span class="sxs-lookup"><span data-stu-id="26ca0-185">Modal Dialog Execution</span></span> 

<span data-ttu-id="26ca0-186">Körning av modal dialog syftar på att presentera ett fönster för användaren som måste stängas på något sätt innan andra GUIX-fönster eller widgetar kan ta emot användarindata.</span><span class="sxs-lookup"><span data-stu-id="26ca0-186">Modal dialog execution refers to presenting a window to the user that must be closed in some way before any other GUIX windows or widgets can receive user input.</span></span> <span data-ttu-id="26ca0-187">Modala dialogrutor samlar in alla användarindata medan dialogfönstret visas, oavsett x,y-position för touch- eller musindatahändelser.</span><span class="sxs-lookup"><span data-stu-id="26ca0-187">Modal dialogs capture all user input while the dialog window is displayed, regardless of the x,y position of touch or mouse input events.</span></span>

<span data-ttu-id="26ca0-188">Modala dialogrutor utlöses av programmet genom att först skapa fönstret på vanligt sätt genom att anropa ***gx_window_create*** och sedan anropa GUIX API-funktionen ***gx_window_execute.***</span><span class="sxs-lookup"><span data-stu-id="26ca0-188">Modal dialogs are triggered by the application software by first creating the window in the normal way by calling ***gx_window_create***, and then calling the GUIX API function ***gx_window_execute.***</span></span>

<span data-ttu-id="26ca0-189">När ***gx_window_execute*** anropas anger GUIX en lokal händelsebearbetningsloop.</span><span class="sxs-lookup"><span data-stu-id="26ca0-189">When the ***gx_window_execute*** function is called, GUIX enters a local event processing loop.</span></span> <span data-ttu-id="26ca0-190">Funktionen ***gx_window_execute*** inte tillbaka till anroparen förrän dialogrutan stängs, antingen via användarindata eller genom att anropa ***gx_window_close***.</span><span class="sxs-lookup"><span data-stu-id="26ca0-190">The ***gx_window_execute*** function does not return to the caller until the dialog window is closed, either by user input or by calling ***gx_window_close***.</span></span> <span data-ttu-id="26ca0-191">Därför är det mycket viktigt att aldrig anropa ***gx_window_execute*** från någon annan tråd än den interna GUIX-tråden.</span><span class="sxs-lookup"><span data-stu-id="26ca0-191">For this reason, it is very important never to call the ***gx_window_execute*** function from any thread other than the GUIX internal thread.</span></span>

## <a name="periodic-processing"></a><span data-ttu-id="26ca0-192">Regelbunden bearbetning</span><span class="sxs-lookup"><span data-stu-id="26ca0-192">Periodic Processing</span></span> 

<span data-ttu-id="26ca0-193">Guix använder en ThreadX-timer för att ge visningseffekter, animering av programmet och stöd för program periodiska begäranden.</span><span class="sxs-lookup"><span data-stu-id="26ca0-193">In order to provide display effects, sprite animation, and support for application periodic requests, GUIX uses one ThreadX timer.</span></span> <span data-ttu-id="26ca0-194">Den här enskilda timern används för att driva alla GUIX-tidsrelaterade behov.</span><span class="sxs-lookup"><span data-stu-id="26ca0-194">This single timer is used to drive all GUIX time-related needs.</span></span> <span data-ttu-id="26ca0-195">Som standard anges frekvensen för intern GUIX-timerbearbetning till 20 ms via konstanten **GX_SYSTEM_TIMER_MS**, som definieras i **_gx_api.h_**, såvida inte konstanten tidigare har definierats i gx_port.h- eller gx_user.h-huvudet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-195">By default, the frequency for the GUIX internal timer processing is set to 20ms via the constant **GX_SYSTEM_TIMER_MS**, which is defined in **_gx_api.h_**, unless the constant is previously defined in gx_port.h or gx_user.h header.</span></span> <span data-ttu-id="26ca0-196">Standardfrekvensen kan ändras av programmet via ett kompileringsalternativ när GUIX-biblioteket byggs eller genom att uttryckligen definiera om det ***i gx_user.h***.</span><span class="sxs-lookup"><span data-stu-id="26ca0-196">The default frequency may be changed by the application via a compilation option when building the GUIX library or by explicitly redefining it in ***gx_user.h***.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="26ca0-197">Observera att GUIX-timerfrekvensen uttrycks i RTOS-timers tick och definieras av konstanten **GX_SYSTEM_TIMER_TICKS**.</span><span class="sxs-lookup"><span data-stu-id="26ca0-197">Note that the GUIX timer frequency is expressed in RTOS timer ticks, and is defined by the constant **GX_SYSTEM_TIMER_TICKS**.</span></span> <span data-ttu-id="26ca0-198">Värdet för **GX_SYSTEM_TIMER_TICKS** beräknas med **hjälp GX_SYSTEM_TIMER_MS** och **TX_TIMER_TICKS_PER_SECOND**.</span><span class="sxs-lookup"><span data-stu-id="26ca0-198">The value of **GX_SYSTEM_TIMER_TICKS** is calculated using **GX_SYSTEM_TIMER_MS** and **TX_TIMER_TICKS_PER_SECOND**.</span></span> <span data-ttu-id="26ca0-199">Användaren kan definiera om något av dessa värden i ***gx_port.h** _ eller _ *_gx_user.h_** för att justera GUIX-timerfrekvensen och -upplösningen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-199">The user can re-define any of these values in the ***gx_port.h** _ or _ *_gx_user.h_** to adjust the GUIX timer frequency and resolution.</span></span>

## <a name="display-driver"></a><span data-ttu-id="26ca0-200">Visningsdrivrutin</span><span class="sxs-lookup"><span data-stu-id="26ca0-200">Display Driver</span></span> 

<span data-ttu-id="26ca0-201">Visningsdrivrutiner ansvarar för att tillhandahålla en uppsättning ritningsfunktioner till guix-kärnkoden.</span><span class="sxs-lookup"><span data-stu-id="26ca0-201">Display drivers are responsible for providing a set of drawing functions to the core GUIX code.</span></span> <span data-ttu-id="26ca0-202">Implementeringen av var och en av dessa ritningsfunktioner bestäms av drivrutinen, och när det är möjligt utnyttjar implementeringen stöd för maskinvaruacceleration.</span><span class="sxs-lookup"><span data-stu-id="26ca0-202">The implementation of each of these drawing functions is determined by the driver, and when possible the implementation will leverage hardware acceleration support.</span></span> <span data-ttu-id="26ca0-203">I allmänhet fungerar ritningsfunktionen genom att skriva pixeldata till en minnesbuffert, som kan vara den fysiska rambufferten eller en sekundär buffert beroende på drivrutinsarkitekturen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-203">In general the drawing function works by writing pixel data to a memory buffer, which may be the physical frame buffer or it may be a secondary buffer depending on the driver architecture.</span></span> <span data-ttu-id="26ca0-204">Många drivrutiner implementerar dubbel buffring med hjälp av två rambuffertar, och dessa buffertar växlas genom att aktivera buffertreglagefunktionen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-204">Many drivers implement double buffering using two frame buffers, and these buffers are toggled by invoking the buffer toggle function.</span></span> <span data-ttu-id="26ca0-205">GUIX anropar dessa funktioner internt vid lämpliga tidpunkter.</span><span class="sxs-lookup"><span data-stu-id="26ca0-205">GUIX calls these functions internally at the appropriate times.</span></span> <span data-ttu-id="26ca0-206">För minnesbegränsade system kan ritningsfunktionerna bara skriva till en enda buffert för minnesramen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-206">For memory constrained systems, the drawing functions may only write to a single memory frame buffer.</span></span>

<span data-ttu-id="26ca0-207">GUIX tillhandahåller standardprogramimplementering av varje ritningsfunktion på låg nivå vid varje stöd för färgdjup och format.</span><span class="sxs-lookup"><span data-stu-id="26ca0-207">GUIX provides default software implementations of each low-level drawing function at every support color depth and format.</span></span> <span data-ttu-id="26ca0-208">Dessa funktioner anropas via funktionspekare som finns i den **GX_DISPLAY** strukturen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-208">These functions are invoked via function pointers maintained within the **GX_DISPLAY** structure.</span></span> <span data-ttu-id="26ca0-209">När maskinvaruspecifika drivrutiner skapas skriver de vanligtvis över ett visst antal av dessa funktionspekare med funktioner som är specifika för målmaskinvaran.</span><span class="sxs-lookup"><span data-stu-id="26ca0-209">When hardware-specific drivers are created, they typically will overwrite some number of these function pointers with functions that are specific to the target hardware.</span></span>

<span data-ttu-id="26ca0-210">En typisk drivrutin för maskinvaruvisning implementeras genom att först skapa standarddrivrutinen för GUIX-visning för det färgdjup och format som krävs.</span><span class="sxs-lookup"><span data-stu-id="26ca0-210">A typical hardware display driver is implemented by first creating the default GUIX display driver for the required color depth and format.</span></span>
<span data-ttu-id="26ca0-211">Sedan ersätter maskinvarudrivrutinen de funktioner som behöver optimeras eller anpassas för den specifika maskinvaruimplementering.</span><span class="sxs-lookup"><span data-stu-id="26ca0-211">Then the hardware driver will replace those functions that need to be optimized or customized for the particular hardware implementation.</span></span>

<span data-ttu-id="26ca0-212">GUIX stöder pixelfärgformat från 1-bpp till formatet 32-bpp a:r:g:b.</span><span class="sxs-lookup"><span data-stu-id="26ca0-212">GUIX support pixel color formats ranging from 1-bpp monochrome to 32-bpp a:r:g:b format.</span></span> <span data-ttu-id="26ca0-213">GUIX stöder också många varianter i varje bred färgdjupkategori, till exempel r:g:b jämfört med b:g:r byteordning, packad pixel jämfört med ordjusterade pixelformat och alfakanaler.</span><span class="sxs-lookup"><span data-stu-id="26ca0-213">GUIX also supports many variations within each broad color-depth category, such as r:g:b versus b:g:r byte order, packed pixel versus word-aligned pixel formats, and alpha channels.</span></span> <span data-ttu-id="26ca0-214">Det finns för närvarande 25 olika färgformat som stöds, men den här listan växer när maskinvaruleverantörer levererar nya varianter.</span><span class="sxs-lookup"><span data-stu-id="26ca0-214">There are currently 25 distinct color formats supported, but this list grows as hardware vendors deliver new variations.</span></span>

## <a name="display-memory-architectures"></a><span data-ttu-id="26ca0-215">Visa minnesarkitekturer</span><span class="sxs-lookup"><span data-stu-id="26ca0-215">Display Memory Architectures</span></span>

<span data-ttu-id="26ca0-216">Olika maskinvarumål och -skärmar använder en mängd olika arkitekturer för visningsminne, beroende på målets minnesbegränsningar och programmets funktionskrav.</span><span class="sxs-lookup"><span data-stu-id="26ca0-216">Various hardware targets and displays utilize a variety of different display memory architectures, depending on the memory constraints of the target and the functionality requirements of the application.</span></span> <span data-ttu-id="26ca0-217">Vi kommer att beskriva några av de vanliga minnesarkitekturerna här med en kort beskrivning av var och en.</span><span class="sxs-lookup"><span data-stu-id="26ca0-217">We will outline some of the common memory architectures here with a brief description of each.</span></span>

<span data-ttu-id="26ca0-218">Modell 1) Ingen rambuffert, grafikdata som lagras i extern GRAM:</span><span class="sxs-lookup"><span data-stu-id="26ca0-218">Model 1) No frame buffer, graphics data held in external GRAM:</span></span>

![Ingen rambuffert, grafikdata som lagras i extern GRAM](./media/guix/user-guide/no-frame-buffer.png)

<span data-ttu-id="26ca0-220">I modellen ovan finns det inget minne för en rambuffert i minnet som är lokalt för processorn.</span><span class="sxs-lookup"><span data-stu-id="26ca0-220">In the model above, no memory for a frame buffer exists in memory local to the CPU.</span></span> <span data-ttu-id="26ca0-221">Alla grafikdata lagras i en extern GRAM som ingår i själva visningen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-221">All graphics data is stored in an external GRAM which is incorporated into the display itself.</span></span> <span data-ttu-id="26ca0-222">Gränssnittet till den externa GRAM:n kan vara parallellt eller seriellt.</span><span class="sxs-lookup"><span data-stu-id="26ca0-222">The interface to the external GRAM can be parallel or serial.</span></span> <span data-ttu-id="26ca0-223">Den här typen av arkitektur är mycket låg kostnad. men det kan ha oönskade retningseffekter när grafikdata uppdateras.</span><span class="sxs-lookup"><span data-stu-id="26ca0-223">This type of architecture is very low cost; however it can exhibit unwanted tearing effect when the graphics data is updated.</span></span>

<span data-ttu-id="26ca0-224">Modell 2) En lokal rambuffert:</span><span class="sxs-lookup"><span data-stu-id="26ca0-224">Model 2) One local frame buffer:</span></span>

![En lokal rambuffert](./media/guix/user-guide/one-local-frame-buffer.png)

<span data-ttu-id="26ca0-226">I den här modellen allokeras minnet för grafikdata från ett slumpmässigt åtkomstminne som är direkt åtkomligt processorn.</span><span class="sxs-lookup"><span data-stu-id="26ca0-226">In this model, memory for the graphics data is allocated from a random-access memory that is directly accessible the CPU.</span></span> <span data-ttu-id="26ca0-227">Dedikerad maskinvara måste finnas för att upprepade gånger överföra grafikdata (tillsammans med tidssignaler) från det lokala minnet till skärmen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-227">Dedicated hardware must be present to repeatedly transmit the graphics data (along with timing signals) from the local memory to the display.</span></span> <span data-ttu-id="26ca0-228">Den här modellen skiljer sig från modell 1 eftersom grafikminnet är ett block av den lokala SRAM eller DRAM som är tillgänglig för processorn.</span><span class="sxs-lookup"><span data-stu-id="26ca0-228">This model differs from model 1 in that the graphics memory is a block of the local SRAM or DRAM available to the CPU.</span></span> <span data-ttu-id="26ca0-229">Det kan vara samma minne där stack- och programvariabler finns.</span><span class="sxs-lookup"><span data-stu-id="26ca0-229">This may be the same memory in which stack and program variables live.</span></span>

<span data-ttu-id="26ca0-230">Modell 3) Lokal rambuffert + extern GRAM:</span><span class="sxs-lookup"><span data-stu-id="26ca0-230">Model 3) Local frame buffer + external GRAM:</span></span>

![Lokal rambuffert + extern GRAM](./media/guix/user-guide/local-frame-buffer-external-gram.png)

<span data-ttu-id="26ca0-232">Modell 3 är en kombination av de två första.</span><span class="sxs-lookup"><span data-stu-id="26ca0-232">Model 3 is a combination of the first two.</span></span> <span data-ttu-id="26ca0-233">I den här modellen finns det tillräckligt med lokalt minne för att rymma en rambuffert.</span><span class="sxs-lookup"><span data-stu-id="26ca0-233">In this model, sufficient local memory exists to hold one frame buffer.</span></span> <span data-ttu-id="26ca0-234">Dessutom tillhandahåller visningsenheten en extern GRAM och uppdaterar sig själv automatiskt med hjälp av de data som anges i GRAM.</span><span class="sxs-lookup"><span data-stu-id="26ca0-234">In addition, the display device provides an external GRAM and automatically refreshes itself using the data provided in the GRAM.</span></span> <span data-ttu-id="26ca0-235">Den här arkitekturen drar nytta av förbättrad uppdateringseffektivitet eftersom vi kan överföra den ändrade delen av den lokala rambufferten till den externa GRAM:en i en blocköverföring, ofta med hjälp av inbyggda DMA-kanaler.</span><span class="sxs-lookup"><span data-stu-id="26ca0-235">This architecture benefits from improved update efficiency because we can transfer the modified portion of the local frame buffer to the external GRAM in one block transfer, often utilizing onboard DMA channels.</span></span> <span data-ttu-id="26ca0-236">Den här modellen eliminerar också den reducering som kan finnas i någon av de två första modellerna, eftersom endast färdigt grafikinnehåll kopieras till den externa GRAM:en.</span><span class="sxs-lookup"><span data-stu-id="26ca0-236">This model also eliminates the tearing and flicker that can be present in either of the first two models, because only completed graphics contents is copied to the external GRAM.</span></span>

<span data-ttu-id="26ca0-237">Modell 4) Ping-frame-buffertar:</span><span class="sxs-lookup"><span data-stu-id="26ca0-237">Model 4) Ping-pong frame buffers:</span></span>

![Ping-frame-buffertar](./media/guix/user-guide/ping-pong-frame-buffers.png)

<span data-ttu-id="26ca0-239">I modell 4 finns det tillräckligt med minne för att tillhandahålla två lokala rambuffertar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-239">In model 4, sufficient memory is present to provide two local frame buffers.</span></span> <span data-ttu-id="26ca0-240">I det här fallet behandlar GUIX en bildrutebuffert som aktiv rambuffert och den andra som arbetsramsbuffert.</span><span class="sxs-lookup"><span data-stu-id="26ca0-240">In this case, GUIX treats one frame buffer as the active frame buffer, and the other as the working frame buffer.</span></span> <span data-ttu-id="26ca0-241">När en uppdaterings- eller ritningsåtgärd pågår sker den i arbetsbufferten.</span><span class="sxs-lookup"><span data-stu-id="26ca0-241">When a display update or drawing operation is in progress, it takes place in the working buffer.</span></span> <span data-ttu-id="26ca0-242">När ritningsåtgärden har slutförts aktiveras buffertarna, och arbetsbufferten blir den aktiva bufferten och den aktiva bufferten blir arbetsbufferten.</span><span class="sxs-lookup"><span data-stu-id="26ca0-242">When the drawing operation completes, the buffers are toggled, and the working buffer becomes the active buffer and the active buffer becomes the working buffer.</span></span> <span data-ttu-id="26ca0-243">Den här modellen eliminerar även skärmslitande som kan observeras i ett enda buffrat system.</span><span class="sxs-lookup"><span data-stu-id="26ca0-243">This model also eliminates screen flicker and tearing that can be observed in a single buffered system.</span></span>

<span data-ttu-id="26ca0-244">Modell 5) Ping-buffers med sammansättning av arbetsyta:</span><span class="sxs-lookup"><span data-stu-id="26ca0-244">Model 5) Ping-pong buffers with canvas compositing:</span></span>

![Ping-buffers med sammansättning av arbetsyta](./media/guix/user-guide/ping-pong-buffers-canvas-composting.png)

<span data-ttu-id="26ca0-246">I modell 5 kan val av antal arbetsyta skapas, upp till gränserna för tillgängligt minne.</span><span class="sxs-lookup"><span data-stu-id="26ca0-246">In model 5, any number of canvases can be created, up to the limits of available memory.</span></span> <span data-ttu-id="26ca0-247">Arbetsyta kan överlagras eller blandas enligt definitionen i programmet för att skapa arbetsytans sammansatta.</span><span class="sxs-lookup"><span data-stu-id="26ca0-247">The canvases can be overlaid or blended together as defined by the application to create the canvas composite.</span></span> <span data-ttu-id="26ca0-248">När en ny sammansatt skapas efter en uppdateringsåtgärd på skärmen, aktiveras aktiva och fungerande sammansatta buffertar i en åtgärd som är identisk med standardarkitekturen för ping-buffer.</span><span class="sxs-lookup"><span data-stu-id="26ca0-248">When a new composite is created after a screen refresh operation, the active and working composite buffers are toggled in an operation identical to the standard ping-pong buffer architecture.</span></span> <span data-ttu-id="26ca0-249">Modell 5 lägger till möjligheten att utföra toning och blandning av skärmåtgärder genom att blanda arbetsyta i den slutliga sammansatta utdatan.</span><span class="sxs-lookup"><span data-stu-id="26ca0-249">Model 5 adds the ability to perform screen fade and blending operations by blending the canvases into the final output composite.</span></span>

<span data-ttu-id="26ca0-250">Modell 6) Sammansättning av arbetsyta med extern GRAM:</span><span class="sxs-lookup"><span data-stu-id="26ca0-250">Model 6) Canvas compositing with external GRAM:</span></span>

![Sammansättning av arbetsyta med extern GRAM](./media/guix/user-guide/canvas-compositing-external-gram.png)

<span data-ttu-id="26ca0-252">Modell 6 är en liten variation av modell 5, där endast en sammansatt buffert krävs och den sammansatta bufferten sedan överförs till externa GRAM.</span><span class="sxs-lookup"><span data-stu-id="26ca0-252">Model 6 is a slight variation on Model 5, in which only one composite buffer is required and the composite buffer is then transferred to external GRAM.</span></span> <span data-ttu-id="26ca0-253">Den här modellen stöder även helskärmsblandning och överlägg.</span><span class="sxs-lookup"><span data-stu-id="26ca0-253">This model also supports full screen blending and overlays.</span></span>

## <a name="string-encoding"></a><span data-ttu-id="26ca0-254">Strängkodning</span><span class="sxs-lookup"><span data-stu-id="26ca0-254">String Encoding</span></span> 

<span data-ttu-id="26ca0-255">GUIX stöder som standard strängkodning i UTF8-format.</span><span class="sxs-lookup"><span data-stu-id="26ca0-255">GUIX by default supports UTF8 format string encoding.</span></span> <span data-ttu-id="26ca0-256">Stöd för UTF8-strängkodning kan inaktiveras **genom att definiera GX_DISABLE_UTF8_SUPPORT** i ***gx_user.h-huvudfilen.***</span><span class="sxs-lookup"><span data-stu-id="26ca0-256">Support for UTF8 string encoding can be disabled by defining **GX_DISABLE_UTF8_SUPPORT** in the ***gx_user.h*** header file.</span></span> <span data-ttu-id="26ca0-257">Om UTF8-kodning är inaktiverad använder GUIX internt endast standardkodning för 8-bitars ASCII plus teckenkodning för tecken på latin-1-tecken.</span><span class="sxs-lookup"><span data-stu-id="26ca0-257">If UTF8 encoding is disabled, GUIX will internally use only standard 8-bit ASCII plus Latin-1 code page character encoding.</span></span> <span data-ttu-id="26ca0-258">Om du inaktiverar UTF8-strängkodning resulterar det i ett något mindre GUIX-biblioteksfotavtryck och något snabbare körning av stränghanterings- och textritningsfunktioner.</span><span class="sxs-lookup"><span data-stu-id="26ca0-258">Disabling UTF8 string encoding results in a slightly smaller GUIX library footprint and slightly faster runtime execution of string handling and text drawing functions.</span></span>

<span data-ttu-id="26ca0-259">UTF8-strängkodning har följande egenskaper:</span><span class="sxs-lookup"><span data-stu-id="26ca0-259">UTF8 string encoding has the following traits:</span></span>

  - <span data-ttu-id="26ca0-260">ASCII-strängar tar inte mer lagringsutrymme än standard-7-bitars ASCII-kodning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-260">ASCII strings take no more storage space than standard 7-bit ASCII encoding.</span></span>

  - <span data-ttu-id="26ca0-261">De flesta ANSI-C-strängfunktioner fungerar med UTF8-strängkodning utan modifiering.</span><span class="sxs-lookup"><span data-stu-id="26ca0-261">Most ANSI-C string functions work with UTF8 string encoding without modification.</span></span>

<span data-ttu-id="26ca0-262">Alla aktiva teckenuppsättningar i världen, inklusive Kanji-teckenuppsättningar, kan representeras med utf8-strängkodning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-262">All active character sets in the world, including Kanji character sets, can be represented using UTF8 string encoding.</span></span>

### <a name="static-and-dynamic-strings"></a><span data-ttu-id="26ca0-263">Statiska och dynamiska strängar</span><span class="sxs-lookup"><span data-stu-id="26ca0-263">Static and Dynamic Strings</span></span> 

<span data-ttu-id="26ca0-264">De strängar som tilldelas dina GUIX-widgetar som stöder textvisning kan statiskt definieras strängkonstanter, som normalt placeras i konstant lagring som en del av GUIX-strängtabellen som beskrivs nedan, och dynamiskt definierade strängar, som är strängar som genereras vid körning med hjälp av tjänster som ***sprintf** _ eller _*_gx_utility_ltoa_\*\*.</span><span class="sxs-lookup"><span data-stu-id="26ca0-264">The strings assigned to your GUIX widgets which support text display can be statically defined string constants, which are normally placed in constant storage as part of the GUIX String table described below, and dynamically defined strings, which are strings generated at runtime using services such as ***sprintf** _ or _*_gx_utility_ltoa_\*\*.</span></span>

<span data-ttu-id="26ca0-265">Exempel på dynamiska strängar kan vara ett värde som visas som ett tal i en GUIX-promptwidget eller en sträng för "tid/datum" som formateras dynamiskt baserat på användarens plats- och formatinställningar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-265">Examples of dynamic strings might include a value displayed as a number within a GUIX prompt widget, or a “time / date” string which is dynamically formatted based on the user’s location and format preferences.</span></span> <span data-ttu-id="26ca0-266">Om du skapar strängar vid körning som ska tilldelas GUIX-widgetar som **GX_PROMPT-** eller **GX_TEXT_BUTTON-widgetar** måste du välja att antingen statiskt allokera lagringen för dessa körningsgenererade strängar (d.v.s.</span><span class="sxs-lookup"><span data-stu-id="26ca0-266">If you create strings at runtime which will be assigned to GUIX widgets such as **GX_PROMPT** or **GX_TEXT_BUTTON widgets**, you must choose to either statically allocate the storage for these runtime generated strings (i.e</span></span>
<span data-ttu-id="26ca0-267">globala teckenmatriser), eller så kan du definiera och installera  en funktion för dynamisk minnes allocator och använda GX_STYLE_TEXT_COPY-formatet, som instruerar dessa widgetar att skapa en privat kopia av tilldelade textsträngar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-267">global character arrays), or you can define and install a dynamic memory allocator function and use the **GX_STYLE_TEXT_COPY** style, which instructs those widgets to create a private copy of text strings assigned.</span></span>

<span data-ttu-id="26ca0-268">Det är ett programmeringsfel att använda tillfällig lagring, till exempel en automatisk teckenmatris, för att lagra en dynamiskt genererad sträng och sedan tilldela den här strängen till en widget som **inte har GX_STYLE_TEXT_COPY** format.</span><span class="sxs-lookup"><span data-stu-id="26ca0-268">It is a programming error to use temporary storage, such as an automatic character array, to hold a dynamically generated string and then assign this string to a widget that does not have the **GX_STYLE_TEXT_COPY** style.</span></span> <span data-ttu-id="26ca0-269">När det här formatet inte är aktiverat kopierar widgeten bara den angivna sträng pekaren, och strängdata måste allokeras statiskt, annars kommer widgetsträngens pekare troligen att peka på skräpdata som ger oförutsägbara resultat.</span><span class="sxs-lookup"><span data-stu-id="26ca0-269">When this style is not enabled, the widget simply copies the provided string pointer, and the string data must be statically allocated or the widget string pointer will likely end up pointing at garbage data producing unpredictable results.</span></span>

### <a name="passing-gx_string-arguments"></a><span data-ttu-id="26ca0-270">Skicka GX_STRING argument</span><span class="sxs-lookup"><span data-stu-id="26ca0-270">Passing GX_STRING arguments</span></span> 

<span data-ttu-id="26ca0-271">GUIX API-funktionerna som accepterar en GX_STRING-parameter kontrollerar alltid att längden på strängen som fältet **GX_STRING.gx_string_ptr** pekar på matchar värdet för fältet **GX_STRING.gx_string_length.**</span><span class="sxs-lookup"><span data-stu-id="26ca0-271">The GUIX API functions which accept a GX_STRING parameter always verify that the length of the string pointed to by the **GX_STRING.gx_string_ptr** field match the value of the **GX_STRING.gx_string_length** field.</span></span> <span data-ttu-id="26ca0-272">Om de två fälten inte är konsekventa returneras **ett GX_INVALID_STRING_LENGTH** och API:et som anropas returnerar utan att acceptera strängtilldelningen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-272">If the two fields are not consistent, a **GX_INVALID_STRING_LENGTH** error is returned and the API called returns without accepting the string assignment.</span></span>

<span data-ttu-id="26ca0-273">För säkerhetsöverväganden använder GUIX-programvaran aldrig internt standard C-strängfunktioner som ***strlen** _ eller _*_strcpy_\*\*.</span><span class="sxs-lookup"><span data-stu-id="26ca0-273">For safety considerations the GUIX software never internally uses the standard C string functions such as ***strlen** _ or _*_strcpy_\*\*.</span></span> <span data-ttu-id="26ca0-274">Dessa funktioner har varit kända för att vara sårbara för skadliga attacker när strängdata inhämtas dynamiskt, vilket ofta är fallet med anslutna program.</span><span class="sxs-lookup"><span data-stu-id="26ca0-274">These functions have been known to be susceptible to malicious attacks when string data is acquired dynamically which is often the case with connected applications.</span></span>

<span data-ttu-id="26ca0-275">GUIX-biblioteksutgåor före version 5.6 definierade API-funktioner som accepterade ( `GX_CONST GX_CHAR *text` ) som en parameter.</span><span class="sxs-lookup"><span data-stu-id="26ca0-275">GUIX library releases prior to release 5.6 defined API functions which accepted (`GX_CONST GX_CHAR *text`) as a parameter.</span></span> <span data-ttu-id="26ca0-276">Dessa funktioner, även om de fortfarande stöds för bakåtkompatibilitet, har gjorts inaktuella och ersatts av de önskade API-funktionerna som accepterar ( `GX_CONST GX_STRING *string` ) som indataparameter.</span><span class="sxs-lookup"><span data-stu-id="26ca0-276">These functions, while still supported for backwards compatibility, have been obsoleted and replaced by the preferred API functions which accept (`GX_CONST GX_STRING *string`) as an input parameter.</span></span>

<span data-ttu-id="26ca0-277">Som standard är det inaktuella API:et för texthantering aktiverat så att alla tidigare skrivna program kan byggas korrekt med de senaste uppdateringarna för GUIX-biblioteket.</span><span class="sxs-lookup"><span data-stu-id="26ca0-277">By default, the deprecated text handling API is enabled allowing all previously written applications to build cleanly with the latest updates to the GUIX library.</span></span> <span data-ttu-id="26ca0-278">Om du vill inaktivera det inaktuella API:et för texthantering **ska** definitionen GX_DISABLE_DEPRECATED_STRING_API läggas **_till i gx_user.h_*_-huvudfilen. Alla nya program ska definiera _\* GX_DISABLE_DEPRECATED_STRING_API och*\* bör endast använda api-ersättningsfunktionerna.</span><span class="sxs-lookup"><span data-stu-id="26ca0-278">To disable the the deprecated text handling API, the definition **GX_DISABLE_DEPRECATED_STRING_API** should be added to the **_gx_user.h_*_ header file. All new applications should define _\* GX_DISABLE_DEPRECATED_STRING_API*\* and should use only the replacement API functions.</span></span> <span data-ttu-id="26ca0-279">Alla utdatafiler som genereras av GUIX Studio för GUIX-biblioteksversion 5.6 eller senare använder endast api-ersättningsfunktionerna.</span><span class="sxs-lookup"><span data-stu-id="26ca0-279">All output files generated by GUIX Studio for GUIX library version release 5.6 or later will utilize only the replacement API functions.</span></span>

<span data-ttu-id="26ca0-280">I följande tabell visas de inaktuella och nyligen definierade ersättnings-API-funktionsnamnen:</span><span class="sxs-lookup"><span data-stu-id="26ca0-280">The following table lists the deprecated and newly defined replacement API function names:</span></span>

| <span data-ttu-id="26ca0-281">**Inaktuellt funktionsnamn**</span><span class="sxs-lookup"><span data-stu-id="26ca0-281">**Deprecated Function Name**</span></span>              | <span data-ttu-id="26ca0-282">**Ersatt med**</span><span class="sxs-lookup"><span data-stu-id="26ca0-282">**Replaced With**</span></span>                              |
| ------------------------------------------ | ----------------------------------------------- |
| <span data-ttu-id="26ca0-283">gx_binres_language_table_load</span><span class="sxs-lookup"><span data-stu-id="26ca0-283">gx_binres_language_table_load</span></span>          | <span data-ttu-id="26ca0-284">gx_binres_language_table_load_ext</span><span class="sxs-lookup"><span data-stu-id="26ca0-284">gx_binres_language_table_load_ext</span></span>          |
| <span data-ttu-id="26ca0-285">gx_canvas_rotated_text_draw</span><span class="sxs-lookup"><span data-stu-id="26ca0-285">gx_canvas_rotated_text_draw</span></span>            | <span data-ttu-id="26ca0-286">gx_canvas_rotated_text_draw_ext</span><span class="sxs-lookup"><span data-stu-id="26ca0-286">gx_canvas_rotated_text_draw_ext</span></span>            |
| <span data-ttu-id="26ca0-287">gx_canvas_text_draw</span><span class="sxs-lookup"><span data-stu-id="26ca0-287">gx_canvas_text_draw</span></span>                     | <span data-ttu-id="26ca0-288">gx_canvas_text_draw_ext</span><span class="sxs-lookup"><span data-stu-id="26ca0-288">gx_canvas_text_draw_ext</span></span>                     |
| <span data-ttu-id="26ca0-289">gx_context_string_get</span><span class="sxs-lookup"><span data-stu-id="26ca0-289">gx_context_string_get</span></span>                   | <span data-ttu-id="26ca0-290">gx_context_string_get_ext</span><span class="sxs-lookup"><span data-stu-id="26ca0-290">gx_context_string_get_ext</span></span>                   |
| <span data-ttu-id="26ca0-291">gx_display_language_table_get</span><span class="sxs-lookup"><span data-stu-id="26ca0-291">gx_display_language_table_get</span></span>          | <span data-ttu-id="26ca0-292">gx_display_language_table_get_ext</span><span class="sxs-lookup"><span data-stu-id="26ca0-292">gx_display_language_table_get_ext</span></span>          |
| <span data-ttu-id="26ca0-293">gx_display_language_table_set</span><span class="sxs-lookup"><span data-stu-id="26ca0-293">gx_display_language_table_set</span></span>          | <span data-ttu-id="26ca0-294">gx_display_language_table_set_ext</span><span class="sxs-lookup"><span data-stu-id="26ca0-294">gx_display_language_table_set_ext</span></span>          |
| <span data-ttu-id="26ca0-295">gx_display_string_get</span><span class="sxs-lookup"><span data-stu-id="26ca0-295">gx_display_string_get</span></span>                   | <span data-ttu-id="26ca0-296">gx_display_string_get_ext</span><span class="sxs-lookup"><span data-stu-id="26ca0-296">gx_display_string_get_ext</span></span>                   |
| <span data-ttu-id="26ca0-297">gx_display_string_table_get</span><span class="sxs-lookup"><span data-stu-id="26ca0-297">gx_display_string_table_get</span></span>            | <span data-ttu-id="26ca0-298">gx_display_string_table_get_ext</span><span class="sxs-lookup"><span data-stu-id="26ca0-298">gx_display_string_table_get_ext</span></span>            |
| <span data-ttu-id="26ca0-299">gx_multi_line_text_button_text_set</span><span class="sxs-lookup"><span data-stu-id="26ca0-299">gx_multi_line_text_button_text_set</span></span>   | <span data-ttu-id="26ca0-300">gx_multi_line_text_button_text_set_ext</span><span class="sxs-lookup"><span data-stu-id="26ca0-300">gx_multi_line_text_button_text_set_ext</span></span>   |
| <span data-ttu-id="26ca0-301">gx_multi_line_text_input_char_insert</span><span class="sxs-lookup"><span data-stu-id="26ca0-301">gx_multi_line_text_input_char_insert</span></span> | <span data-ttu-id="26ca0-302">gx_multi_line_text_input_char_insert_ext</span><span class="sxs-lookup"><span data-stu-id="26ca0-302">gx_multi_line_text_input_char_insert_ext</span></span> |
| <span data-ttu-id="26ca0-303">gx_multi_line_text_input_text_set</span><span class="sxs-lookup"><span data-stu-id="26ca0-303">gx_multi_line_text_input_text_set</span></span>    | <span data-ttu-id="26ca0-304">gx_multi_line_text_input_text_set_ext</span><span class="sxs-lookup"><span data-stu-id="26ca0-304">gx_multi_line_text_input_text_set_ext</span></span>    |
| <span data-ttu-id="26ca0-305">gx_multi_line_text_view_text_set</span><span class="sxs-lookup"><span data-stu-id="26ca0-305">gx_multi_line_text_view_text_set</span></span>     | <span data-ttu-id="26ca0-306">gx_multi_line_text_view_text_set_ext</span><span class="sxs-lookup"><span data-stu-id="26ca0-306">gx_multi_line_text_view_text_set_ext</span></span>     |
| <span data-ttu-id="26ca0-307">gx_prompt_text_get</span><span class="sxs-lookup"><span data-stu-id="26ca0-307">gx_prompt_text_get</span></span>                      | <span data-ttu-id="26ca0-308">gx_prompt_text_get_ext</span><span class="sxs-lookup"><span data-stu-id="26ca0-308">gx_prompt_text_get_ext</span></span>                      |
| <span data-ttu-id="26ca0-309">gx_prompt_text_set</span><span class="sxs-lookup"><span data-stu-id="26ca0-309">gx_prompt_text_set</span></span>                      | <span data-ttu-id="26ca0-310">gx_prompt_text_set_ext</span><span class="sxs-lookup"><span data-stu-id="26ca0-310">gx_prompt_text_set_ext</span></span>                      |
| <span data-ttu-id="26ca0-311">gx_single_line_text_input_text_set</span><span class="sxs-lookup"><span data-stu-id="26ca0-311">gx_single_line_text_input_text_set</span></span>   | <span data-ttu-id="26ca0-312">gx_single_line_text_input_text_set_ext</span><span class="sxs-lookup"><span data-stu-id="26ca0-312">gx_single_line_text_input_text_set_ext</span></span>   |
| <span data-ttu-id="26ca0-313">gx_system_string_width_get</span><span class="sxs-lookup"><span data-stu-id="26ca0-313">gx_system_string_width_get</span></span>             | <span data-ttu-id="26ca0-314">gx_system_string_width_get_ext</span><span class="sxs-lookup"><span data-stu-id="26ca0-314">gx_system_string_width_get_ext</span></span>             |
| <span data-ttu-id="26ca0-315">gx_system_version_string_get</span><span class="sxs-lookup"><span data-stu-id="26ca0-315">gx_system_version_string_get</span></span>           | <span data-ttu-id="26ca0-316">gx_system_version_string_get_ext</span><span class="sxs-lookup"><span data-stu-id="26ca0-316">gx_system_version_string_get_ext</span></span>           |
| <span data-ttu-id="26ca0-317">gx_text_button_text_get</span><span class="sxs-lookup"><span data-stu-id="26ca0-317">gx_text_button_text_get</span></span>                | <span data-ttu-id="26ca0-318">gx_text_button_text_get_ext</span><span class="sxs-lookup"><span data-stu-id="26ca0-318">gx_text_button_text_get_ext</span></span>                |
| <span data-ttu-id="26ca0-319">gx_text_button_text_set</span><span class="sxs-lookup"><span data-stu-id="26ca0-319">gx_text_button_text_set</span></span>                | <span data-ttu-id="26ca0-320">gx_text_button_text_set_ext</span><span class="sxs-lookup"><span data-stu-id="26ca0-320">gx_text_button_text_set_ext</span></span>                |
| <span data-ttu-id="26ca0-321">gx_text_scroll_wheel_callback_set</span><span class="sxs-lookup"><span data-stu-id="26ca0-321">gx_text_scroll_wheel_callback_set</span></span>     | <span data-ttu-id="26ca0-322">gx_text_scroll_wheel_callback_set_ext</span><span class="sxs-lookup"><span data-stu-id="26ca0-322">gx_text_scroll_wheel_callback_set_ext</span></span>     |
| <span data-ttu-id="26ca0-323">gx_utility_string_to_alphamap</span><span class="sxs-lookup"><span data-stu-id="26ca0-323">gx_utility_string_to_alphamap</span></span>          | <span data-ttu-id="26ca0-324">gx_utility_string_to_alphamap_ext</span><span class="sxs-lookup"><span data-stu-id="26ca0-324">gx_utility_string_to_alphamap_ext</span></span>          |
| <span data-ttu-id="26ca0-325">gx_widget_string_get</span><span class="sxs-lookup"><span data-stu-id="26ca0-325">gx_widget_string_get</span></span>                    | <span data-ttu-id="26ca0-326">gx_widget_string_get_ext</span><span class="sxs-lookup"><span data-stu-id="26ca0-326">gx_widget_string_get_ext</span></span>                    |
| <span data-ttu-id="26ca0-327">gx_widget_text_blend</span><span class="sxs-lookup"><span data-stu-id="26ca0-327">gx_widget_text_blend</span></span>                    | <span data-ttu-id="26ca0-328">gx_widget_text_blend_ext</span><span class="sxs-lookup"><span data-stu-id="26ca0-328">gx_widget_text_blend_ext</span></span>                    |
| <span data-ttu-id="26ca0-329">gx_widget_text_draw</span><span class="sxs-lookup"><span data-stu-id="26ca0-329">gx_widget_text_draw</span></span>                     | <span data-ttu-id="26ca0-330">gx_widget_text_draw_ext</span><span class="sxs-lookup"><span data-stu-id="26ca0-330">gx_widget_text_draw_ext</span></span>                     |

### <a name="guix-string-table"></a><span data-ttu-id="26ca0-331">GUIX-strängtabell</span><span class="sxs-lookup"><span data-stu-id="26ca0-331">GUIX String Table</span></span> 

<span data-ttu-id="26ca0-332">GUIX-strängtabellen och strängresurserna registreras med en GUIX-visningsinstans.</span><span class="sxs-lookup"><span data-stu-id="26ca0-332">The GUIX string table and string resources are registered with a GUIX display instance.</span></span>

<span data-ttu-id="26ca0-333">Varje visning i ett system med flera skärmar har en egen strängtabell och varje visning kan köras på sitt eget valda språk. De andra GUIX-resurstyperna (färger, teckensnitt och pixelkartor) underhålls också av GUIX-visningskomponenten, eftersom dessa resurstyper är specifika för varje visningsfärgformat och färgdjup.</span><span class="sxs-lookup"><span data-stu-id="26ca0-333">Each display in a multi-display system has its own string table, and each display can run in its own selected language.The other GUIX resource types (colors, fonts, and pixelmaps) are also maintained by the GUIX Display component, since these resource types are specific to each display color format and color depth.</span></span>

<span data-ttu-id="26ca0-334">Du kan skapa programsträngtabellen manuellt, men oftast definieras visningssträngtabellen av GUIX Studio-programmet som en del av projektresursfilen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-334">While you can manually create your application string table, most often the display string table is defined by the GUIX Studio application as part of your project resource file.</span></span> <span data-ttu-id="26ca0-335">De tillgängliga språken definieras också i resurshuvudfilen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-335">The available languages are also defined in the resource header file.</span></span> <span data-ttu-id="26ca0-336">Visningssträngstabellen är en tabell med flera kolumner med pekare till programsträngar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-336">The display string table is a multi-column table of pointers to application strings.</span></span> <span data-ttu-id="26ca0-337">Varje kolumn i strängtabellen representerar ett språk som stöds av programmet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-337">Each column of the string table represents one language supported by the application.</span></span>
<span data-ttu-id="26ca0-338">Om ditt program endast stöder ett språk, till exempel engelska, har strängtabellen bara en kolumn.</span><span class="sxs-lookup"><span data-stu-id="26ca0-338">If your application supports only one language, for example English, then your string table will have only one column.</span></span> <span data-ttu-id="26ca0-339">Du kan fortfarande lägga till stöd för ytterligare språk när som helst utan att ändra din programprogramvara.</span><span class="sxs-lookup"><span data-stu-id="26ca0-339">Still, you can add support for additional languages at any time without modifying your application software.</span></span>

<span data-ttu-id="26ca0-340">Den aktiva strängtabellen tilldelas genom anrop ***gx_display_string_table_set*** API-funktionen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-340">The active string table is assigned by calling the ***gx_display_string_table_set*** API function.</span></span> <span data-ttu-id="26ca0-341">Den här funktionen anropas automatiskt av den GUIX Studio-genererade startkoden, men kan också anropas direkt av programmet för att ändra den aktiva strängtabellen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-341">This function is called automatically by the GUIX Studio generated startup code, but can also be called directly by the application to change the active string table.</span></span>

<span data-ttu-id="26ca0-342">Det aktiva språket tilldelas genom anrop ***gx_display_active_language_set*** API-funktionen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-342">The active language is assigned by calling the ***gx_display_active_language_set*** API function.</span></span> <span data-ttu-id="26ca0-343">Den här funktionen avgör vilken kolumn i visningssträngtabellen som är aktiv.</span><span class="sxs-lookup"><span data-stu-id="26ca0-343">This function determines which column of the display string table is active.</span></span>

<span data-ttu-id="26ca0-344">När den här funktionen anropas skickas **en GX_EVENT_LANGUAGE_CHANGE-händelse** till alla synliga GUIX-widgetar, så att de kan uppdatera för att visa nyligen aktiva strängdata.</span><span class="sxs-lookup"><span data-stu-id="26ca0-344">When this function is invoked, a **GX_EVENT_LANGUAGE_CHANGE** event is sent to all visible GUIX widgets, allowing them to update to display the newly active string data.</span></span>

<span data-ttu-id="26ca0-345">Widgetar och programprogramvara löser statiskt definierade strängar med sträng-ID-värden och ***gx_display_string_get_ext*** eller ***gx_widget_string_get_ext*** API-funktioner.</span><span class="sxs-lookup"><span data-stu-id="26ca0-345">Widgets and application software resolve statically defined strings using string ID values and the ***gx_display_string_get_ext*** or ***gx_widget_string_get_ext*** API functions.</span></span> <span data-ttu-id="26ca0-346">De här funktionerna returnerar **GX_STRING som** är associerade med ett visst sträng-ID och det aktiva språket.</span><span class="sxs-lookup"><span data-stu-id="26ca0-346">These functions return the **GX_STRING** associated with a given string ID and the currently active language.</span></span>

### <a name="bi-directional-text-display"></a><span data-ttu-id="26ca0-347">Dubbelriktad textvisning</span><span class="sxs-lookup"><span data-stu-id="26ca0-347">Bi-directional Text Display</span></span> 

<span data-ttu-id="26ca0-348">GUIX tillhandahåller två strategier för dubbelriktad textsupport.</span><span class="sxs-lookup"><span data-stu-id="26ca0-348">GUIX provide two strategies for bi-directional text support.</span></span>

<span data-ttu-id="26ca0-349">Ett alternativ är att ordna om bidi-text i GUIX Studio-programmet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-349">One option is to do bidi text reordering within the GUIX Studio application.</span></span> <span data-ttu-id="26ca0-350">Med det här alternativet ansvarar GUIX Studio för att generera bidi-text till utdatafilen i visningsordningen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-350">Using this option GUIX Studio is responsible for generating bidi text to the output file in its display order.</span></span> <span data-ttu-id="26ca0-351">Den här lösningen har ingen inverkan på körningsprestanda och kräver inga tillägg till GUIX-körningsbiblioteket.</span><span class="sxs-lookup"><span data-stu-id="26ca0-351">This solution has zero impact on the runtime performance and does not require any additions to the GUIX runtime library.</span></span> <span data-ttu-id="26ca0-352">Om du vill tillåta att GUIX Studio genererar displayorder-bidi-textsträngar markerar du kryssrutan **Generera Bidi-text** i visningsordning i dialogrutan för guix studio-språkkonfiguration:</span><span class="sxs-lookup"><span data-stu-id="26ca0-352">To allow GUIX Studio to generate displayorder bidi text strings, you should select the **Generate Bidi Text in Display Order** checkbox in the GUIX Studio language configuration dialog:</span></span>

![Konfigurera språk](./media/guix/user-guide/configure-languages.png)

<span data-ttu-id="26ca0-354">När dessa alternativ är markerade innehåller den genererade resursfilen Bidi-strängar som genererats i visningsordning och ingen extra bearbetning krävs i GUIX-körningsbiblioteket.</span><span class="sxs-lookup"><span data-stu-id="26ca0-354">With these options selected, the generated resource file will contain Bidi strings generated in display order, and no extra processing is required within the GUIX runtime library.</span></span>

<span data-ttu-id="26ca0-355">Det andra alternativet är att ordna om bidi-text vid körning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-355">The second option is to do bidi text reordering at runtime.</span></span> <span data-ttu-id="26ca0-356">Det här alternativet stöds för de program som måste hantera bidi-textsträngar som definieras dynamiskt och som inte genereras av GUIX Studio-programmet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-356">This option is supported for those applications that must handle bidi text string that are dynamically defined, and not generated by the GUIX Studio application.</span></span> <span data-ttu-id="26ca0-357">I det här fallet ansvarar GUIX-körningsbiblioteket för att ordna om bidi-texten innan varje textsträng ritas.</span><span class="sxs-lookup"><span data-stu-id="26ca0-357">In this case the GUIX runtime library is responsible for reordering the bidi text before drawing each text string.</span></span> <span data-ttu-id="26ca0-358">Den här lösningen har en påverkan på körningsprestanda och minne.</span><span class="sxs-lookup"><span data-stu-id="26ca0-358">This solution has a runtime performance and memory impact.</span></span> <span data-ttu-id="26ca0-359">Tillräckligt med dynamiskt minne måste vara tillgängligt för omsorteringsprocessen för bidi-text.</span><span class="sxs-lookup"><span data-stu-id="26ca0-359">Sufficient dynamic memory must be available for bidi text reordering process.</span></span> <span data-ttu-id="26ca0-360">Den här lösningen kräver att den villkorliga GX_DYNAMIC_BIDI_TEXT_SUPPORT definieras när GUIX-biblioteket byggs.</span><span class="sxs-lookup"><span data-stu-id="26ca0-360">This solution requires that the conditional GX_DYNAMIC_BIDI_TEXT_SUPPORT be defined when building the GUIX library.</span></span> <span data-ttu-id="26ca0-361">Två ***API-funktioner gx_system_bidi_text_enable*** och ***gx_system_bidi_text_disable*** tillhandahålls för att aktivera/inaktivera stöd för bidi-text vid körning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-361">Two API functions ***gx_system_bidi_text_enable*** and ***gx_system_bidi_text_disable*** are provided to enable/disable bidi text support at runtime.</span></span>

<span data-ttu-id="26ca0-362">Du bör inte använda både **GX_DYNAMIC_BIDI_TEXT_SUPPORT** och konfigurera GUIX Studio för att generera Bidi-text i visningsordning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-362">You should not use both **GX_DYNAMIC_BIDI_TEXT_SUPPORT** and configure GUIX Studio to generate Bidi text in display order.</span></span> <span data-ttu-id="26ca0-363">Du måste välja en strategi eller en annan för att hantera bidi-textsträngar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-363">You must select one strategy or the other for bidi text string handling.</span></span>

## <a name="memory-usage"></a><span data-ttu-id="26ca0-364">Minnesanvändning</span><span class="sxs-lookup"><span data-stu-id="26ca0-364">Memory Usage</span></span> 

<span data-ttu-id="26ca0-365">GUIX finns tillsammans med programmet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-365">GUIX resides along with the application program.</span></span> <span data-ttu-id="26ca0-366">Därför bestäms användningen av GUIX för statiskt minne (eller fast minne) av utvecklingsverktygen. till exempel kompilatorn, länkaren och lokaliseraren.</span><span class="sxs-lookup"><span data-stu-id="26ca0-366">As a result, the static memory (or fixed memory) usage of GUIX is determined by the development tools; e.g., the compiler, linker, and locator.</span></span> <span data-ttu-id="26ca0-367">Användningen av dynamiskt minne (eller körningsminne) är under direkt kontroll av programmet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-367">Dynamic memory (or run-time memory) usage is under direct control of the application.</span></span>

### <a name="static-memory-usage"></a><span data-ttu-id="26ca0-368">Statisk minnesanvändning</span><span class="sxs-lookup"><span data-stu-id="26ca0-368">Static Memory Usage</span></span> 

<span data-ttu-id="26ca0-369">De flesta utvecklingsverktyg delar in programavbildningen i fem grundläggande *områden:* instruktion , *konstant,* *initierade data,* *oinitierade data* och *GUIX-trådstacken*.</span><span class="sxs-lookup"><span data-stu-id="26ca0-369">Most of the development tools divide the application program image into five basic areas: *instruction*, *constant*, *initialized data*, *uninitialized data*, and the *GUIX thread stack*.</span></span>  <span data-ttu-id="26ca0-370">Bilden nedan visar en möjlig layout av dessa minnesområden:</span><span class="sxs-lookup"><span data-stu-id="26ca0-370">The figure below demonstrates one possible layout of these memory areas:</span></span>

![Minneslayout](./media/guix/user-guide/memory-area-example.png)

<span data-ttu-id="26ca0-372">Det är viktigt att förstå att detta bara är ett exempel.</span><span class="sxs-lookup"><span data-stu-id="26ca0-372">It is important to understand that this only an example.</span></span> <span data-ttu-id="26ca0-373">Den faktiska statiska minneslayouten är specifik för processor, utvecklingsverktyg, underliggande maskinvara och själva programmet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-373">The actual static memory layout is specific to the processor, development tools, underlying hardware, and the application itself.</span></span>

<span data-ttu-id="26ca0-374">Instruktionsområdet innehåller alla programprocessorinstruktioner.</span><span class="sxs-lookup"><span data-stu-id="26ca0-374">The instruction area contains all of the program’s processor instructions.</span></span> <span data-ttu-id="26ca0-375">Det här området finns ofta i ROM.</span><span class="sxs-lookup"><span data-stu-id="26ca0-375">This area is often located in ROM.</span></span>

<span data-ttu-id="26ca0-376">Det konstanta området innehåller olika kompilerade konstanter, som i GUIX innehåller standardinställningar och alla programresurser (bilder, strängar, teckensnitt och färger).</span><span class="sxs-lookup"><span data-stu-id="26ca0-376">The constant area contains various compiled constants, which in GUIX contains default settings and all application resources (images, strings, fonts, and colors).</span></span> <span data-ttu-id="26ca0-377">Dessutom innehåller det här området den "inledande kopian" av det initierade dataområdet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-377">In addition, this area contains the “initial copy” of the initialized data area.</span></span> <span data-ttu-id="26ca0-378">Under kompilatorns initieringsprocess används den här delen av konstantområdet för att konfigurera globala initierade data i RAM-minnet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-378">During the compiler’s initialization process, this portion of the constant area is used to set up the global initialized data in RAM.</span></span> <span data-ttu-id="26ca0-379">Det konstanta området är vanligtvis det största och följer vanligtvis instruktionsområdet och finns ofta i ROM.</span><span class="sxs-lookup"><span data-stu-id="26ca0-379">The constant area is typically the largest and usually follows the instruction area and is often located in ROM.</span></span>

<span data-ttu-id="26ca0-380">GUIX-pixelkartor och teckensnitt kräver vanligtvis stora mängder konstant datalagring.</span><span class="sxs-lookup"><span data-stu-id="26ca0-380">GUIX pixelmaps and fonts typically require large amounts of constant data storage.</span></span> <span data-ttu-id="26ca0-381">Dessa stora statiska dataområden lagras normalt i ROM eller FLASH.</span><span class="sxs-lookup"><span data-stu-id="26ca0-381">These large static data areas are normally kept in ROM or FLASH.</span></span>

<span data-ttu-id="26ca0-382">GUIX-trådstacken definieras i det oinniterade dataområdet (som en global variabel) ***i gx_system.h-filen*** enligt följande:</span><span class="sxs-lookup"><span data-stu-id="26ca0-382">The GUIX thread stack is defined within the uninitialized data area (as a global variable) in ***gx_system.h*** file as follows:</span></span>

```C
_gx_system_thread_stack[GX_THREAD_STACK_SIZE];
```

<span data-ttu-id="26ca0-383">**GX_THREAD_STACK_SIZE** definieras i **_gx_port.h_**, men kan åsidosättas av programmet genom att definiera den här symbolen i ***gx_user.h-huvudfilen*** eller via projektalternativ eller kommandoradsparametrar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-383">**GX_THREAD_STACK_SIZE** is defined in **_gx_port.h_**, but may be overridden by the application by defining this symbol in the ***gx_user.h*** header file or via project options or command line parameters.</span></span> <span data-ttu-id="26ca0-384">Stackstorleken måste vara tillräckligt stor för att hantera händelsehantering i värsta fall och kapslade ritnings-anrop.</span><span class="sxs-lookup"><span data-stu-id="26ca0-384">The stack size must be large enough to handle the worst case event handling and nested drawing calls.</span></span>

### <a name="dynamic-memory-usage"></a><span data-ttu-id="26ca0-385">dynamiskt minne användning</span><span class="sxs-lookup"><span data-stu-id="26ca0-385">Dynamic Memory Usage</span></span> 

<span data-ttu-id="26ca0-386">Som tidigare nämnts är dynamisk minnesanvändning under direkt kontroll av programmet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-386">As mentioned before, dynamic memory usage is under direct control of the application.</span></span> <span data-ttu-id="26ca0-387">Kontrollblock och minne som är associerade med arbetsytor osv. kan placeras var som helst i målets minnesutrymme.</span><span class="sxs-lookup"><span data-stu-id="26ca0-387">Control blocks and memory associated with canvases, etc. can be placed anywhere in the target’s memory space.</span></span> <span data-ttu-id="26ca0-388">Det här är en viktig funktion eftersom den underlättar enkel användning av olika typer av fysiskt minne – vid körning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-388">This is an important feature because it facilitates easy utilization of different types of physical memory – at run-time.</span></span>

<span data-ttu-id="26ca0-389">Anta till exempel att en målmaskinvarumiljö har både snabbt minne och långsamt minne.</span><span class="sxs-lookup"><span data-stu-id="26ca0-389">For example, suppose a target hardware environment has both fast memory and slow memory.</span></span> <span data-ttu-id="26ca0-390">Om programmet behöver extra prestanda för ritning kan arbetsytans minne uttryckligen placeras i området för höghastighetsminne för bästa prestanda.</span><span class="sxs-lookup"><span data-stu-id="26ca0-390">If the application needs extra performance for drawing, the canvas memory can be explicitly placed in the high-speed memory area for best performance.</span></span>

<span data-ttu-id="26ca0-391">Flera valfria GUIX-tjänster och -funktioner kräver en dynamisk minnesallokeringsmekanism för körning, vilket ofta kallas en heap.</span><span class="sxs-lookup"><span data-stu-id="26ca0-391">Several optional GUIX services and features require a runtime dynamic memory allocation mechanism, commonly referred to as a heap.</span></span> <span data-ttu-id="26ca0-392">Dessa tjänster och funktioner är helt valfria och många GUIX-program använder inte någon heap och definierar inte någon mekanism för minnesallokering vid körning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-392">These services and features are completely optional, and many GUIX applications do not use any heap and do not define a runtime memory allocation mechanism.</span></span>

<span data-ttu-id="26ca0-393">Om du ska använda tjänster som kräver minnesallokering vid körning måste du installera funktioner som GUIX anropar när minnet måste allokeras dynamiskt eller frigöras.</span><span class="sxs-lookup"><span data-stu-id="26ca0-393">If you will be using services which require runtime memory allocation, you must install functions which GUIX will call when memory must be dynamically allocated or freed.</span></span> <span data-ttu-id="26ca0-394">Du kan implementera dessa funktioner som du vill, så att även i det här fallet är platsen för den dynamiska minnespoolen under programkontroll.</span><span class="sxs-lookup"><span data-stu-id="26ca0-394">You can implement these functions as you prefer, so that even in this case the location of the dynamic memory pool is under application control.</span></span> <span data-ttu-id="26ca0-395">Om du vill installera stöd för dynamisk minnesallokering bör programmet anropa ***API-gx_system_memory_allocator_set*** under programstarten för att definiera din minnesallokering och minnesfria tjänster.</span><span class="sxs-lookup"><span data-stu-id="26ca0-395">To install support for dynamic memory allocation, the application should invoke the API service ***gx_system_memory_allocator_set*** during program startup to define your memory allocation and memory free services.</span></span> <span data-ttu-id="26ca0-396">Ett komplett exempel finns i dokumentationen för det här API:et.</span><span class="sxs-lookup"><span data-stu-id="26ca0-396">Refer to the documentation of this API for a complete example.</span></span>

<span data-ttu-id="26ca0-397">GUIX-tjänster som kräver en körningsminnesallokering och avallokeringstjänst omfattar:</span><span class="sxs-lookup"><span data-stu-id="26ca0-397">GUIX services which require a runtime memory allocation and de-allocation service include:</span></span>

  - <span data-ttu-id="26ca0-398">Läsa in binära resurser från extern lagring i GUIX-körningsmiljön.</span><span class="sxs-lookup"><span data-stu-id="26ca0-398">Loading binary resources from external storage into the GUIX runtime environment.</span></span>

  - <span data-ttu-id="26ca0-399">Jpeg-bildavkodaren för programkörning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-399">The software runtime jpeg image decoder.</span></span>

  - <span data-ttu-id="26ca0-400">Png-bildavkodaren för programkörning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-400">The software runtime png image decoder.</span></span>

  - <span data-ttu-id="26ca0-401">Använda textwidgetar med GX_STYLE_TEXT_COPY.</span><span class="sxs-lookup"><span data-stu-id="26ca0-401">Using text widgets with GX_STYLE_TEXT_COPY.</span></span>

  - <span data-ttu-id="26ca0-402">Funktioner för storleksändring och rotationsverktyg för körningsdiagram.</span><span class="sxs-lookup"><span data-stu-id="26ca0-402">Runtime pixemap resize and rotation utility functions.</span></span>
  - <span data-ttu-id="26ca0-403">Körningsskärmen och widgeten styr blockallokeringen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-403">Runtime screen and widget control block allocation.</span></span>

<span data-ttu-id="26ca0-404">För mindre program kompileras VANLIGTVIS GUIX-resurser och länkas statiskt som en del av programavbildningen, och installation av binär resurs krävs inte.</span><span class="sxs-lookup"><span data-stu-id="26ca0-404">For smaller applications, GUIX resources are usually compiled and statically linked as part of the application image, and binary resource installation is not required.</span></span> <span data-ttu-id="26ca0-405">Binära resurser gör att ett program kan installera resurser (teckensnitt, bilder, språk) vid körning som lästs in från en lagringsplats, till exempel ett flash-minne eller en URL.</span><span class="sxs-lookup"><span data-stu-id="26ca0-405">Binary resources allow an application to install resources (fonts, images, languages) at runtime loaded from some storage location, such as a flash drive or a URL.</span></span>

<span data-ttu-id="26ca0-406">Jpeg- och png-avkodare för körning är valfria komponenter.</span><span class="sxs-lookup"><span data-stu-id="26ca0-406">The runtime jpeg and png decoders are optional components.</span></span> <span data-ttu-id="26ca0-407">De flesta GUIX-program tillåter att GUIX Studio-verktyget förkodar alla nödvändiga bildfiler och lagrar dem som egna GUIX Pixemap-dataresurser.</span><span class="sxs-lookup"><span data-stu-id="26ca0-407">Most GUIX applications allow the GUIX Studio tool to pre-decode all required image files, and store them as proprietary GUIX Pixemap data resources.</span></span> <span data-ttu-id="26ca0-408">Dessa tjänster tillhandahålls för fullständighet för de program som kräver körningskonvertering av jpeg- och/eller PNG-bilder till pixelkartformat.</span><span class="sxs-lookup"><span data-stu-id="26ca0-408">These services are provided for completeness for those applications that require runtime conversion of jpeg and/or PNG images to pixelmap format.</span></span>

<span data-ttu-id="26ca0-409">**GX_STYLE_TEXT_COPY** tillåter användaren att ange att en viss widget eller widget behåller sin egen privata kopia av dynamiskt tilldelad text.</span><span class="sxs-lookup"><span data-stu-id="26ca0-409">**GX_STYLE_TEXT_COPY** allows the user to specify that a particular widget or widgets will keep it’s own private copy of dynamically assigned text.</span></span> <span data-ttu-id="26ca0-410">Om du använder det här alternativet måste minnesallokeringsmekanismen installeras innan du använder den.</span><span class="sxs-lookup"><span data-stu-id="26ca0-410">Using this option requires that the memory allocation mechanism be installed prior to use.</span></span> <span data-ttu-id="26ca0-411">Om den här **<span class="underline">stilflaggan</span>** inte anges när en texttypswidget skapas måste programmet allokera statiska lagringsområden för alla dynamiskt skapade och tilldelade textsträngar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-411">If this style flag is **<span class="underline">not</span>** provided when a text type widget is created, the application must allocate static storage areas for all dynamically created and assigned text strings.</span></span> <span data-ttu-id="26ca0-412">Automatiska variabler ska inte användas i det här fallet för att lagra körningsgenererade strängdata.</span><span class="sxs-lookup"><span data-stu-id="26ca0-412">Automatic variables should not be used in this case to hold runtime generated string data.</span></span> <span data-ttu-id="26ca0-413">Om formatet **GX_STYLE_TEXT_COPY** aktiverat kan automatiska variabler användas för att lagra strängdata som tilldelats GUIX-widgetar, eftersom varje widget skapar en egen kopia av den tilldelade texten.</span><span class="sxs-lookup"><span data-stu-id="26ca0-413">If the **GX_STYLE_TEXT_COPY** style is enabled, automatic variables may be used to hold string data assigned to GUIX widgets, since each widget will create its own copy of the assigned text.</span></span>

<span data-ttu-id="26ca0-414">Funktionerna för storleksändring och rotation av pixelkarta returnerar den resulterande översatta pixelkartan som en ny pixelkarta som är tillgänglig för programmet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-414">Pixelmap resize and rotation utility functions return the resulting translated pixelmap as a new pixelmap available to the application.</span></span>
<span data-ttu-id="26ca0-415">Tillräckligt med dynamiskt minne måste vara tillgängligt för att lagra dessa körningsgenererade pixelkarta-datablock om dessa tjänster används.</span><span class="sxs-lookup"><span data-stu-id="26ca0-415">Sufficient dynamic memory must be available to hold these runtime generated pixelmap data blocks if these services are used.</span></span>

<span data-ttu-id="26ca0-416">Slutligen kan kontrollblocken för GUIX-skärmarna och widgetarna allokeras statiskt eller dynamiskt.</span><span class="sxs-lookup"><span data-stu-id="26ca0-416">Finally, the control blocks for the GUIX screens and widgets can be statically or dynamically allocated.</span></span> <span data-ttu-id="26ca0-417">För mindre program är det vanligt att skapa alla programskärmar under programstart och använda statiskt allokerade kontrollblock.</span><span class="sxs-lookup"><span data-stu-id="26ca0-417">For smaller applications, it is common to create all application screens during program startup and use statically allocated control blocks.</span></span> <span data-ttu-id="26ca0-418">För stora program är det vanligt att skapa skärm- och underordnade widgetkontroller dynamiskt på en efter behov-bas.</span><span class="sxs-lookup"><span data-stu-id="26ca0-418">For large applications, it is common to create the screen and child widget controls dynamically on an as-needed bases.</span></span> <span data-ttu-id="26ca0-419">Dynamiskt allokerade kontrollblock anges  genom att markera kryssrutan Allokera körning i GUIX Studio-egenskapsvyn eller genom att skicka stilflaggan **GX_STYLE_DYNAMICALLY_ALLOCATED** när du skapar en widget via standard-API:et.</span><span class="sxs-lookup"><span data-stu-id="26ca0-419">Dynamically allocated control blocks are specified by selecting the **Runtime Allocate** checkbox in the GUIX Studio properties view, or by passing in the style flag **GX_STYLE_DYNAMICALLY_ALLOCATED** when creating a widget via the standard API.</span></span> <span data-ttu-id="26ca0-420">Användning av dynamiskt allokerade widgetkontrollblock kräver att tjänsterna för minnesallokering och avallokering definieras enligt beskrivningen ovan.</span><span class="sxs-lookup"><span data-stu-id="26ca0-420">Using dynamically allocated widget control blocks requires that memory allocation and deallocation services are defined as described above.</span></span>

## <a name="guix-components"></a><span data-ttu-id="26ca0-421">GUIX-komponenter</span><span class="sxs-lookup"><span data-stu-id="26ca0-421">GUIX Components</span></span> 

<span data-ttu-id="26ca0-422">GUIX-API:erna är indelade och ordnade i flera grundläggande grupper som motsvarar grundläggande komponenter i GUIX-systemet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-422">The GUIX APIs are divided and organized into several basic groups which correspond to fundamental components of the GUIX system.</span></span> <span data-ttu-id="26ca0-423">De grundläggande komponenterna är:</span><span class="sxs-lookup"><span data-stu-id="26ca0-423">The fundamental components include:</span></span>

| <span data-ttu-id="26ca0-424">Komponenter</span><span class="sxs-lookup"><span data-stu-id="26ca0-424">Components</span></span>  | <span data-ttu-id="26ca0-425">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="26ca0-425">Description</span></span>  |
| ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="26ca0-426">GX_SYSTEM</span><span class="sxs-lookup"><span data-stu-id="26ca0-426">GX_SYSTEM</span></span>  | <span data-ttu-id="26ca0-427">GUIX-systemkomponenten, som ansvarar för initiering, händelser, timers, strängtabeller och synlig hantering av widgethierarki.</span><span class="sxs-lookup"><span data-stu-id="26ca0-427">The GUIX system component, responsible for initialization, events, timers, string tables, and visible widget hierarchy management.</span></span>                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="26ca0-428">GX_CANVAS</span><span class="sxs-lookup"><span data-stu-id="26ca0-428">GX_CANVAS</span></span>  | <span data-ttu-id="26ca0-429">Ett ritningsområde.</span><span class="sxs-lookup"><span data-stu-id="26ca0-429">A drawing area.</span></span> <span data-ttu-id="26ca0-430">En arbetsyta kan vara en tunn abstraktion av maskinvarurambufferten, eller också kan det vara en ren minnesarbetsyta.</span><span class="sxs-lookup"><span data-stu-id="26ca0-430">A Canvas can be a thin abstraction of the hardware frame buffer, or it might also be a pure memory canvas.</span></span> <span data-ttu-id="26ca0-431">Typen av arbetsyta bestäms av parametrar som skickas gx_canvas_create API-funktionen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-431">The canvas type is determined by parameters passed to the gx_canvas_create API function.</span></span>                                                                                                                                                                                   |
| <span data-ttu-id="26ca0-432">GX_CONTEXT</span><span class="sxs-lookup"><span data-stu-id="26ca0-432">GX_CONTEXT</span></span> | <span data-ttu-id="26ca0-433">Komponenten för ritningskontext.</span><span class="sxs-lookup"><span data-stu-id="26ca0-433">The drawing context component.</span></span> <span data-ttu-id="26ca0-434">Ritningskontexten innehåller information om skärmen, arbetsytan och pensel- och urklippsområdet för de aktuella ritningsoperationerna.</span><span class="sxs-lookup"><span data-stu-id="26ca0-434">The drawing context contains information about the screen, canvas, and brush, and clipping area for the current drawing operations.</span></span>                                                                                                                                                                                                                                      |
| <span data-ttu-id="26ca0-435">GX_DISPLAY</span><span class="sxs-lookup"><span data-stu-id="26ca0-435">GX_DISPLAY</span></span> | <span data-ttu-id="26ca0-436">Tillhandahåller API:er och implementeringar på drivrutinsnivå så att ditt program och GUIX-widgetar kan utföra ritning på en arbetsyta.</span><span class="sxs-lookup"><span data-stu-id="26ca0-436">Provides the APIs and driver-level implementations to allow your application and the GUIX widgets to perform drawing on a canvas.</span></span> <span data-ttu-id="26ca0-437">GX_DISPLAY implementeras för att korrekt återge grafik på varje arbetsyta med hjälp av arbetsytans färgformat som krävs.</span><span class="sxs-lookup"><span data-stu-id="26ca0-437">GX_DISPLAY is implemented to correctly render graphics on each canvas using that canvas’ required color format.</span></span> <span data-ttu-id="26ca0-438">Komponenten GX_DISPLAY hanterar också de resurser (färger, teckensnitt och pixelkartor) som är tillgängliga för widgetar som ritar på arbetsyta som är länkade till varje visning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-438">The GX_DISPLAY component also manages the resources (colors, fonts, and pixelmaps) available to widgets drawing to canvases linked to each display.</span></span> |
| <span data-ttu-id="26ca0-439">GX_WIDGET</span><span class="sxs-lookup"><span data-stu-id="26ca0-439">GX_WIDGET</span></span>  | <span data-ttu-id="26ca0-440">Det grundläggande synliga widgetobjektet och tillhörande API:er.</span><span class="sxs-lookup"><span data-stu-id="26ca0-440">The basic visible widget object and associated APIs.</span></span> <span data-ttu-id="26ca0-441">Alla GUIX-widgettyper baseras på eller härleds från den grundläggande GX_WIDGET typ.</span><span class="sxs-lookup"><span data-stu-id="26ca0-441">All GUIX widget types are based on or derived from the basic GX_WIDGET type.</span></span>                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="26ca0-442">GX_UTILITY</span><span class="sxs-lookup"><span data-stu-id="26ca0-442">GX_UTILITY</span></span> | <span data-ttu-id="26ca0-443">Verktygsfunktioner för att arbeta med rektanglar, funktioner för strängkonvertering och icke-ANSI-matematiska funktioner ingår i den här gruppen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-443">Utility functions for working with rectangles, functions for string conversion, and non-ANSI mathematical functions are included in this group.</span></span>                                                                                                                                                                                                                                                         |

<span data-ttu-id="26ca0-444">Förutom dessa grundläggande komponenter innehåller GUIX API:er som är unika för varje typ av widget som finns i biblioteket.</span><span class="sxs-lookup"><span data-stu-id="26ca0-444">In addition to these basic components, GUIX includes APIs unique to each type of widget provided in the library.</span></span> <span data-ttu-id="26ca0-445">Dessa API:er beskrivs i kapitel 4 i den här användarhandboken, "Beskrivning av GUIX-tjänster".</span><span class="sxs-lookup"><span data-stu-id="26ca0-445">These APIs are described in Chapter 4 of this User Guide, “Description of GUIX Services”.</span></span>

## <a name="guix-system-component"></a><span data-ttu-id="26ca0-446">GUIX-systemkomponent</span><span class="sxs-lookup"><span data-stu-id="26ca0-446">GUIX System Component</span></span>

<span data-ttu-id="26ca0-447">GUIX-systemkomponenten tillhandahåller flera tjänster som är globala för UI-programmet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-447">The GUIX system component provides several services that are global to the UI application.</span></span> <span data-ttu-id="26ca0-448">Dessa tjänster omfattar: *initiering, händelsehantering, visningshantering, resurshantering, timerhantering och* *widgethantering.*</span><span class="sxs-lookup"><span data-stu-id="26ca0-448">These services include: *initialization, event management, display management, resource management, timer management,* and *widget management*.</span></span> <span data-ttu-id="26ca0-449">Varje tjänst är viktig för organisationen av ditt program, och dessa tjänster beskrivs i detalj i följande underavsnitt.</span><span class="sxs-lookup"><span data-stu-id="26ca0-449">Each service is essential to the organization of your application program, and these services are described in more detail in the following sub-sections.</span></span>

### <a name="initialization"></a><span data-ttu-id="26ca0-450">Initiering</span><span class="sxs-lookup"><span data-stu-id="26ca0-450">Initialization</span></span> 

<span data-ttu-id="26ca0-451">GUIX-initiering åstadkoms genom att programmet anropar service ***gx_system_initialize***, som kan anropas av programmet från ThreadX ***tx_application_define-rutinen*** (initieringskontext) eller från programtrådar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-451">GUIX initialization is accomplished by the application calling the service ***gx_system_initialize***, which may be called by the application from the ThreadX ***tx_application_define*** routine (initialization context) or from application threads.</span></span> <span data-ttu-id="26ca0-452">Funktionen ***gx_system_initialize*** initierar alla globala GUIX-datastrukturer och skapar GUIX-systemet mutex, händelsekö, timer och tråd.</span><span class="sxs-lookup"><span data-stu-id="26ca0-452">The ***gx_system_initialize*** function initializes all global GUIX data structures and creates the GUIX system mutex, event queue, timer, and thread.</span></span> <span data-ttu-id="26ca0-453">När ***gx_system_initialize*** returneras kan programmet använda GUIX.</span><span class="sxs-lookup"><span data-stu-id="26ca0-453">Once ***gx_system_initialize*** returns, the application can use GUIX.</span></span>

### <a name="thread-processing"></a><span data-ttu-id="26ca0-454">Trådbearbetning</span><span class="sxs-lookup"><span data-stu-id="26ca0-454">Thread Processing</span></span> 

<span data-ttu-id="26ca0-455">Den interna GUIX-tråden – som skapades under initieringen – ansvarar för merparten av bearbetningen i GUIX.</span><span class="sxs-lookup"><span data-stu-id="26ca0-455">The internal GUIX thread – created during initialization – is responsible for most of the processing in GUIX.</span></span> <span data-ttu-id="26ca0-456">Bearbetningen i den här tråden slutför först eventuell ytterligare initiering som krävs av den underliggande visningsdrivrutinen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-456">The processing in this thread first completes any additional initialization required by the underlying display driver.</span></span> <span data-ttu-id="26ca0-457">När detta är klart går GUIX-tråden in i en loop som först bearbetar alla händelser som finns i GUIX-händelsekön och sedan uppdaterar skärmen om det behövs.</span><span class="sxs-lookup"><span data-stu-id="26ca0-457">Once this is complete, the GUIX thread enters a loop which first processes all events present in the GUIX event queue and then refreshes the screen if required.</span></span> <span data-ttu-id="26ca0-458">Skärmuppdateringen kör nödvändiga GUIX-ritningsfunktioner, baserat på vad som är synligt och har markerats som grovt, vilket innebär att det måste ritas om.</span><span class="sxs-lookup"><span data-stu-id="26ca0-458">The screen refresh executes the necessary GUIX drawing functions, based on what is visible and has been marked as dirty meaning it needs to be redrawn.</span></span> <span data-ttu-id="26ca0-459">När det inte finns några händelser och inget kvar att uppdatera på skärmen pausas GUIX-tråden och väntar på att nästa GUIX-händelse ska tas emot.</span><span class="sxs-lookup"><span data-stu-id="26ca0-459">When there are no events and nothing left to refresh on the display, the GUIX thread will suspend, waiting for the next GUIX event to arrive.</span></span>

### <a name="rtos-binding"></a><span data-ttu-id="26ca0-460">RTOS-bindning</span><span class="sxs-lookup"><span data-stu-id="26ca0-460">RTOS Binding</span></span> 

<span data-ttu-id="26ca0-461">GUIX-systemkomponenten är som standard konfigurerad för att använda operativsystemet ThreadX i realtid för tjänster som trådtjänster, händelsekötjänster och timertjänster.</span><span class="sxs-lookup"><span data-stu-id="26ca0-461">The GUIX system component is by default configured to utilize the ThreadX real time operating system for services such as thread services, event queue services, and timer services.</span></span> <span data-ttu-id="26ca0-462">GUIX kan enkelt portas till andra operativsystem med hjälp av direktivet preprocessor GX_DISABLE_THREADX_BINDING och bygga om GUIX-biblioteket.</span><span class="sxs-lookup"><span data-stu-id="26ca0-462">GUIX can easily be ported to other operating systems by using the preprocessor directive GX_DISABLE_THREADX_BINDING and re-building the GUIX library.</span></span> <span data-ttu-id="26ca0-463">Detta tar bort ThreadX-beroenden från GUIX-källkoden och gör att programutvecklaren kan implementera nödvändiga operativsystemtjänster med hjälp av det RTOS som tillhandahålls av målsystemet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-463">This removes the ThreadX dependencies from the GUIX source code, and allows the application developer to implement the required operating system services using whatever RTOS is provided by the target system.</span></span> <span data-ttu-id="26ca0-464">[Bilaga F – GUIX RTOS-bindningstjänster](appendix-f.md) beskriver de tjänster som måste implementeras på port-GUIX till ett annat operativsystem än ThreadX-operativsystemet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-464">[Appendix F - GUIX RTOS Binding Services](appendix-f.md) describes the services that need to be implemented to port GUIX to an operating system other than the ThreadX operating system.</span></span>

### <a name="multithread-safety"></a><span data-ttu-id="26ca0-465">Flertrådssäkerhet</span><span class="sxs-lookup"><span data-stu-id="26ca0-465">Multithread Safety</span></span> 

<span data-ttu-id="26ca0-466">GUIX-API:et är tillgängligt från GUIX-trådkontexten samt andra programtrådar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-466">The GUIX API is available from the GUIX thread context as well as other application threads.</span></span> <span data-ttu-id="26ca0-467">Programtrådar kan interagera med GUIX-tråden genom att skicka och ta emot händelser, via åtkomst till delade variabler och med hjälp av GUIX API-funktionerna.</span><span class="sxs-lookup"><span data-stu-id="26ca0-467">Application threads can interact with the GUIX thread by sending and receiving events, by access to shared variables, and through use of the GUIX API functions.</span></span> <span data-ttu-id="26ca0-468">GUIX använder en intern ThreadX mutex för resursskydd med flera trådar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-468">GUIX uses an internal ThreadX mutex for multi-thread resource protection.</span></span> <span data-ttu-id="26ca0-469">Dessutom förhindrar GUIX att den interna strukturen för synliga widgetar ändras när en uppdateringsåtgärd har påbörjats.</span><span class="sxs-lookup"><span data-stu-id="26ca0-469">In addition, GUIX prevents the internal structure of visible widgets from being modified once a screen refresh operation has begun.</span></span> <span data-ttu-id="26ca0-470">API:er som ändrar trädet för synliga objekt blockeras när ritningsåtgärder pågår och släpps när skärmuppdateringen är klar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-470">APIs which would modify the tree of visible objects are blocked while drawing operations are in progress, and released once the screen refresh is complete.</span></span>

### <a name="system-timers"></a><span data-ttu-id="26ca0-471">Systemtimerar</span><span class="sxs-lookup"><span data-stu-id="26ca0-471">System Timers</span></span> 

<span data-ttu-id="26ca0-472">GUIX ger programmet periodiska timers, som ofta används för regelbunden uppdatering av data som visas i GUIX-fönster.</span><span class="sxs-lookup"><span data-stu-id="26ca0-472">GUIX provides the application with periodic timers, which are often used for periodic update of data displayed in GUIX windows.</span></span> <span data-ttu-id="26ca0-473">Detta åstadkoms via en periodisk ThreadX-timer, som också används för att utföra GUIX-systemnivåeffekter som skärmtoning in/ut osv.</span><span class="sxs-lookup"><span data-stu-id="26ca0-473">This is accomplished via a ThreadX periodic timer, which is also used to perform GUIX system-level effects like screen fade in/out, etc.</span></span>

<span data-ttu-id="26ca0-474">Programmet kan skapa timers och använda samma timerfunktion som används internt av GUIX.</span><span class="sxs-lookup"><span data-stu-id="26ca0-474">The application can create timers and utilize the same timer facility that is used internally by GUIX.</span></span> <span data-ttu-id="26ca0-475">Naturligtvis kan programmet också skapa och använda ThreadX-timers direkt om det behövs.</span><span class="sxs-lookup"><span data-stu-id="26ca0-475">Of course the application can also directly create and use ThreadX timers if required.</span></span> <span data-ttu-id="26ca0-476">Fördelen med GUIX-timers är att de är mycket enkla att använda och är förkonfigurerade att fungera i GUIX-händelsedrivna bearbetningssystem.</span><span class="sxs-lookup"><span data-stu-id="26ca0-476">The advantage of the GUIX timers is that they are very easy to use and are pre-configured to work within the GUIX event-driven processing system.</span></span>

<span data-ttu-id="26ca0-477">För att skapa och starta en GUIX-timer ska programmet anropa funktionen ***gx_system_timer_start***.</span><span class="sxs-lookup"><span data-stu-id="26ca0-477">To create and start a GUIX timer, the application should invoke the function ***gx_system_timer_start***.</span></span> <span data-ttu-id="26ca0-478">Parametrarna för den här funktionen innehåller en pekare till den anropande widgeten, timer-ID:t (så att en widget kan starta många timers) och de inledande och omplanerade timeout-värdena.</span><span class="sxs-lookup"><span data-stu-id="26ca0-478">The parameters to this function include a pointer to the calling widget, the timer id (allowing one widget to start many timers), and the initial and reschedule timeout values.</span></span> <span data-ttu-id="26ca0-479">Om tidsgränsvärdet för omplan är 0 körs timern bara en gång och tar bort sig själv från listan över aktiva timer när den upphör att gälla.</span><span class="sxs-lookup"><span data-stu-id="26ca0-479">If the reschedule timeout value is 0, the timer will only run one time and will delete itself from the active timer list once it expires.</span></span>

<span data-ttu-id="26ca0-480">När guix-timern har startats skickar den GX_EVENT_TIMEOUT händelser till timerägaren, antingen en gång eller regelbundet beroende på timern som schemalades om.</span><span class="sxs-lookup"><span data-stu-id="26ca0-480">Once started, the GUIX timer will send GX_EVENT_TIMEOUT events to the timer owner, either once or periodically depending on the timer reschedule value.</span></span> <span data-ttu-id="26ca0-481">En GUIX-timer kan stoppas genom att anropa ***API-funktionen gx_system_timer_stop***.</span><span class="sxs-lookup"><span data-stu-id="26ca0-481">A GUIX timer can be stopped by calling the API function ***gx_system_timer_stop***.</span></span>

### <a name="pen-speed-configuration"></a><span data-ttu-id="26ca0-482">Konfiguration av pennhastighet</span><span class="sxs-lookup"><span data-stu-id="26ca0-482">Pen Speed Configuration</span></span> 

<span data-ttu-id="26ca0-483">GUIX-systemkomponenten innehåller konfigurationsinformation som rör spårning av pennhastighet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-483">The GUIX system component holds configuration information related to pen speed tracking.</span></span> <span data-ttu-id="26ca0-484">GUIX genereras **GX_EVENT_VERTICAL_FLICK** och **GX_EVENT_HORIZONTAL_FLICK** händelser baserat på hastighet och avstånd för PEN_DOWN-händelser som genereras av touch-indatadrivrutinen, om sådana finns.</span><span class="sxs-lookup"><span data-stu-id="26ca0-484">GUIX internally generated **GX_EVENT_VERTICAL_FLICK** and **GX_EVENT_HORIZONTAL_FLICK** events based on the speed and distance of PEN_DOWN events generated by the touch input driver, if any.</span></span> <span data-ttu-id="26ca0-485">Programmet kan konfigurera det minsta avstånd och den hastighet som krävs för att utlösa dessa internt genererade händelser med hjälp **_gx_system_pen_configure_** API-funktionen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-485">The application can configure the minimum distance and speed required to trigger these internally generated events using the **_gx_system_pen_configure_** API function.</span></span>

### <a name="screen-stack"></a><span data-ttu-id="26ca0-486">Skärmstack</span><span class="sxs-lookup"><span data-stu-id="26ca0-486">Screen Stack</span></span> 

<span data-ttu-id="26ca0-487">GUIX-systemkomponenten tillhandahåller tjänster relaterade till GUIX-skärmstacken, vilket är en valfri funktion som stöder en virtuell widgetstack på vilken skärmar kan pushas, skjutas och hämtas vid körning av programmet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-487">The GUIX system component provides services related to the GUIX screen stack, which is an optional functionality supporting a virtual widget stack onto which screens can be pushed, popped, and retrieved at runtime by the application.</span></span> <span data-ttu-id="26ca0-488">Skärmstacken är användbar för att hantera komplexa menysystem, där den väg som användaren kan komma åt i olika tillstånd i menysystemet varierar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-488">The screen stack is useful for managing complex menu systems, wherein the route by which the user may arrive at various states in the menu system is varied.</span></span> <span data-ttu-id="26ca0-489">Det är enkelt att gå tillbaka till det tidigare tillståndet i menysystemet genom att först push-skicka det tidigare skärmtillståndet och sedan visa den nya skärmen och låta den nya skärmen öppna föregående tillstånd från skärmstacken när den aktuella skärmen ignoreras.</span><span class="sxs-lookup"><span data-stu-id="26ca0-489">Returning to the previous state in the menu system can be easily done by first pushing the previous screen state, then displaying the new screen, and allowing the new screen to pop the previous state from the screen stack when the current screen is dismissed.</span></span>

### <a name="clipboard-maintenance"></a><span data-ttu-id="26ca0-490">Underhåll av Urklipp</span><span class="sxs-lookup"><span data-stu-id="26ca0-490">Clipboard Maintenance</span></span> 

<span data-ttu-id="26ca0-491">GUIX stöder urklipp för att kopiera och klistra in text under körning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-491">GUIX supports a clipboard for copying and pasting text during runtime execution.</span></span> <span data-ttu-id="26ca0-492">Det här stödet tillhandahålls av GUIX-systemkomponenten.</span><span class="sxs-lookup"><span data-stu-id="26ca0-492">This support is provided by the GUIX System component.</span></span>

### <a name="dirty-list-maintenance"></a><span data-ttu-id="26ca0-493">Underhåll av dirty list</span><span class="sxs-lookup"><span data-stu-id="26ca0-493">Dirty List Maintenance</span></span> 

<span data-ttu-id="26ca0-494">GUIX har en lista över felgrafiska widgetar, vilket innebär att widgetar som är synliga och måste ritas om på grund av statusändringar eller nyligen synliga.</span><span class="sxs-lookup"><span data-stu-id="26ca0-494">GUIX maintains a list of dirty widgets, meaning widgets that are visible and need to be redrawn due to status changes or being made newly visible.</span></span> <span data-ttu-id="26ca0-495">Den här ändrade listan förbättrar ritningens prestanda genom att tillåta GUIX att göra en uppdateringsåtgärd för arbetsytan för att återspegla alla aktuella ändringar av ui-statusen, i stället för att göra en uppdatering av arbetsytan när varje ui-ändring görs.</span><span class="sxs-lookup"><span data-stu-id="26ca0-495">This dirty list improves drawing performance by allowing GUIX to do one canvas refresh operation to reflect all current changes to the UI status, rather than doing a canvas refresh as each UI change is made.</span></span>
<span data-ttu-id="26ca0-496">Den här listan underhålls också av GUIX-systemkomponenten.</span><span class="sxs-lookup"><span data-stu-id="26ca0-496">This dirty list is also maintained by the GUIX system component.</span></span>

### <a name="animation-control-block-pool"></a><span data-ttu-id="26ca0-497">Blockpool för animeringskontroll</span><span class="sxs-lookup"><span data-stu-id="26ca0-497">Animation Control Block Pool</span></span> 

<span data-ttu-id="26ca0-498">Program vill ofta köra flera animeringssekvenser, ofta parallellt.</span><span class="sxs-lookup"><span data-stu-id="26ca0-498">Applications often desire to execute multiple animation sequences, often in parallel.</span></span> <span data-ttu-id="26ca0-499">GUIX har en pool med animeringskontrollblock som programmet kan allokera och använda från.</span><span class="sxs-lookup"><span data-stu-id="26ca0-499">GUIX maintains a pool of animation control blocks from which the application can allocate and use.</span></span> <span data-ttu-id="26ca0-500">Detta frigör programmet från att statiskt definiera dessa kontrollblock och gör att de kan återanvändas vid olika tidpunkter, i stället för att definiera ett unikt animeringskontrollblock för varje animering som programmet kan definiera.</span><span class="sxs-lookup"><span data-stu-id="26ca0-500">This frees the application from statically defining these control blocks and allows them to be reused at different times, rather than defining a unique animation control block for every animation that the application might define.</span></span> <span data-ttu-id="26ca0-501">Blockpoolen för animeringskontroll underhålls också av GUIX-systemkomponenten.</span><span class="sxs-lookup"><span data-stu-id="26ca0-501">The animation control block pool is also maintained by the GUIX system component.</span></span>

### <a name="system-error-handling"></a><span data-ttu-id="26ca0-502">Systemfelhantering</span><span class="sxs-lookup"><span data-stu-id="26ca0-502">System Error Handling</span></span> 

<span data-ttu-id="26ca0-503">GUIX-systemfelhanteraren är avsedd att hjälpa programmet att hitta interna systemfel i GUIX som kan vara svårare att fastställa ur API-perspektivet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-503">The GUIX system error handler is intended to assist the application in finding internal system errors in GUIX that might be more difficult to determine from the API perspective.</span></span> <span data-ttu-id="26ca0-504">När ett systemfel inträffar i GUIX anropas ***den _gx_system_error_process*** funktionen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-504">Whenever a system error occurs inside of GUIX the internal ***_gx_system_error_process*** function is called.</span></span> <span data-ttu-id="26ca0-505">Den här funktionen sparar den angivna felkoden och ökar det totala antalet identifierade systemfel.</span><span class="sxs-lookup"><span data-stu-id="26ca0-505">This function saves the error code provided and increments the total number of system errors detected.</span></span> <span data-ttu-id="26ca0-506">Systemfelvariablerna definieras på följande sätt:</span><span class="sxs-lookup"><span data-stu-id="26ca0-506">The system error variables are defined as follows:</span></span>

<span data-ttu-id="26ca0-507">UINT **_gx_system_last_error**;</span><span class="sxs-lookup"><span data-stu-id="26ca0-507">UINT **_gx_system_last_error**;</span></span>

<span data-ttu-id="26ca0-508">ULONG **_gx_system_error_count**;</span><span class="sxs-lookup"><span data-stu-id="26ca0-508">ULONG **_gx_system_error_count**;</span></span>

<span data-ttu-id="26ca0-509">Om GUIX-programmet beter sig konstigt är det bra att titta på variabeln felantal i felsökningsprogrammet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-509">If the GUIX application is behaving strangely, it is useful to look at the error count variable in the debugger.</span></span> <span data-ttu-id="26ca0-510">Om den har angetts är ett bra sätt att felsöka problemet att ange en ***brytpunkt i _gx_system_error_process-funktionen*** och se när/var den anropas från.</span><span class="sxs-lookup"><span data-stu-id="26ca0-510">If it is set, a good way to troubleshoot the problem is to set a breakpoint in the ***_gx_system_error_process*** function and see when/where it is being called from.</span></span>

## <a name="guix-canvas-component"></a><span data-ttu-id="26ca0-511">GUIX-arbetsytekomponent</span><span class="sxs-lookup"><span data-stu-id="26ca0-511">GUIX Canvas Component</span></span>

<span data-ttu-id="26ca0-512">Komponenten för arbetsyta ansvarar för all arbetsyterelaterad bearbetning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-512">The canvas component is responsible for all canvas related processing.</span></span> <span data-ttu-id="26ca0-513">En arbetsyta är i praktiken en virtuell rambuffert.</span><span class="sxs-lookup"><span data-stu-id="26ca0-513">A canvas is effectively a virtual frame buffer.</span></span> <span data-ttu-id="26ca0-514">Programmet måste skapa minst en arbetsyta för att kunna skapa grafiska utdata.</span><span class="sxs-lookup"><span data-stu-id="26ca0-514">Your application must create at least one canvas in order to produce graphical output.</span></span>
<span data-ttu-id="26ca0-515">Normalt skapar du minst en arbetsyta för varje fysisk skärm som stöds av systemet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-515">Typically, you would create at least one canvas for each physical display supported by your system.</span></span>

<span data-ttu-id="26ca0-516">All GUIX-ritning sker på en arbetsyta.</span><span class="sxs-lookup"><span data-stu-id="26ca0-516">All GUIX drawing takes place on a canvas.</span></span> <span data-ttu-id="26ca0-517">I enklare system eller minnesbegränsade system finns det förmodligen bara en arbetsyta som kan vara direkt länkad till den synliga rambufferten, medan system med mer minne och mer avancerade grafikkrav kan kräva flera arbetsyta.</span><span class="sxs-lookup"><span data-stu-id="26ca0-517">In simpler or memory constrained systems, there will likely be only one canvas which might be directly linked to the visible frame buffer, whereas systems with more memory and more advanced graphics requirements might require multiple canvases.</span></span> <span data-ttu-id="26ca0-518">Genom att göra flera arbetsyta tillgängliga för en visning aktiveras funktioner som skärm- och fönstertonings- och toningsfunktioner.</span><span class="sxs-lookup"><span data-stu-id="26ca0-518">Making multiple canvases available for one display enables features such as screen and window fade-in and fade-out effects.</span></span>
<span data-ttu-id="26ca0-519">Arbetsytetyper kan vara en av två huvudtyper, enkla eller hanterade.</span><span class="sxs-lookup"><span data-stu-id="26ca0-519">Canvases can be one of two main types, simple or managed.</span></span>

<span data-ttu-id="26ca0-520">En enkel arbetsyta är ett ritningsområde utanför skärmen som används av programmet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-520">A simple canvas is an off-screen drawing area used by the application.</span></span>
<span data-ttu-id="26ca0-521">GUIX gör ingenting direkt med en enkel arbetsyta, men programmet kan använda en enkel arbetsyta för att rendera komplex ritning till en buffert utanför skärmen och sedan använda den här bufferten utanför skärmen för att uppdatera den synliga arbetsytan när det behövs.</span><span class="sxs-lookup"><span data-stu-id="26ca0-521">GUIX does nothing directly with a simple canvas, but the application can use a simple canvas to render complex drawing to an off-screen buffer, and then use this off-screen buffer to refresh the visible canvas when needed.</span></span>

<span data-ttu-id="26ca0-522">En hanterad arbetsyta visas automatiskt i maskinvarurambufferten av GUIX.</span><span class="sxs-lookup"><span data-stu-id="26ca0-522">A managed canvas is automatically displayed within the hardware frame buffer by GUIX.</span></span> <span data-ttu-id="26ca0-523">En hanterad arbetsyta ingår i att skapa en sammansatt arbetsyta för dessa system med tillräckligt med minne för att stödja flera hanterade arbetsyta.</span><span class="sxs-lookup"><span data-stu-id="26ca0-523">A managed canvas is included in building a composite canvas for those systems with enough memory to support multiple managed canvases.</span></span> <span data-ttu-id="26ca0-524">Hanterade arbetsyta har en Z-ordning som underhålls av GUIX, och visningskakt tillämpas på alla hanterade arbetsyta.</span><span class="sxs-lookup"><span data-stu-id="26ca0-524">Managed canvases have a Z-order maintained by GUIX, and view clipping is enforced on all managed canvases.</span></span>

<span data-ttu-id="26ca0-525">En arbetsyta skiljer sig från en rambuffert på så sätt att den är mer allmän.</span><span class="sxs-lookup"><span data-stu-id="26ca0-525">A canvas differs from a frame buffer in that it is more generic.</span></span> <span data-ttu-id="26ca0-526">I minnesbegränsade system kan det bara finnas en arbetsyta och minnet för den här arbetsytan kan vara det synliga rambuffertminnet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-526">In memory constrained systems, there may be only one canvas and the memory for this canvas might be the visible frame buffer memory.</span></span> <span data-ttu-id="26ca0-527">Men för mer komplexa system som stöder mer avancerade grafiska överlägg och flera arbetsytor allokeras de hanterade arbetsytorna sina egna minnesområden som skiljer sig från maskinvarurambuffertminnet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-527">However, for more complex systems supporting more advanced graphical overlays and multiple canvases, the managed canvases are each allocated their own memory areas which are distinct from the hardware frame buffer memory.</span></span>
<span data-ttu-id="26ca0-528">Dessa hanterade arbetsyta återges i den synliga rambufferten under uppdatering av rambufferten eller växlingsåtgärden.</span><span class="sxs-lookup"><span data-stu-id="26ca0-528">These managed canvases are rendered into the visible frame buffer during the frame buffer refresh or toggle operation.</span></span>

<span data-ttu-id="26ca0-529">För maskinvara som stöder flera grafiklager, dvs. flera överläggsrambuffertar, kan programmet binda en eller flera arbetsyta till maskinvarugrafikskikten med hjälp av gx_canvas_hardware_layer_bind-API:et. </span><span class="sxs-lookup"><span data-stu-id="26ca0-529">For hardware supporting multiple graphics layers, i.e. multiple overlayed frame buffers, the application can bind one or more canvases to the hardware graphics layers using the ***gx_canvas_hardware_layer_bind*** API.</span></span> <span data-ttu-id="26ca0-530">Den här tjänsten informerar arbetsytan om att den är länkad till ett visst maskinvarugrafiklager, och när arbetsytan har länkats försöker den använda maskinvarustöd för synlighet för arbetsyta (dvs.</span><span class="sxs-lookup"><span data-stu-id="26ca0-530">This service informs the canvas that it is linked to a particular hardware graphics layer, and once linked this canvas will attempt to utilize hardware support for canvas visibility (i.e</span></span> <span data-ttu-id="26ca0-531">gx_canvas_show, gx_canvas_hide), alfablandning av arbetsyta (d.v.s. ***gx_canvas_alpha_set***) och förskjutning av arbetsytan i ***visningen***( gx_canvas_offset_set ).</span><span class="sxs-lookup"><span data-stu-id="26ca0-531">gx_canvas_show, gx_canvas_hide), canvas alpha blending (i.e. ***gx_canvas_alpha_set***) and canvas offset within the display (***gx_canvas_offset_set***).</span></span>

<span data-ttu-id="26ca0-532">För andra arkitekturer än den enklaste organisationen med en enda arbetsyta/en enda rambuffert bestäms storleken på en arbetsyta av programmet och kan vara annorlunda än den fasta storleken på en rambuffert.</span><span class="sxs-lookup"><span data-stu-id="26ca0-532">For architectures other than the simplest single canvas/single frame buffer organization, the size of a canvas is determined by the application and may be different than the fixed size of a frame buffer.</span></span>
<span data-ttu-id="26ca0-533">Det kan också vara vid en förskjutning som valts av programmet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-533">It may also be at an offset selected by the application.</span></span> <span data-ttu-id="26ca0-534">Annan information, till exempel Z-order, underhålls på arbetsytan.</span><span class="sxs-lookup"><span data-stu-id="26ca0-534">Other information, such as Z-order is maintained within the canvas.</span></span> <span data-ttu-id="26ca0-535">När arbetsytans ritning är klar överförs innehållet på arbetsytan till den fysiska visningen av visningsdrivrutinen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-535">When the canvas drawing is complete, the contents of the canvas are transferred to the physical display by the display driver.</span></span> <span data-ttu-id="26ca0-536">I vissa system som inte har tillräckligt med minne för en separat arbetsyta och rambuffertens minnesområden görs uppdateringen av arbetsytan direkt till den fysiska visningen via visningsdrivrutinen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-536">In some systems that don’t have enough memory for a separate canvas and frame buffer memory areas, the canvas update is actually made directly to the physical display via the display driver.</span></span>

### <a name="canvas-creation"></a><span data-ttu-id="26ca0-537">Skapa arbetsyta</span><span class="sxs-lookup"><span data-stu-id="26ca0-537">Canvas Creation</span></span> 

<span data-ttu-id="26ca0-538">Ett arbetsyteobjekt kan skapas under initieringen eller när som helst under körningen av programtrådar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-538">A canvas object can be created during initialization or anytime during the execution of application threads.</span></span> <span data-ttu-id="26ca0-539">Det finns ingen gräns för hur många arbetsyteobjekt som kan skapas av ett program.</span><span class="sxs-lookup"><span data-stu-id="26ca0-539">There is no limit on the number of canvas objects that can be created by an application.</span></span> <span data-ttu-id="26ca0-540">De flesta program skapar dock bara ett arbetsyteobjekt för all GUIX-ritning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-540">Most applications, however, will create only one canvas object for all GUIX drawing.</span></span>

### <a name="canvas-control-block"></a><span data-ttu-id="26ca0-541">Kontrollblock för arbetsyta</span><span class="sxs-lookup"><span data-stu-id="26ca0-541">Canvas Control Block</span></span> 

<span data-ttu-id="26ca0-542">Egenskaperna för varje arbetsyteobjekt finns i dess kontrollblock **GX_CANVAS** definieras i **_gx_api.h_**.</span><span class="sxs-lookup"><span data-stu-id="26ca0-542">The characteristics of each canvas object are found in its control block **GX_CANVAS** and is defined in **_gx_api.h_**.</span></span> <span data-ttu-id="26ca0-543">Det minne som krävs för ett arbetsyteobjekt tillhandahålls av programmet och kan finnas var som helst i minnet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-543">The memory required for a canvas object is provided by the application and can be located anywhere in memory.</span></span> <span data-ttu-id="26ca0-544">Det är dock vanligast att göra arbetsytans objektkontrollblock och ritningsområdet till en global struktur genom att definiera dem utanför omfånget för en funktion.</span><span class="sxs-lookup"><span data-stu-id="26ca0-544">However, it is most common to make the canvas object control block and the drawing area a global structure by defining them outside the scope of any function.</span></span>

### <a name="canvas-alpha-channel"></a><span data-ttu-id="26ca0-545">Alpha Channel för arbetsyta</span><span class="sxs-lookup"><span data-stu-id="26ca0-545">Canvas Alpha Channel</span></span>

<span data-ttu-id="26ca0-546">GUIX stöder alfablanding av förgrunds- och bakgrundsfärger på många nivåer, inklusive alfakanal för bitmapp som anger ett blandningsförhållande per pixel, borst alfa som anger blandningsförhållandet för en pensel med 16 bpp och högre färgdjup och alfa för arbetsytan som anger blandningsförhållandet för en överläggsarbetsyta.</span><span class="sxs-lookup"><span data-stu-id="26ca0-546">GUIX supports alpha-blending of foreground and background colors on many levels, including bitmap alpha channel which specifies a blending ratio per pixel, brush alpha which specifies the blending ratio for a brush at 16 bpp and higher color depths, and canvas alpha which specifies the blending ratio for an overlay canvas.</span></span>

<span data-ttu-id="26ca0-547">Alfavärdet för en arbetsyta används när det finns flera arbetsyta som är sammansatta tillsammans för visning i rambufferten.</span><span class="sxs-lookup"><span data-stu-id="26ca0-547">The alpha value of a canvas is used when there are multiple canvases which are composited together for display within the frame buffer.</span></span> <span data-ttu-id="26ca0-548">Om arbetsytans Z-ordning är sådan att en arbetsyta är ovanför andra arbetsyta kan du ange alfavärdet för arbetsytan för att blanda arbetsytan med de som ligger bakom.</span><span class="sxs-lookup"><span data-stu-id="26ca0-548">If the canvas Z-order is such that a canvas is above other canvases, then the canvas alpha value can be set to blend the canvas with those that lie behind.</span></span> <span data-ttu-id="26ca0-549">Snabb ändring av alfavärdet för en arbetsyta används för att ge "tona in"-skärmövergångseffekter, men alfa för arbetsyta kan användas på många sätt.</span><span class="sxs-lookup"><span data-stu-id="26ca0-549">Rapidly modifying the alpha value of a canvas is used to provide “fade in” screen transition effects, but the canvas alpha can be used in many ways.</span></span>

<span data-ttu-id="26ca0-550">Om en arbetsyta är bunden till ett maskinvarugrafiklager med hjälp av gx_canvas_hardware_layer_bind(), försöker GUIX implementera alfablandning av arbetsyta med maskinvarustöd, vilket minimerar programvarukostnaderna som är associerade med att blanda en överläggsarbetsyta.</span><span class="sxs-lookup"><span data-stu-id="26ca0-550">If a canvas is bound to a hardware graphics layer using gx_canvas_hardware_layer_bind(), GUIX will attempt to implement canvas alpha blending utilizing hardware support, minimizing the software overhead associated with blending an overlay canvas.</span></span>

<span data-ttu-id="26ca0-551">Alfavärden sträcker sig från 0 till 255, där värdet 0 innebär att pixeln är helt transparent och värden större än 0 ökar mindre transparent alfavärde för arbetsyta kan endast stödjas för skärmdrivrutiner som körs med 16 bpp och högre om inte maskinvaruhjälp för kombination av arbetsyta tillhandahålls.</span><span class="sxs-lookup"><span data-stu-id="26ca0-551">Alpha values range from 0 through 255, where a value of 0 means the pixel is fully transparent and values greater than 0 are increasing less transparent canvas alpha value can only be supported for screen drivers running at 16-bpp and higher unless hardware assistance for canvas blending is provided.</span></span>

### <a name="canvas-offset"></a><span data-ttu-id="26ca0-552">Förskjutning av arbetsyta</span><span class="sxs-lookup"><span data-stu-id="26ca0-552">Canvas Offset</span></span> 

<span data-ttu-id="26ca0-553">En arbetsyta kan förskjutas inom den synliga rambufferten genom att anropa ***gx_canvas_offset_set API-tjänsten.***</span><span class="sxs-lookup"><span data-stu-id="26ca0-553">A canvas can be offset within the visible frame buffer by invoking the ***gx_canvas_offset_set*** API service.</span></span> <span data-ttu-id="26ca0-554">Förskjutningar för arbetsyta används vanligtvis för att implementera andra animeringar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-554">Canvas offsets are usually used to implement sprite animations.</span></span> <span data-ttu-id="26ca0-555">Om en arbetsyta är bunden till ett maskinvarugrafiklager genom att anropa ***gx_canvas_hardware_layer_bind*** API-funktionen, kommer GUIX att försöka implementera ändringar av arbetsytans offset med hjälp av maskinvarustöd, vilket minimerar programvarukostnaderna som är associerade med att flytta arbetsytans position.</span><span class="sxs-lookup"><span data-stu-id="26ca0-555">If a canvas is bound to a hardware graphics layer by invoking the ***gx_canvas_hardware_layer_bind*** API function, GUIX will attempt to implement canvas offset changes utilizing hardware support, minimizing the software overhead associated with shifting the canvas position.</span></span>

### <a name="canvas-drawing"></a><span data-ttu-id="26ca0-556">Arbetsyteritning</span><span class="sxs-lookup"><span data-stu-id="26ca0-556">Canvas Drawing</span></span> 

<span data-ttu-id="26ca0-557">KOMPONENTEN GUIX-arbetsyta tillhandahåller ett fullständigt API för ritning till programmet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-557">The GUIX canvas component provides a full drawing API to the application.</span></span> <span data-ttu-id="26ca0-558">Innan du kan anropa ***API:erna för*** gx_canvas_line_draw eller ***gx_canvas_pixelmap_draw*** måste målarbetsytan öppnas för ritning genom att anropa ***API gx_canvas_drawing_initiate funktionen.***</span><span class="sxs-lookup"><span data-stu-id="26ca0-558">Before the drawing APIs such as ***gx_canvas_line_draw*** or ***gx_canvas_pixelmap_draw*** can be invoked, the target canvas must be opened for drawing by invoking the ***gx_canvas_drawing_initiate*** API function.</span></span> <span data-ttu-id="26ca0-559">Den här funktionen förbereder en arbetsyta för ritning och skapar en ***ritningskontext***.</span><span class="sxs-lookup"><span data-stu-id="26ca0-559">This function prepares a canvas for drawing and creates a ***drawing context***.</span></span>

<span data-ttu-id="26ca0-560">De ritnings-API:er som återges på arbetsytan, till exempel ***gx_canvas_line_draw** _ eller _*_gx_canvas_text_draw_\*_, använder parametrar som finns i den aktuella penseln för ritningskontext för att definiera linjeformat, bredd och färger.</span><span class="sxs-lookup"><span data-stu-id="26ca0-560">The drawing APIs that render to the canvas, such as ***gx_canvas_line_draw** _ or _*_gx_canvas_text_draw_\*_, use parameters found in the current drawing context brush to define the line style, width, and colors.</span></span> <span data-ttu-id="26ca0-561">Dessa penselparametrar ändras genom att _*_anropa api-funktionerna gx_context_brush_define_*_, _\* _gx_context_brush_set_\*\*, \***gx_context_brush_style_set**_ och liknande API när en ritningskontext har upprättats genom att anropa _\*_gx_canvas_drawing_initiate_\*\*.</span><span class="sxs-lookup"><span data-stu-id="26ca0-561">These brush parameters are modified by calling the _*_gx_context_brush_define_*_, _\*_gx_context_brush_set_\*\*, \***gx_context_brush_style_set**_, and similar API functions after a drawing context has been established by calling _\*_gx_canvas_drawing_initiate_\*\*.</span></span>

<span data-ttu-id="26ca0-562">När GUIX anropar fönster- och widgetritningsfunktioner som en del av en uppskjuten arbetsyteuppdatering öppnas målarbetsytan för ritning innan widgetens ritningsfunktion anropas.</span><span class="sxs-lookup"><span data-stu-id="26ca0-562">When GUIX invokes the window and widget drawing functions as part of a deferred canvas refresh operation, the target canvas is opened for drawing prior to calling the widget drawing function(s).</span></span> <span data-ttu-id="26ca0-563">Därför krävs inte standardwidgetritningsfunktioner för att öppna målarbetsytan, detta har gjorts för dem.</span><span class="sxs-lookup"><span data-stu-id="26ca0-563">Therefore the standard widget drawing functions are not required to open the target canvas, this has been done for them.</span></span>

<span data-ttu-id="26ca0-564">I vissa fall kanske programmet vill tvinga fram en omedelbar ritning till en arbetsyta.</span><span class="sxs-lookup"><span data-stu-id="26ca0-564">In some cases the application may want to force immediate drawing to a canvas.</span></span> <span data-ttu-id="26ca0-565">I det här fallet kan programmet utföra följande steg.</span><span class="sxs-lookup"><span data-stu-id="26ca0-565">In this case, the application can perform the following steps.</span></span>

1. <span data-ttu-id="26ca0-566">Anropa ***gx_canvas_drawing_initiate*** API-funktionen och skicka in målarbetsytan och rektangeln i arbetsytan som programmet vill rita på.</span><span class="sxs-lookup"><span data-stu-id="26ca0-566">Call the ***gx_canvas_drawing_initiate*** API function, passing in the target canvas and rectangle within that canvas on which the application wants to draw.</span></span> 

2. <span data-ttu-id="26ca0-567">Anropa val annat antal API:er för arbetsyteritning för att utföra den önskade ritningen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-567">Call any number of canvas drawing APIs to accomplish the desired drawing.</span></span>

3. <span data-ttu-id="26ca0-568">Anropa ***API gx_canvas_drawing_complete funktionen*** för att signalera att ritningen har slutförts.</span><span class="sxs-lookup"><span data-stu-id="26ca0-568">Call the ***gx_canvas_drawing_complete*** API function to signal that drawing has been completed.</span></span> <span data-ttu-id="26ca0-569">Detta rensar arbetsytan till den synliga rambufferten och/eller utlöser en buffert växlingsåtgärd, beroende på systemets minnesarkitektur.</span><span class="sxs-lookup"><span data-stu-id="26ca0-569">This flushes the canvas to the visible frame buffer and/or triggers a buffer toggle operation, depending on the system memory architecture.</span></span>

### <a name="drawing-apis"></a><span data-ttu-id="26ca0-570">API:er för ritning</span><span class="sxs-lookup"><span data-stu-id="26ca0-570">Drawing APIs</span></span> 

<span data-ttu-id="26ca0-571">Det finns flera primitiver för huvudritning som krävs av GUIX för att rita alla visuella element på skärmen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-571">There are several principal drawing primitives that are required by GUIX to draw all the visual elements on the screen.</span></span> <span data-ttu-id="26ca0-572">De här API:erna för ritning kan också anropas av programprogramvaran, vanligtvis som en del av en anpassad widgetritning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-572">These drawing APIs can also be invoked by application software, usually as part of a custom widget drawing function.</span></span> <span data-ttu-id="26ca0-573">Dessa API:er för GUIX-arbetsyteritning utför parametervalidering och urklipp och skickar sedan de urklippta ritningskoordinaterna till visningsdrivrutinen för maskinvaru- och färgformatsspecifika ritningsimplementeringar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-573">These GUIX canvas drawing APIs perform parameter validation and clipping, and then pass the clipped drawing coordinates down to the display driver for hardware and color-format specific drawing implementations.</span></span> <span data-ttu-id="26ca0-574">Dessa api-ritningsfunktioner definieras på följande sätt.</span><span class="sxs-lookup"><span data-stu-id="26ca0-574">These drawing API functions are defined as follows.</span></span>

- <span data-ttu-id="26ca0-575">gx_canvas_alpha_set</span><span class="sxs-lookup"><span data-stu-id="26ca0-575">gx_canvas_alpha_set</span></span>
- <span data-ttu-id="26ca0-576">gx_canvas_arc_draw</span><span class="sxs-lookup"><span data-stu-id="26ca0-576">gx_canvas_arc_draw</span></span>
- <span data-ttu-id="26ca0-577">gx_canvas_block_move</span><span class="sxs-lookup"><span data-stu-id="26ca0-577">gx_canvas_block_move</span></span>
- <span data-ttu-id="26ca0-578">gx_canvas_circle_draw</span><span class="sxs-lookup"><span data-stu-id="26ca0-578">gx_canvas_circle_draw</span></span>
- <span data-ttu-id="26ca0-579">gx_canvas_ellipse_draw</span><span class="sxs-lookup"><span data-stu-id="26ca0-579">gx_canvas_ellipse_draw</span></span>
- <span data-ttu-id="26ca0-580">gx_canvas_glyphs_draw</span><span class="sxs-lookup"><span data-stu-id="26ca0-580">gx_canvas_glyphs_draw</span></span>
- <span data-ttu-id="26ca0-581">gx_canvas_hardware_layer_bind</span><span class="sxs-lookup"><span data-stu-id="26ca0-581">gx_canvas_hardware_layer_bind</span></span>
- <span data-ttu-id="26ca0-582">gx_canvas_hide</span><span class="sxs-lookup"><span data-stu-id="26ca0-582">gx_canvas_hide</span></span>
- <span data-ttu-id="26ca0-583">gx_canvas_line_draw</span><span class="sxs-lookup"><span data-stu-id="26ca0-583">gx_canvas_line_draw</span></span>
- <span data-ttu-id="26ca0-584">gx_canvas_offset_set</span><span class="sxs-lookup"><span data-stu-id="26ca0-584">gx_canvas_offset_set</span></span>
- <span data-ttu-id="26ca0-585">gx_canvas_pie_draw</span><span class="sxs-lookup"><span data-stu-id="26ca0-585">gx_canvas_pie_draw</span></span>
- <span data-ttu-id="26ca0-586">gx_canvas_pixel_draw</span><span class="sxs-lookup"><span data-stu-id="26ca0-586">gx_canvas_pixel_draw</span></span>
- <span data-ttu-id="26ca0-587">gx_canvas_pixelmap_blend</span><span class="sxs-lookup"><span data-stu-id="26ca0-587">gx_canvas_pixelmap_blend</span></span>
- <span data-ttu-id="26ca0-588">gx_canvas_pixelmap_rotate</span><span class="sxs-lookup"><span data-stu-id="26ca0-588">gx_canvas_pixelmap_rotate</span></span>
- <span data-ttu-id="26ca0-589">gx_canvas_pixelmap_tile</span><span class="sxs-lookup"><span data-stu-id="26ca0-589">gx_canvas_pixelmap_tile</span></span>
- <span data-ttu-id="26ca0-590">gx_canvas_polygon_draw</span><span class="sxs-lookup"><span data-stu-id="26ca0-590">gx_canvas_polygon_draw</span></span>
- <span data-ttu-id="26ca0-591">gx_canvas_rectangle_draw</span><span class="sxs-lookup"><span data-stu-id="26ca0-591">gx_canvas_rectangle_draw</span></span>
- <span data-ttu-id="26ca0-592">gx_canvas_rotated_text_draw</span><span class="sxs-lookup"><span data-stu-id="26ca0-592">gx_canvas_rotated_text_draw</span></span>
- <span data-ttu-id="26ca0-593">gx_canvas_shift</span><span class="sxs-lookup"><span data-stu-id="26ca0-593">gx_canvas_shift</span></span>
- <span data-ttu-id="26ca0-594">gx_canvas_show</span><span class="sxs-lookup"><span data-stu-id="26ca0-594">gx_canvas_show</span></span>
- <span data-ttu-id="26ca0-595">gx_canvas_text_draw</span><span class="sxs-lookup"><span data-stu-id="26ca0-595">gx_canvas_text_draw</span></span>

<span data-ttu-id="26ca0-596">Api:et för ritning anropas via API:et för GUIX-arbetsytan och all ritning görs med hjälp gx_canvas_\* API-funktioner.</span><span class="sxs-lookup"><span data-stu-id="26ca0-596">The drawing API is invoked via the GUIX Canvas API, and all drawing is done using gx_canvas_\* API functions.</span></span> <span data-ttu-id="26ca0-597">Ritningen görs med hjälp av den aktuella penseln i den aktuella ritningskontexten.</span><span class="sxs-lookup"><span data-stu-id="26ca0-597">Drawing is done using the current brush in the current drawing context.</span></span> <span data-ttu-id="26ca0-598">Alla formritningsfunktioner ovan kan beskrivas, en heldragen färg eller en pixelkarta som fyllts enligt definitionen i den aktuella penseln.</span><span class="sxs-lookup"><span data-stu-id="26ca0-598">Any of the shape drawing functions above can be outlined, solid color filled, or pixelmap filled as defined by the current brush.</span></span> <span data-ttu-id="26ca0-599">Om du vill ändra bredd, färg eller fyllning för formkonturerna använder du API gx_context_brush_funktionerna\* för att definiera penseln i den aktuella ritningskontexten.</span><span class="sxs-lookup"><span data-stu-id="26ca0-599">To modify the shape outline width, color, or fill, use the gx_context_brush_\* API functions to define the brush within the current drawing context.</span></span>

<span data-ttu-id="26ca0-600">Ovanstående API:er för ritning på programnivå gör inte själva ritningen till arbetsytan, utan verifierar i stället anroparens parametrar innan du anropar funktionen för att visa förarnivåritning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-600">The above application level drawing APIs don’t do actual drawing to the canvas, but instead verify the caller’s parameters before invoking the display driver level drawing function.</span></span> <span data-ttu-id="26ca0-601">Ritningsfunktionen på drivrutinsnivå skriver faktiskt pixeldata till arbetsytans minne.</span><span class="sxs-lookup"><span data-stu-id="26ca0-601">The driver level drawing function actually writes pixel data into the canvas memory.</span></span>

<span data-ttu-id="26ca0-602">GUIX tillhandahåller aktiebaserade eller allmänna visningsdrivrutiner för olika färgdjup, inklusive 1, 2, 4, 8, 16, 24 och 32 bitar per pixel (bpp).</span><span class="sxs-lookup"><span data-stu-id="26ca0-602">GUIX provides stock or generic display driver drawing functions for various color depths, including 1, 2, 4, 8, 16, 24, and 32 bits per pixel (bpp).</span></span> <span data-ttu-id="26ca0-603">I vissa fall ersätts standardimplementering av programvaruritning med maskinvaruaccelererade implementeringar för de maskinvarumål som tillhandahåller en 2D-ritningsaccelerator.</span><span class="sxs-lookup"><span data-stu-id="26ca0-603">In some cases, the default software drawing implementation is replaced by hardware-accelerated implementations for those hardware targets that provide a 2D drawing accelerator.</span></span>

### <a name="color-depth"></a><span data-ttu-id="26ca0-604">Färgdjup</span><span class="sxs-lookup"><span data-stu-id="26ca0-604">Color Depth</span></span> 

<span data-ttu-id="26ca0-605">GUIX stöder färgdjup upp till 32 bpp samt gråskala och gråskala.</span><span class="sxs-lookup"><span data-stu-id="26ca0-605">GUIX supports color depths up to 32-bpp as well as monochrome and grayscale.</span></span> <span data-ttu-id="26ca0-606">Typen av stöd för färgdjup bestäms huvudsakligen av funktionerna i den underliggande fysiska visningen och påverkar även hur mycket minne som krävs för arbetsytans ritningsområde.</span><span class="sxs-lookup"><span data-stu-id="26ca0-606">The type of color depth support largely determined by the capabilities of the underlying physical display and also has an impact on how much memory is required for the canvas drawing area.</span></span> <span data-ttu-id="26ca0-607">Följande är en lista över stöd för färgdjup tillsammans med en kort beskrivning av variationerna inom det färgdjupet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-607">The following is a list of color depth support along with a brief description of the variations within that color depth.</span></span>

| <span data-ttu-id="26ca0-608">&nbsp;Färgformat</span><span class="sxs-lookup"><span data-stu-id="26ca0-608">Color&nbsp;Format</span></span>       | <span data-ttu-id="26ca0-609">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="26ca0-609">Description</span></span>                                                                                                   |
| ------------------ | -------------------------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="26ca0-610">1-bitars 1-bitars</span><span class="sxs-lookup"><span data-stu-id="26ca0-610">1-bit monochrome</span></span>   | <span data-ttu-id="26ca0-611">1 bit per pixel-paketerad format.</span><span class="sxs-lookup"><span data-stu-id="26ca0-611">1-bit per pixel packed format.</span></span>                                                                                                   |
| <span data-ttu-id="26ca0-612">2-bitars gråskala</span><span class="sxs-lookup"><span data-stu-id="26ca0-612">2-bit grayscale</span></span>    | <span data-ttu-id="26ca0-613">4 grå nivåer, packade fyra bildpunkter per byte.</span><span class="sxs-lookup"><span data-stu-id="26ca0-613">4 gray levels, packed four pixels per byte.</span></span>                                                                                      |
| <span data-ttu-id="26ca0-614">4-bitars gråskala</span><span class="sxs-lookup"><span data-stu-id="26ca0-614">4-bit grayscale</span></span>    | <span data-ttu-id="26ca0-615">16 grå nivåer, packade två bildpunkter per byte.</span><span class="sxs-lookup"><span data-stu-id="26ca0-615">16 gray levels, packed two pixels per byte.</span></span>                                                                                      |
| <span data-ttu-id="26ca0-616">4-bitarsfärg</span><span class="sxs-lookup"><span data-stu-id="26ca0-616">4-bit color</span></span>        | <span data-ttu-id="26ca0-617">En planarminnesorganisation i VGA-format.</span><span class="sxs-lookup"><span data-stu-id="26ca0-617">A VGA format planar memory organization.</span></span>                                                                                         |
| <span data-ttu-id="26ca0-618">8-bitars gråskala</span><span class="sxs-lookup"><span data-stu-id="26ca0-618">8-bit grayscale</span></span>    | <span data-ttu-id="26ca0-619">256 grå nivåer</span><span class="sxs-lookup"><span data-stu-id="26ca0-619">256 gray levels</span></span>                                                                                                                  |
| <span data-ttu-id="26ca0-620">8-bitars paletteläge</span><span class="sxs-lookup"><span data-stu-id="26ca0-620">8-bit palette mode</span></span> | <span data-ttu-id="26ca0-621">1 byte per pixel som används som paletteindex</span><span class="sxs-lookup"><span data-stu-id="26ca0-621">1 byte per pixel used as palette index</span></span>                                                                                           |
| <span data-ttu-id="26ca0-622">8-bitars r:g:b-läge</span><span class="sxs-lookup"><span data-stu-id="26ca0-622">8-bit r:g:b mode</span></span>   | <span data-ttu-id="26ca0-623">Ett mindre vanligt 2:3:2 r:g:b-format.</span><span class="sxs-lookup"><span data-stu-id="26ca0-623">A less commonly used 2:3:2 r:g:b format.</span></span>                                                                                         |
| <span data-ttu-id="26ca0-624">16-bitars</span><span class="sxs-lookup"><span data-stu-id="26ca0-624">16-bit</span></span>             | <span data-ttu-id="26ca0-625">Varje pixel kräver två byte.</span><span class="sxs-lookup"><span data-stu-id="26ca0-625">Each pixel requires two bytes.</span></span> <span data-ttu-id="26ca0-626">Kan vara r:g:b eller b:g:r byteordning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-626">Can be r:g:b or b:g:r byte order.</span></span> <span data-ttu-id="26ca0-627">Normalt struktur 5:6:5, men kan också vara struktur 5:5:5 eller 4:4:4:4 a:r:g:b.</span><span class="sxs-lookup"><span data-stu-id="26ca0-627">Normally 5:6:5 structure, but can also be 5:5:5 structure or 4:4:4:4 a:r:g:b structure.</span></span> |
| <span data-ttu-id="26ca0-628">24-bitars</span><span class="sxs-lookup"><span data-stu-id="26ca0-628">24-bit</span></span>             | <span data-ttu-id="26ca0-629">Varje pixel kräver 3 (packad format) eller 4 (uppackade format) byte.</span><span class="sxs-lookup"><span data-stu-id="26ca0-629">Each pixel requires 3 (packed format) or 4 (unpacked format) bytes.</span></span> <span data-ttu-id="26ca0-630">Kan vara i r:g:b eller b:g:r byte ordning som krävs av maskinvaran.</span><span class="sxs-lookup"><span data-stu-id="26ca0-630">Can be in r:g:b or b:g:r byte order as required by hardware.</span></span> |
| <span data-ttu-id="26ca0-631">32-bitars</span><span class="sxs-lookup"><span data-stu-id="26ca0-631">32-bit</span></span>             | <span data-ttu-id="26ca0-632">Varje pixel kräver 4 byte med en alfakanal.</span><span class="sxs-lookup"><span data-stu-id="26ca0-632">Each pixel requires 4 bytes with an alpha channel.</span></span> <span data-ttu-id="26ca0-633">Kan vara a:r:g:b eller b:g:r:a byteordning och bestäms av maskinvara.</span><span class="sxs-lookup"><span data-stu-id="26ca0-633">Can be a:r:g:b or b:g:r:a byte order and determined by hardware.</span></span>              |

### <a name="mouse-support"></a><span data-ttu-id="26ca0-634">Musstöd</span><span class="sxs-lookup"><span data-stu-id="26ca0-634">Mouse Support</span></span> 

<span data-ttu-id="26ca0-635">GUIX stöder ritning av en musmarkör på valfri arbetsyta.</span><span class="sxs-lookup"><span data-stu-id="26ca0-635">GUIX supports drawing a mouse cursor on any desired canvas.</span></span> <span data-ttu-id="26ca0-636">Musmarkören kan ritas i programvara eller kan ha stöd av maskinvarumarkörsöverlägg.</span><span class="sxs-lookup"><span data-stu-id="26ca0-636">The mouse cursor can be drawing in software or might be supported by hardware cursor overlay.</span></span> <span data-ttu-id="26ca0-637">I båda fallen är API:et som tillhandahålls till programmet relaterat till stöd för markörer detsamma oavsett om du använder programvaru- eller maskinvarumarkörsritning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-637">In either case, the API provided to the application related to mouse cursor support is the same whether using software or hardware mouse cursor drawing.</span></span>

<span data-ttu-id="26ca0-638">GUIX-musstöd är endast aktiverat om har definierats `#define GX_MOUSE_SUPPORT` i gx_user.h-huvudfilen innan GUIX-biblioteket byggs.</span><span class="sxs-lookup"><span data-stu-id="26ca0-638">GUIX mouse support is only enabled if the `#define GX_MOUSE_SUPPORT` is defined in the gx_user.h header file before building the GUIX library.</span></span>

<span data-ttu-id="26ca0-639">Programmet måste definiera markören och hotspot med hjälp ***gx_canvas_mouse_define*** API-funktionen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-639">The application must define the mouse cursor and hotspot using the ***gx_canvas_mouse_define*** API function.</span></span> <span data-ttu-id="26ca0-640">Det här API:et accepterar en pekare till arbetsytan där markörbilden ska ritas och en pekare till **en GX_MOUSE_CURSOR_INFO-struktur,** som definierar musmarkörbilden och hotspot för musbilden relativt den övre vänstra bilden.</span><span class="sxs-lookup"><span data-stu-id="26ca0-640">This API accepts a pointer to the canvas on which the cursor image should be drawn, and a pointer to a **GX_MOUSE_CURSOR_INFO** structure, which defines the mouse cursor image and hotspot of the mouse image relative the image top-left corner.</span></span>

## <a name="guix-display-component"></a><span data-ttu-id="26ca0-641">GUIX-visningskomponent</span><span class="sxs-lookup"><span data-stu-id="26ca0-641">GUIX Display Component</span></span> 

<span data-ttu-id="26ca0-642">Visningskomponenten är grundläggande i GUIX eftersom den hanterar bearbetningen av alla visningsobjekt, som i sig innehåller en eller flera arbetsyta, widgetar och fönster.</span><span class="sxs-lookup"><span data-stu-id="26ca0-642">The display component is fundamental in GUIX, since it manages the processing of all display objects, which in themselves contain one or more canvases, widgets, and windows.</span></span> <span data-ttu-id="26ca0-643">Visningskomponenten interagerar också med den underliggande maskinvaruskärmdrivrutinen som är associerad med varje visning via en serie funktionspekare.</span><span class="sxs-lookup"><span data-stu-id="26ca0-643">The display component also interacts with the underlying hardware screen driver associated with each display through a series of function pointers.</span></span>

### <a name="display-creation"></a><span data-ttu-id="26ca0-644">Skapa visning</span><span class="sxs-lookup"><span data-stu-id="26ca0-644">Display Creation</span></span> 

<span data-ttu-id="26ca0-645">Ett visningsobjekt kan skapas under initieringen eller när som helst under körningen av programtrådar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-645">A display object can be created during initialization or anytime during the execution of application threads.</span></span> <span data-ttu-id="26ca0-646">Vanligtvis skapar ett program ett visningsobjekt för att hantera varje fysisk skärm.</span><span class="sxs-lookup"><span data-stu-id="26ca0-646">Typically an application creates one display object to manage each physical screen.</span></span> <span data-ttu-id="26ca0-647">Om du har använt GUIX Studio för att definiera ditt program och de fysiska skärmarna som är tillgängliga använder du API gx_studio_display_configure funktionen för att skapa och initiera var och en av dina skärmar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-647">If you have used GUIX Studio to define your application and the physical displays available, you will use the gx_studio_display_configure API function to create and initialize each of your displays.</span></span>

### <a name="display-control-block"></a><span data-ttu-id="26ca0-648">Visningskontrollblock</span><span class="sxs-lookup"><span data-stu-id="26ca0-648">Display Control Block</span></span> 

<span data-ttu-id="26ca0-649">Egenskaperna för varje visningsobjekt finns i dess kontrollblock ***GX_DISPLAY** _ och definieras i _*_gx_api.h_\*\*.</span><span class="sxs-lookup"><span data-stu-id="26ca0-649">The characteristics of each display object are found in its control block ***GX_DISPLAY** _ and are defined in _*_gx_api.h_\*\*.</span></span> <span data-ttu-id="26ca0-650">Det minne som krävs för ett visningsobjekt tillhandahålls av programmet och kan finnas var som helst i minnet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-650">The memory required for a display object is provided by the application and can be located anywhere in memory.</span></span> <span data-ttu-id="26ca0-651">Det är dock vanligast att göra visningskontrollblocket till en global struktur genom att definiera den utanför omfånget för en funktion.</span><span class="sxs-lookup"><span data-stu-id="26ca0-651">However, it is most common to make the display control block a global structure by defining it outside the scope of any function.</span></span>

### <a name="resource-management"></a><span data-ttu-id="26ca0-652">Resurshantering</span><span class="sxs-lookup"><span data-stu-id="26ca0-652">Resource Management</span></span> 

<span data-ttu-id="26ca0-653">Resurser är gränssnittskomponenter som krävs av programmet, men de är inte programkod.</span><span class="sxs-lookup"><span data-stu-id="26ca0-653">Resources are UI components that are needed by the application, but they are not application code.</span></span> <span data-ttu-id="26ca0-654">Resurser är programdata och definieras vanligtvis statiskt.</span><span class="sxs-lookup"><span data-stu-id="26ca0-654">Resources are application data and are usually statically defined.</span></span> <span data-ttu-id="26ca0-655">Resurstyper är pixelkartor, teckensnitt, färger och strängar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-655">Resource types include pixelmaps, fonts, colors, and strings.</span></span> <span data-ttu-id="26ca0-656">Dessa resurser kan ändras när som helst, vanligtvis utan att ändra någon programvara.</span><span class="sxs-lookup"><span data-stu-id="26ca0-656">These resources can be changed at any time, usually without changing any application software.</span></span> <span data-ttu-id="26ca0-657">Det är viktigt att hålla lagringen av och referenser till resurser åtskilda från programprogramvaran för att tillåta ändring av användargränssnittets utseende utan att ändra programkod eftersom ändringar i programprogramvaran vanligtvis kräver tillhörande omtestning och verifiering av programvaran.</span><span class="sxs-lookup"><span data-stu-id="26ca0-657">It is important to keep the storage of and references to resources separated from the application software to allow changing UI appearance without changing application code since changes to the application software usually require the associated re-testing and verification of that software.</span></span>

<span data-ttu-id="26ca0-658">***GUIX-visningsmodulen*** tillhandahåller resurshantering för alla resurser som är beroende av färgdjupet och formatet på skärmen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-658">The GUIX ***display*** module provides resource management facilities for all resources that are dependent on the color depth and format of the display.</span></span> <span data-ttu-id="26ca0-659">Dessa anläggningar omfattar att underhålla den aktiva pixelkarta-tabellen, aktiv teckensnittstabell och aktiv färgtabell.</span><span class="sxs-lookup"><span data-stu-id="26ca0-659">These facilities include maintaining the active pixelmap table, active font table, and active color table.</span></span> <span data-ttu-id="26ca0-660">Strängtabellresursen underhålls av GUIX-systemmodulen eftersom strängresurser normalt inte behöver ändras baserat på färgdjup och format.</span><span class="sxs-lookup"><span data-stu-id="26ca0-660">The string table resource is maintained by the GUIX system module, since string resources do not normally need to be changed based on color depth and format.</span></span>

<span data-ttu-id="26ca0-661">Programmet refererar till resurser efter resurs-ID, vilket är ett index i motsvarande resurstabell.</span><span class="sxs-lookup"><span data-stu-id="26ca0-661">The application software references resources by their resource Id, which is an index into the corresponding resource table.</span></span> <span data-ttu-id="26ca0-662">Detta gör att tabellen kan ändras, till exempel kan färgtabellen ändras när en produkt ändras från "dagläge" till "nattläge", men färg-ID-värdena förblir desamma.</span><span class="sxs-lookup"><span data-stu-id="26ca0-662">This allows the table to be changed, for example the color table might be changed when a product changes from “day mode” to “night mode”, but the color ID values to remain the same.</span></span>

<span data-ttu-id="26ca0-663">Dina programresurser skrivs till en resursfil (eller en uppsättning resursfiler) av GUIX Studio-programmet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-663">Your application resources are written to a resource file (or set of resource files) by the GUIX Studio application.</span></span> <span data-ttu-id="26ca0-664">Standardfärger, pixelkartor och teckensnitt tillhandahålls automatiskt när du skapar ett nytt GUIX Studio-projekt, men dessa standardvärden ersätts enkelt när du definierar utseendet och känslan i ditt program.</span><span class="sxs-lookup"><span data-stu-id="26ca0-664">Default colors, pixelmaps, and fonts are provided automatically when you create a new GUIX Studio project, but these defaults are easily replaced as you define the look and feel of your application.</span></span>

<span data-ttu-id="26ca0-665">Det är viktigt att observera att resurs-ID:er för färger, teckensnitt och pixelkartor inte kan matchas till deras faktiska värden för färg, teckensnitt eller pixelkarta förrän den aktiva visningskomponenten är känd.</span><span class="sxs-lookup"><span data-stu-id="26ca0-665">It is important to note that Resource IDs for colors, fonts, and pixelmaps cannot be resolved to their actual color, font, or pixelmap values until the active Display component is known.</span></span> <span data-ttu-id="26ca0-666">Eftersom GUIX-arkitekturen stöder flera aktiva visningar kan resurs-ID:n bara matchas till resursvärden när en widget och dess associerade resurs-ID kan matchas till en specifik visning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-666">Since the GUIX architecture supports multiple active displays, Resource IDs can only be resolved to resource values when a widget and its associated Resource ID can be resolved to a specific display.</span></span> <span data-ttu-id="26ca0-667">Den här egenskapen kallas dynamisk bindning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-667">This property is known as dynamic binding.</span></span> <span data-ttu-id="26ca0-668">Resurs-ID för en egenskap, till exempel en textfärg, till exempel resurs-ID **GX_COLOR_ID_TEXT,** kan matcha till ett 16-bitars R:G:B-värde för vitt när det används på en skärm, men samma färg-ID kan matcha till ett svart färgvärde när det används på en annan visning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-668">The Resource ID for a property such as a text color, for example the resource ID **GX_COLOR_ID_TEXT,** might resolve to a 16-bit R:G:B value for white when used on one display, but the same color ID might resolve to a monochrome black color value when used on another display.</span></span>

<span data-ttu-id="26ca0-669">I praktiken innebär den här dynamiska bindningen av resurs-ID:er till resursvärden att programprogramvara och interna GUIX-komponenter oftast bara ska matcha resurs-ID:er till resursvärden i en aktiv ritningskontext.</span><span class="sxs-lookup"><span data-stu-id="26ca0-669">In practice this dynamic binding of Resources IDs to resource values means that application software and GUIX internal components should most often only resolve Resource IDs to resource values within an active drawing context.</span></span> <span data-ttu-id="26ca0-670">En aktiv ritningskontext anger den aktiva visningen, vilket gör att GUIX kan matcha varje resurs-ID till ett specifikt resursvärde.</span><span class="sxs-lookup"><span data-stu-id="26ca0-670">An active drawing context specifies the currently active display, which allows GUIX to resolve each Resource ID to a specific resource value.</span></span> <span data-ttu-id="26ca0-671">Om programprogramvaran krävs för att hitta ett specifikt resursvärde utanför en ritningskontext kan detta även göras för synliga widgetar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-671">If the application software is required to find a specific resource value outside of a drawing context, this can also be done for visible widgets.</span></span> <span data-ttu-id="26ca0-672">Synliga widgetar är länkade till ett rotfönster som också kan användas för att matcha den aktiva arbetsytan och visningen för widgeten.</span><span class="sxs-lookup"><span data-stu-id="26ca0-672">Visible widgets are linked to a root window which can also be used to resolve the active canvas and display for that widget.</span></span>

<span data-ttu-id="26ca0-673">Om en widget har skapats men ännu inte visas (d.v.s. inte har länkats till något rotfönster eller något annat synligt överordnat fönster), kan inte resurs-ID:n som är associerade med widgeten matchas till ett specifikt resursvärde förutom genom att indexera direkt till resurstabellen som är tilldelad till en specifik visning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-673">If a widget has been created but not yet displayed (i.e., has not been linked to any root window or other visible parent), any resource IDs associated with that widget cannot be resolved to a specific resource value other than by directly indexing into the resource table assigned to a specific display.</span></span> <span data-ttu-id="26ca0-674">Den här direktåtkomsten till en specifik resurstabell kan utföras på ett säkert sätt av programprogramvaran, men görs aldrig i den interna GUIX-biblioteksprogramvaran.</span><span class="sxs-lookup"><span data-stu-id="26ca0-674">This direct access to a specific resource table can safely be done by the application software, but is never done in the internal GUIX library software.</span></span>

### <a name="widget-defaults"></a><span data-ttu-id="26ca0-675">Standardinställningar för widget</span><span class="sxs-lookup"><span data-stu-id="26ca0-675">Widget Defaults</span></span> 

<span data-ttu-id="26ca0-676">GUIX-visningskomponenten innehåller också standarddefinitioner för olika widgetattribut.</span><span class="sxs-lookup"><span data-stu-id="26ca0-676">The GUIX display component also provides default definitions for various widget attributes.</span></span> <span data-ttu-id="26ca0-677">Om inget annat anges av programmet skapas widgetar/fönster med dessa systemattribut.</span><span class="sxs-lookup"><span data-stu-id="26ca0-677">Unless otherwise specified by the application, widgets/windows are created with these system attributes.</span></span> <span data-ttu-id="26ca0-678">Dessa systemattribut består huvudsakligen av teckensnitt, färger och bitmappar som finns i systemets resurstabeller.</span><span class="sxs-lookup"><span data-stu-id="26ca0-678">These system attributes are mainly composed of fonts, colors, and bitmaps maintained in the system resource tables.</span></span> <span data-ttu-id="26ca0-679">Ytterligare attribut för standardutseendet av rullningslisten underhålls också av GUIX-visningskomponenten.</span><span class="sxs-lookup"><span data-stu-id="26ca0-679">Additional attributes for default scrollbar appearance are also maintained by the GUIX display component.</span></span>

<span data-ttu-id="26ca0-680">Standardfärginställningarna definieras av färgtabellen som tilldelas varje visning och de fördefinierade standardfärg-ID:erna.</span><span class="sxs-lookup"><span data-stu-id="26ca0-680">The default color settings are defined by the color table assigned to each display and the pre-defined default color IDs.</span></span> <span data-ttu-id="26ca0-681">Dessa standardfärg-ID:n inkluderar följande.</span><span class="sxs-lookup"><span data-stu-id="26ca0-681">These default color ids include the following.</span></span>

| <span data-ttu-id="26ca0-682">Färg-ID</span><span class="sxs-lookup"><span data-stu-id="26ca0-682">Color ID</span></span> | <span data-ttu-id="26ca0-683">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="26ca0-683">Description</span></span> |
| ------------------ | -------------------------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="26ca0-684">GX_COLOR_ID_CANVAS</span><span class="sxs-lookup"><span data-stu-id="26ca0-684">GX_COLOR_ID_CANVAS</span></span> | <span data-ttu-id="26ca0-685">Standardfärg för arbetsyta (d.v.s. visa bakgrund)</span><span class="sxs-lookup"><span data-stu-id="26ca0-685">Default canvas (i.e. display background) color</span></span> |
| <span data-ttu-id="26ca0-686">GX_COLOR_ID_WIDGET_FILL</span><span class="sxs-lookup"><span data-stu-id="26ca0-686">GX_COLOR_ID_WIDGET_FILL</span></span> | <span data-ttu-id="26ca0-687">Fyllningsfärg för standardwidget</span><span class="sxs-lookup"><span data-stu-id="26ca0-687">Default widget fill color</span></span> |
| <span data-ttu-id="26ca0-688">GX_COLOR_ID_WINDOW_FILL</span><span class="sxs-lookup"><span data-stu-id="26ca0-688">GX_COLOR_ID_WINDOW_FILL</span></span> | <span data-ttu-id="26ca0-689">Standardfärg för fönsterfyllning</span><span class="sxs-lookup"><span data-stu-id="26ca0-689">Default window fill color</span></span> |
| <span data-ttu-id="26ca0-690">GX_COLOR_ID_DISABLED_FILL</span><span class="sxs-lookup"><span data-stu-id="26ca0-690">GX_COLOR_ID_DISABLED_FILL</span></span> | <span data-ttu-id="26ca0-691">Standardinaktiverad widgetfyllningsfärg</span><span class="sxs-lookup"><span data-stu-id="26ca0-691">Default disabled widget fill color</span></span> |
| <span data-ttu-id="26ca0-692">GX_COLOR_ID_DEFAULT_BORDER</span><span class="sxs-lookup"><span data-stu-id="26ca0-692">GX_COLOR_ID_DEFAULT_BORDER</span></span> | <span data-ttu-id="26ca0-693">Standardfärg för widgetens kantlinje</span><span class="sxs-lookup"><span data-stu-id="26ca0-693">Default widget border color</span></span> |
| <span data-ttu-id="26ca0-694">GX_COLOR_ID_WINDOW_BORDER</span><span class="sxs-lookup"><span data-stu-id="26ca0-694">GX_COLOR_ID_WINDOW_BORDER</span></span> | <span data-ttu-id="26ca0-695">Standardfärg för fönsterkantlinje</span><span class="sxs-lookup"><span data-stu-id="26ca0-695">Default window border color</span></span> |
| <span data-ttu-id="26ca0-696">GX_COLOR_ID_TEXT</span><span class="sxs-lookup"><span data-stu-id="26ca0-696">GX_COLOR_ID_TEXT</span></span> | <span data-ttu-id="26ca0-697">Standardtextfärg</span><span class="sxs-lookup"><span data-stu-id="26ca0-697">Default text color</span></span> |
| <span data-ttu-id="26ca0-698">GX_COLOR_ID_SELECTED_TEXT</span><span class="sxs-lookup"><span data-stu-id="26ca0-698">GX_COLOR_ID_SELECTED_TEXT</span></span> | <span data-ttu-id="26ca0-699">Standardvald textfärg</span><span class="sxs-lookup"><span data-stu-id="26ca0-699">Default selected text color</span></span> |
| <span data-ttu-id="26ca0-700">GX_COLOR_ID_DISABLED_TEXT</span><span class="sxs-lookup"><span data-stu-id="26ca0-700">GX_COLOR_ID_DISABLED_TEXT</span></span> | <span data-ttu-id="26ca0-701">Standard inaktiverad textfärg</span><span class="sxs-lookup"><span data-stu-id="26ca0-701">Default disabled text color</span></span> |
| <span data-ttu-id="26ca0-702">GX_COLOR_ID_SELECTED_TEXT_FILL</span><span class="sxs-lookup"><span data-stu-id="26ca0-702">GX_COLOR_ID_SELECTED_TEXT_FILL</span></span> | <span data-ttu-id="26ca0-703">Standardvald textfyllningsfärg</span><span class="sxs-lookup"><span data-stu-id="26ca0-703">Default selected text fill color</span></span> |
| <span data-ttu-id="26ca0-704">GX_COLOR_ID_READONLY_TEXT</span><span class="sxs-lookup"><span data-stu-id="26ca0-704">GX_COLOR_ID_READONLY_TEXT</span></span> | <span data-ttu-id="26ca0-705">Standardfärg för skrivskyddade text</span><span class="sxs-lookup"><span data-stu-id="26ca0-705">Default readonly text color</span></span> |
| <span data-ttu-id="26ca0-706">GX_COLOR_ID_READONLY_FILL</span><span class="sxs-lookup"><span data-stu-id="26ca0-706">GX_COLOR_ID_READONLY_FILL</span></span> | <span data-ttu-id="26ca0-707">Standardfärg för skrivskyddade textfyllningar</span><span class="sxs-lookup"><span data-stu-id="26ca0-707">Default readonly text fill color</span></span> |
| <span data-ttu-id="26ca0-708">GX_COLOR_ID_SCROLL_FILL</span><span class="sxs-lookup"><span data-stu-id="26ca0-708">GX_COLOR_ID_SCROLL_FILL</span></span> |    <span data-ttu-id="26ca0-709">Fyllningsfärg för rullningslist</span><span class="sxs-lookup"><span data-stu-id="26ca0-709">Scrollbar fill color</span></span> |
| <span data-ttu-id="26ca0-710">GX_COLOR_ID_SCROLL_BUTTON</span><span class="sxs-lookup"><span data-stu-id="26ca0-710">GX_COLOR_ID_SCROLL_BUTTON</span></span> | <span data-ttu-id="26ca0-711">Fyllningsfärg för knapp för rullningslist</span><span class="sxs-lookup"><span data-stu-id="26ca0-711">Scrollbar button fill color</span></span> |
| <span data-ttu-id="26ca0-712">GX_COLOR_ID_SHADOW</span><span class="sxs-lookup"><span data-stu-id="26ca0-712">GX_COLOR_ID_SHADOW</span></span> | <span data-ttu-id="26ca0-713">Standardskuggfärg</span><span class="sxs-lookup"><span data-stu-id="26ca0-713">Default shadow color</span></span> |
| <span data-ttu-id="26ca0-714">GX_COLOR_ID_SHINE</span><span class="sxs-lookup"><span data-stu-id="26ca0-714">GX_COLOR_ID_SHINE</span></span> | <span data-ttu-id="26ca0-715">Standardfärg för markering</span><span class="sxs-lookup"><span data-stu-id="26ca0-715">Default highlight color</span></span> |
| <span data-ttu-id="26ca0-716">GX_COLOR_ID_BUTTON_BORDER</span><span class="sxs-lookup"><span data-stu-id="26ca0-716">GX_COLOR_ID_BUTTON_BORDER</span></span> | <span data-ttu-id="26ca0-717">Knappwidgetens kantlinjefärg</span><span class="sxs-lookup"><span data-stu-id="26ca0-717">Button widget border color</span></span> |
| <span data-ttu-id="26ca0-718">GX_COLOR_ID_BUTTON_UPPER</span><span class="sxs-lookup"><span data-stu-id="26ca0-718">GX_COLOR_ID_BUTTON_UPPER</span></span> | <span data-ttu-id="26ca0-719">Knappwidgetens övre fyllningsfärg</span><span class="sxs-lookup"><span data-stu-id="26ca0-719">Button widget upper fill color</span></span> |
| <span data-ttu-id="26ca0-720">GX_COLOR_ID_BUTTON_LOWER</span><span class="sxs-lookup"><span data-stu-id="26ca0-720">GX_COLOR_ID_BUTTON_LOWER</span></span> | <span data-ttu-id="26ca0-721">Knappwidget med lägre fyllningsfärg</span><span class="sxs-lookup"><span data-stu-id="26ca0-721">Button widget lower fill color</span></span> |
| <span data-ttu-id="26ca0-722">GX_COLOR_ID_BUTTON_TEXT</span><span class="sxs-lookup"><span data-stu-id="26ca0-722">GX_COLOR_ID_BUTTON_TEXT</span></span> | <span data-ttu-id="26ca0-723">Textfärg för knappwidget</span><span class="sxs-lookup"><span data-stu-id="26ca0-723">Button widget text color</span></span> |
| <span data-ttu-id="26ca0-724">GX_COLOR_ID_TEXT_INPUT_TEXT</span><span class="sxs-lookup"><span data-stu-id="26ca0-724">GX_COLOR_ID_TEXT_INPUT_TEXT</span></span> | <span data-ttu-id="26ca0-725">Textfärg för text i textinmatningswidgeten</span><span class="sxs-lookup"><span data-stu-id="26ca0-725">Text input widget text color</span></span> |
| <span data-ttu-id="26ca0-726">GX_COLOR_ID_TEXT_INPUT_FILL</span><span class="sxs-lookup"><span data-stu-id="26ca0-726">GX_COLOR_ID_TEXT_INPUT_FILL</span></span> | <span data-ttu-id="26ca0-727">Fyllningsfärg för textinmatning</span><span class="sxs-lookup"><span data-stu-id="26ca0-727">Text input fill color</span></span> |
| <span data-ttu-id="26ca0-728">GX_COLOR_ID_SLIDER_TICK</span><span class="sxs-lookup"><span data-stu-id="26ca0-728">GX_COLOR_ID_SLIDER_TICK</span></span> | <span data-ttu-id="26ca0-729">Färg som används för att rita bockmarkeringar för skjutreglage.</span><span class="sxs-lookup"><span data-stu-id="26ca0-729">Color used to draw slider tick marks.</span></span> |
| <span data-ttu-id="26ca0-730">GX_COLOR_ID_SLIDER_GROOVE_BOTTOM</span><span class="sxs-lookup"><span data-stu-id="26ca0-730">GX_COLOR_ID_SLIDER_GROOVE_BOTTOM</span></span> | <span data-ttu-id="26ca0-731">Färg som används för att rita skjutreglagets skjutreglage</span><span class="sxs-lookup"><span data-stu-id="26ca0-731">Color used to draw slider groove</span></span> |
| <span data-ttu-id="26ca0-732">GX_COLOR_ID_SLIDER_NEEDLE_OUTLINE</span><span class="sxs-lookup"><span data-stu-id="26ca0-732">GX_COLOR_ID_SLIDER_NEEDLE_OUTLINE</span></span> | <span data-ttu-id="26ca0-733">Färg som används för att rita nålkontur</span><span class="sxs-lookup"><span data-stu-id="26ca0-733">Color used to draw needle outline</span></span> |
| <span data-ttu-id="26ca0-734">GX_COLOR_ID_SLIDER_NEEDLE_FILL</span><span class="sxs-lookup"><span data-stu-id="26ca0-734">GX_COLOR_ID_SLIDER_NEEDLE_FILL</span></span> | <span data-ttu-id="26ca0-735">Färg som används för att fylla på skjutreglagets nål</span><span class="sxs-lookup"><span data-stu-id="26ca0-735">Color used to fill slider needle</span></span> |
| <span data-ttu-id="26ca0-736">GX_COLOR_ID_SLIDER_NEEDLE_LINE1</span><span class="sxs-lookup"><span data-stu-id="26ca0-736">GX_COLOR_ID_SLIDER_NEEDLE_LINE1</span></span> | <span data-ttu-id="26ca0-737">Färg som används för att rita nål markeringar</span><span class="sxs-lookup"><span data-stu-id="26ca0-737">Color used to draw needle highlight</span></span> |
| <span data-ttu-id="26ca0-738">GX_COLOR_ID_SLIDER_NEEDLE_LINE2</span><span class="sxs-lookup"><span data-stu-id="26ca0-738">GX_COLOR_ID_SLIDER_NEEDLE_LINE2</span></span> | <span data-ttu-id="26ca0-739">Färg som används för att rita nålskuggor</span><span class="sxs-lookup"><span data-stu-id="26ca0-739">Color used to draw needle shadow</span></span> |

<span data-ttu-id="26ca0-740">Dessa färg-ID-värden mappas till ett specifikt färgvärde som definieras av färgtabellen som är tilldelad till varje visning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-740">These color ID values are mapped to a specific color value as defined by the color table assigned to each display.</span></span> <span data-ttu-id="26ca0-741">Dessa standardvärden kan ändras som en grupp för en visning genom att anropa ***gx_display_color_table_set*** API-funktionen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-741">These defaults can be changed as a group for one display by calling the ***gx_display_color_table_set*** API function.</span></span> <span data-ttu-id="26ca0-742">Om du använder GUIX Studio initieras visningsfärgtabellen automatiskt  när programmet anropar gx_studio_display_configure funktionen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-742">If you are using GUIX Studio, the display color table is automatically initialized when your application calls the ***gx_studio_display_configure*** function.</span></span>

<span data-ttu-id="26ca0-743">GUIX-visningskomponenten har också en standardtabell för teckensnitt.</span><span class="sxs-lookup"><span data-stu-id="26ca0-743">The GUIX display component also maintains a default font table.</span></span> <span data-ttu-id="26ca0-744">Standardteckensnittstabellen definierar teckensnittet som används av varje widgettyp om det inte anges specifikt av programmet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-744">The default font table defines the font used by each widget type unless specifically specified by the application.</span></span> <span data-ttu-id="26ca0-745">De fördefinierade tabell-ID:erna för visningsteckensnitt innehåller följande värden.</span><span class="sxs-lookup"><span data-stu-id="26ca0-745">The pre-defined display font table IDs include the following values.</span></span>

| <span data-ttu-id="26ca0-746">&nbsp;Teckensnitts-ID</span><span class="sxs-lookup"><span data-stu-id="26ca0-746">Font&nbsp;ID</span></span> | <span data-ttu-id="26ca0-747">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="26ca0-747">Description</span></span> |
| ------------------ | --------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="26ca0-748">GX_FONT_ID_DEFAULT</span><span class="sxs-lookup"><span data-stu-id="26ca0-748">GX_FONT_ID_DEFAULT</span></span> | <span data-ttu-id="26ca0-749">Standardteckensnitt som används när inget specifikt teckensnitt har definierats</span><span class="sxs-lookup"><span data-stu-id="26ca0-749">Default font used when no specific font is defined</span></span> |
| <span data-ttu-id="26ca0-750">GX_FONT_ID_BUTTON</span><span class="sxs-lookup"><span data-stu-id="26ca0-750">GX_FONT_ID_BUTTON</span></span> | <span data-ttu-id="26ca0-751">Standardteckensnitt som används för all text på knappar</span><span class="sxs-lookup"><span data-stu-id="26ca0-751">Default font used for all text on buttons</span></span> |
| <span data-ttu-id="26ca0-752">GX_FONT_ID_TEXT_INPUT</span><span class="sxs-lookup"><span data-stu-id="26ca0-752">GX_FONT_ID_TEXT_INPUT</span></span> | <span data-ttu-id="26ca0-753">Standardteckensnitt som används för textredigeringsfält</span><span class="sxs-lookup"><span data-stu-id="26ca0-753">Default font used for text edit fields</span></span> |

<span data-ttu-id="26ca0-754">Teckensnitts-ID:t som används av valfri texttypswidget kan tilldelas om med hjälp av det **gx_<widget_type>_font_set-API** som tillhandahålls för varje textrelaterad widgettyp.</span><span class="sxs-lookup"><span data-stu-id="26ca0-754">The font ID used by any text type widget can be re-assigned by using the **gx_<widget_type>_font_set** API provided for each text-related widget type.</span></span> <span data-ttu-id="26ca0-755">Hela teckensnittstabellen kan tilldelas om genom att anropa **api gx_display_font_table_set funktionen.**</span><span class="sxs-lookup"><span data-stu-id="26ca0-755">The entire font table can be re-assigned by calling the **gx_display_font_table_set** API function.</span></span>

### <a name="scrollbar-appearance"></a><span data-ttu-id="26ca0-756">Rullningslistens utseende</span><span class="sxs-lookup"><span data-stu-id="26ca0-756">Scrollbar Appearance</span></span> 

<span data-ttu-id="26ca0-757">GUIX-visning har också standardinställningar för rullningslistens utseende för den visningen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-757">GUIX Display also maintains default scrollbar appearance settings for that display.</span></span> <span data-ttu-id="26ca0-758">De här inställningarna definieras av **GX_SCROLLBAR_APPEARANCE** struktur som definieras nedan.</span><span class="sxs-lookup"><span data-stu-id="26ca0-758">These settings are defined by the **GX_SCROLLBAR_APPEARANCE** structure which is defined below.</span></span> <span data-ttu-id="26ca0-759">GUIX-visningen har en struktur för rullningslistens utseende för lodräta rullningslister och en andra struktur för vågräta rullningslister.</span><span class="sxs-lookup"><span data-stu-id="26ca0-759">GUIX Display maintains one scrollbar appearance structure for vertical scrollbars and a second structure for horizontal scroll bars.</span></span> <span data-ttu-id="26ca0-760">Programmet kan ändra standardutseendet för rullningslisten för alla skärmar genom **att initiera en GX_SCROLLBAR_APPEARANCE** struktur och anropa API-funktionen ***gx_display_scroll_appearance_set***.</span><span class="sxs-lookup"><span data-stu-id="26ca0-760">The application can modify the default scrollbar appearance for any display by initializing a **GX_SCROLLBAR_APPEARANCE** structure and invoking the API function ***gx_display_scroll_appearance_set***.</span></span>

```c
typedef struct GX_SCROLLBAR_APPEARANCE_STRUCT
{
    GX_VALUE       gx_scroll_width;
    GX_VALUE       gx_scroll_thumb_width;
    GX_VALUE       gx_scroll_thumb_travel_min;
    GX_VALUE       gx_scroll_thumb_travel_max;
    GX_UBYTE       gx_scroll_thumb_border_style;
    GX_RESOURCE_ID gx_scroll_fill_pixelmap;
    GX_RESOURCE_ID gx_scroll_thumb_pixelmap;
    GX_RESOURCE_ID gx_scroll_up_pixelmap;
    GX_RESOURCE_ID gx_scroll_down_pixelmap;
    GX_RESOURCE_ID gx_scroll_thumb_color;
    GX_RESOURCE_ID gx_scroll_thumb_border_color;
    GX_RESOURCE_ID gx_scroll_button_color;
} GX_SCROLLBAR_APPEARANCE;
```
| <span data-ttu-id="26ca0-761">GX_SCROLLBAR_APPEARANCE strukturmedlem</span><span class="sxs-lookup"><span data-stu-id="26ca0-761">GX_SCROLLBAR_APPEARANCE Structure Member</span></span> | <span data-ttu-id="26ca0-762">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="26ca0-762">Description</span></span> |
| --- | --- |
| <span data-ttu-id="26ca0-763">gx_scroll_width</span><span class="sxs-lookup"><span data-stu-id="26ca0-763">gx_scroll_width</span></span> | <span data-ttu-id="26ca0-764">Bredden på en lodrät rullningslist eller höjden på en vågrät rullningslist, i bildpunkter.</span><span class="sxs-lookup"><span data-stu-id="26ca0-764">Width of a vertical scrollbar or height of a horizontal scrollbar, in pixels.</span></span> |
| <span data-ttu-id="26ca0-765">gx_scroll_thumb_width</span><span class="sxs-lookup"><span data-stu-id="26ca0-765">gx_scroll_thumb_width</span></span> | <span data-ttu-id="26ca0-766">Bredden på hiss- och slutknapparna, i bildpunkter.</span><span class="sxs-lookup"><span data-stu-id="26ca0-766">Width of the elevator and end buttons, in pixels.</span></span> |
| <span data-ttu-id="26ca0-767">gx_scroll_thumb_travel_max</span><span class="sxs-lookup"><span data-stu-id="26ca0-767">gx_scroll_thumb_travel_max</span></span> | <span data-ttu-id="26ca0-768">Förskjut från slutet av rullningslisten till den maximala respunkten för tumknappen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-768">Offset from the end of scroll bar to maximum thumb button travel point.</span></span> |
| <span data-ttu-id="26ca0-769">gx_scroll_fill_pixelmap</span><span class="sxs-lookup"><span data-stu-id="26ca0-769">gx_scroll_fill_pixelmap</span></span> | <span data-ttu-id="26ca0-770">Pixelkarta som används för att fylla rullningsbakgrunden.</span><span class="sxs-lookup"><span data-stu-id="26ca0-770">Pixelmap used to fill scroll background.</span></span> |
| <span data-ttu-id="26ca0-771">gx_scroll_thumb_pixelmap</span><span class="sxs-lookup"><span data-stu-id="26ca0-771">gx_scroll_thumb_pixelmap</span></span> | <span data-ttu-id="26ca0-772">Pixelkarta som används för att rita bläddringstumknappen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-772">Pixelmap used to draw scroll thumb button.</span></span> |
| <span data-ttu-id="26ca0-773">gx_scroll_up_pixelmap</span><span class="sxs-lookup"><span data-stu-id="26ca0-773">gx_scroll_up_pixelmap</span></span> | <span data-ttu-id="26ca0-774">Pixelkarta som används för att rita upp bläddringsknappen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-774">Pixelmap used to draw scroll up button.</span></span> |
| <span data-ttu-id="26ca0-775">gx_scroll_down_pixelmap</span><span class="sxs-lookup"><span data-stu-id="26ca0-775">gx_scroll_down_pixelmap</span></span> | <span data-ttu-id="26ca0-776">Pixelkarta som används för att rita nedrullningsknappen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-776">Pixelmap used to draw scroll down button.</span></span> |
| <span data-ttu-id="26ca0-777">gx_scroll_fill_color</span><span class="sxs-lookup"><span data-stu-id="26ca0-777">gx_scroll_fill_color</span></span> | <span data-ttu-id="26ca0-778">Färg-ID för färg som används för att fylla rullningslistens bakgrund.</span><span class="sxs-lookup"><span data-stu-id="26ca0-778">Color ID of color used to fill scrollbar background.</span></span> |
| <span data-ttu-id="26ca0-779">gx_scroll_button_color</span><span class="sxs-lookup"><span data-stu-id="26ca0-779">gx_scroll_button_color</span></span> | <span data-ttu-id="26ca0-780">Färg-ID för färg som används för att fylla rullningslistens tumknapp.</span><span class="sxs-lookup"><span data-stu-id="26ca0-780">Color ID of color used to fill scrollbar thumb button.</span></span> |

<span data-ttu-id="26ca0-781">Förutom dessa standardinställningar för teckensnitt, färg och format kan programmet ange valfria parametrar från fall till fall efter behov med hjälp av API:et som tillhandahålls av varje widgettyp.</span><span class="sxs-lookup"><span data-stu-id="26ca0-781">In addition to these default settings for fonts, color, and styles, the application may specify any of the parameters on a case by case basis as desired using API provided by each widget type.</span></span>

### <a name="skinning-and-themes"></a><span data-ttu-id="26ca0-782">Skalning och teman</span><span class="sxs-lookup"><span data-stu-id="26ca0-782">Skinning and Themes</span></span>

<span data-ttu-id="26ca0-783">Utsnling gör att GUIX-widgetar och fönster enkelt kan ändra sitt basutseende, dvs. att ändra "hud" på en plats ändrar basutseendet för alla associerade widgetar och fönster.</span><span class="sxs-lookup"><span data-stu-id="26ca0-783">Skinning allows GUIX widgets and windows to easily change their base appearance, i.e., changing the “skin” in one place will change the base appearance of all associated widgets and windows.</span></span>

<span data-ttu-id="26ca0-784">Omskalning av GUIX-programmet kräver att du tillhandahåller en ny färg-, teckensnitts- och eller pixelkarta-tabell till GUIX-visningsresurstabellerna.</span><span class="sxs-lookup"><span data-stu-id="26ca0-784">Re-skinning your GUIX application requires that you supply a new color, font and or pixelmap table to the GUIX Display resource tables.</span></span> <span data-ttu-id="26ca0-785">Eftersom alla GUIX-widgetar refererar till färg, bitmappning eller teckensnitt efter resurs-ID gör en ny resurstabell automatiskt att alla GUIX-widgetar börjar använda dina nya färger och pixelkartor när de ritar sig till den önskade visningen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-785">Since all GUIX widgets refer to their color, bitmap, or font by resource ID, providing a new resource table automatically causes all GUIX widgets to begin using your new colors and pixelmaps when they draw themselves to the desired display.</span></span>

<span data-ttu-id="26ca0-786">En ny uppsättning teckensnitt, färger och pixelkartor som är utformade för att fungera tillsammans för att ge ett attraktivt utseende kallas för *ett tema.*</span><span class="sxs-lookup"><span data-stu-id="26ca0-786">A new set of fonts, colors, and pixelmaps that are designed to work together to provide an attractive appearance is called a *theme*.</span></span> <span data-ttu-id="26ca0-787">Ett tema definierar en uppsättning resurstabeller och storleken på varje resurstabell.</span><span class="sxs-lookup"><span data-stu-id="26ca0-787">A theme defines a set of resource tables and the size of each resource table.</span></span> <span data-ttu-id="26ca0-788">Val av antal teman kan definieras för alla skärmar med hjälp av GUIX Studio-programmet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-788">Any number of themes can be defined for any display using the GUIX Studio application.</span></span> <span data-ttu-id="26ca0-789">Du måste skicka starttemaindexet till den GUIX Studio-genererade ***funktionen gx_studio_display_configure***, som installerar det första temat i den skapade visningen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-789">You must pass the starting theme index to the GUIX Studio generated function ***gx_studio_display_configure***, which installs the initial theme into the created display.</span></span> <span data-ttu-id="26ca0-790">Det aktiva temat för alla skärmar kan ändras när som helst genom att anropa funktionen ***gx_display_theme_install***.</span><span class="sxs-lookup"><span data-stu-id="26ca0-790">The active theme for any display can be changed at any time by calling the function ***gx_display_theme_install***.</span></span>

### <a name="root-window"></a><span data-ttu-id="26ca0-791">Rotfönster</span><span class="sxs-lookup"><span data-stu-id="26ca0-791">Root Window</span></span>

<span data-ttu-id="26ca0-792">För varje synlig arbetsyta som skapats av ett program måste programmet också skapa ett rotfönster för arbetsytan.</span><span class="sxs-lookup"><span data-stu-id="26ca0-792">For each visible canvas created by an application, the application must also create one Root Window for that canvas.</span></span> <span data-ttu-id="26ca0-793">Det här särskilda fönstret fungerar i princip som en container för alla programfönster och widgetar på den översta nivån.</span><span class="sxs-lookup"><span data-stu-id="26ca0-793">This special window basically acts as a container for all the top-level application windows and widgets.</span></span> <span data-ttu-id="26ca0-794">Rotfönstret ritar arbetsytans bakgrund, och eftersom rotfönstret härleds **från GX_WINDOW-klassen** kan rotfönstret också ha skrivbordsunderlägg.</span><span class="sxs-lookup"><span data-stu-id="26ca0-794">The root window draws the canvas background, and since the root window is derived from the **GX_WINDOW** class the root window can also have wallpaper.</span></span> <span data-ttu-id="26ca0-795">Om du vill ändra bakgrundsfärgen för din skärm eller arbetsyta ändrar du helt enkelt fyllningsfärgen för rotfönstret som är kopplat till arbetsytan.</span><span class="sxs-lookup"><span data-stu-id="26ca0-795">To change the background color of your display or canvas, you simply change the fill color of the root window attached to that canvas.</span></span>

<span data-ttu-id="26ca0-796">Om du använder den GUIX Studio-genererade ***funktionen gx_studio_display_configure*** för att konfigurera dina skärmar skapas arbetsytan och rotfönstret för varje visning åt dig som en del av initieringsfunktionen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-796">If you use the GUIX Studio generated function named ***gx_studio_display_configure*** to configure your displays, then the canvas and root window for each display are created for you as part of this initialization function.</span></span>

### <a name="anti-aliasing"></a><span data-ttu-id="26ca0-797">Antialias</span><span class="sxs-lookup"><span data-stu-id="26ca0-797">Anti-Aliasing</span></span> 

<span data-ttu-id="26ca0-798">Antialias är en valfri funktion i GUIX som används för att jämna ut linjer, kurvor och teckensnitt.</span><span class="sxs-lookup"><span data-stu-id="26ca0-798">Anti-Aliasing is an optional feature in GUIX that is used to smooth lines, curves, and fonts.</span></span> <span data-ttu-id="26ca0-799">Antialias stöds endast när du kör med en visningsdrivrutin med 16 bpp eller högre färgdjup.</span><span class="sxs-lookup"><span data-stu-id="26ca0-799">Anti-aliasing is only supported when running with a display driver utilizing 16-bpp or higher color depth.</span></span>

<span data-ttu-id="26ca0-800">Antialias linjeritning aktiveras genom att ställa in **GX_BRUSH_ALIAS** flash i den aktiva penseln.</span><span class="sxs-lookup"><span data-stu-id="26ca0-800">Anti-aliased line drawing is enabled by setting the **GX_BRUSH_ALIAS** flash in the active brush.</span></span> <span data-ttu-id="26ca0-801">Detta gäller för linjer som ritas direkt samt för linjer som ritas som kantlinje för en polygon eller cirkel.</span><span class="sxs-lookup"><span data-stu-id="26ca0-801">This applies to lines drawn directly as well as to lines drawn as the border of a polygon or circle.</span></span>

<span data-ttu-id="26ca0-802">Antialias textritning aktiveras med hjälp av ett antialias teckensnitt som produceras av GUIX Studio-programmet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-802">Anti-aliased text drawing is enabled by using an anti-aliased font which is produced by the GUIX studio application.</span></span> <span data-ttu-id="26ca0-803">Du anger om ett teckensnitt ska genereras som antialiased eller binär när du skapar teckensnittet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-803">You specify whether a font should be generated as antialiased or binary when you create the font.</span></span>
<span data-ttu-id="26ca0-804">Antialias teckensnitt i GUIX använder 16 nivåer av transparens för varje pixel.</span><span class="sxs-lookup"><span data-stu-id="26ca0-804">Anti-aliased fonts in GUIX utilize 16 levels of transparency for each pixel.</span></span>

### <a name="clipping"></a><span data-ttu-id="26ca0-805">Klippning</span><span class="sxs-lookup"><span data-stu-id="26ca0-805">Clipping</span></span> 

<span data-ttu-id="26ca0-806">Urklipp stöds internt av GUIX-visningskomponenten och i fönster- och widgetskikten av den överordnade-underordnade arkitekturen som underhålls av GUIX-widgetar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-806">Clipping is supported internally by the GUIX display component, and at the window and widget layers by the parent-child architecture maintained by GUIX widgets.</span></span> <span data-ttu-id="26ca0-807">Inget fönster eller en widget tillåts någonsin rita utanför widgetens område och en widget får aldrig rita utanför området för widgetens överordnade område.</span><span class="sxs-lookup"><span data-stu-id="26ca0-807">No window or widget is ever allowed to draw outside of that widget’s area, and a widget is never allowed to draw outside of the area of that widget’s parent.</span></span>

<span data-ttu-id="26ca0-808">Detta förhindrar också widgetar från att rita vid pixelkoordinater som ligger utanför arbetsytans minne, vilket sannolikt leder till minnesfel eller systemfel.</span><span class="sxs-lookup"><span data-stu-id="26ca0-808">This also prevents widgets from drawing at pixel coordinates that lay outside of the canvas memory which likely lead to memory corruption or a system failure.</span></span> <span data-ttu-id="26ca0-809">Widgetar får inte rita utanför widgetens område, widgetens överordnade område eller utanför arbetsytans utrymme.</span><span class="sxs-lookup"><span data-stu-id="26ca0-809">Widgets are not allowed to draw outside of the widget’s area, the widget’s parent area, or beyond the canvas extent.</span></span>

<span data-ttu-id="26ca0-810">Dessutom kan widgetar endast ritas till områden som tidigare har markerats som dirty (dirty).</span><span class="sxs-lookup"><span data-stu-id="26ca0-810">In addition, widgets can only draw to areas that have previously been marked as dirty.</span></span> <span data-ttu-id="26ca0-811">Detta förhindrar att ett helt fönster ritas, till exempel när bara ett hörn av fönstret har visats.</span><span class="sxs-lookup"><span data-stu-id="26ca0-811">This prevents an entire window being drawn, for example, when only a corner of the window has been revealed.</span></span> <span data-ttu-id="26ca0-812">Endast den del av fönstret som faktiskt behöver uppdateras markeras som dirty (dirty) så att fönsterritningsfunktionen bara uppdaterar bildpunkter i det dirty-området.</span><span class="sxs-lookup"><span data-stu-id="26ca0-812">Only the portion of the window that actually needs to be refreshed is marked as dirty, and so the window drawing function only truly refreshes pixels in the dirty area.</span></span>

<span data-ttu-id="26ca0-813">GUIX-visningskomponenten framtvingar dessa algoritmer innan ritningsfunktionerna på drivrutinsnivå används.</span><span class="sxs-lookup"><span data-stu-id="26ca0-813">The GUIX dispaly component enforces these clipping algorithms before invoking the driver level drawing functions.</span></span>

### <a name="views"></a><span data-ttu-id="26ca0-814">Vyer</span><span class="sxs-lookup"><span data-stu-id="26ca0-814">Views</span></span> 

<span data-ttu-id="26ca0-815">GUIX har alltid en uppsättning vyer för varje rotfönster och varje underfönster i rotfönstret.</span><span class="sxs-lookup"><span data-stu-id="26ca0-815">GUIX always maintains a set of views for each root window and each child window of the root window.</span></span> <span data-ttu-id="26ca0-816">Vyer är ett dynamiskt, körningsbestämt urklippsområde som ändras när fönstrets position och Z-ordningen ändras.</span><span class="sxs-lookup"><span data-stu-id="26ca0-816">Views are a dynamic, run-time determined clipping area that changes as window position and Z-order are modified.</span></span>
<span data-ttu-id="26ca0-817">GUIX använder vyer för att förhindra att ett fönster eller en widget i bakgrunden ritar ovanpå ett fönster eller en widget i förgrunden.</span><span class="sxs-lookup"><span data-stu-id="26ca0-817">GUIX uses views to prevent a window or widget in the background from drawing on top of a window or widget in the foreground.</span></span> <span data-ttu-id="26ca0-818">Vyer tillämpar Z-ordningsdisciplin.</span><span class="sxs-lookup"><span data-stu-id="26ca0-818">Views enforce Z-order discipline.</span></span> <span data-ttu-id="26ca0-819">Dessutom är vyer viktiga för effektiviteten eftersom de förhindrar att ett fönster i bakgrunden ritas till någon del av arbetsytan som inte kan ses.</span><span class="sxs-lookup"><span data-stu-id="26ca0-819">In addition, views are important for efficiency in that they prevent a window in the background from drawing to any area of the canvas that cannot be seen.</span></span> <span data-ttu-id="26ca0-820">Om ett fönster är helt täckt av ett annat fönster, kommer det täckta fönstret inte att kunna ritas på arbetsytan alls, även om det försöker göra det.</span><span class="sxs-lookup"><span data-stu-id="26ca0-820">If a window is completely covered by another window, the covered window will not be allowed to draw to the canvas at all, even if it is attempting to do so.</span></span>

### <a name="display-driver-interface"></a><span data-ttu-id="26ca0-821">Visa drivrutinsgränssnitt</span><span class="sxs-lookup"><span data-stu-id="26ca0-821">Display Driver Interface</span></span> 

<span data-ttu-id="26ca0-822">GUIX-visningsdrivrutiner ansvarar för all interaktion med den underliggande fysiska skärmen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-822">GUIX display drivers are responsible for all interaction with the underlying physical screen.</span></span> <span data-ttu-id="26ca0-823">Visningsdrivrutinerna har tre grundläggande funktioner: initiering, ritning och bildrutebuffertvisning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-823">The display drivers have three basic functions: initialization, drawing, and frame buffer display.</span></span>
<span data-ttu-id="26ca0-824">Initieringen ansvarar för att förbereda den fysiska skärmmaskinvaran, informera GUIX om egenskaperna för den fysiska skärmmaskinvaran och informera GUIX om vilka specifika ritningsfunktioner som ska användas.</span><span class="sxs-lookup"><span data-stu-id="26ca0-824">Initialization is responsible for preparing the physical display hardware, informing GUIX of the properties of the physical display hardware, and for informing GUIX which specific drawing functions should be used.</span></span> <span data-ttu-id="26ca0-825">Den huvudsakliga initieringen av visningsdrivrutiner anropas från ***GUIX-gx_display_create funktion.***</span><span class="sxs-lookup"><span data-stu-id="26ca0-825">The main display driver initialization is called from the GUIX ***gx_display_create*** function.</span></span> <span data-ttu-id="26ca0-826">Dessutom anropar GUIX-tråden även en sekundär initiering av visningsdrivrutiner från trådkontexten.</span><span class="sxs-lookup"><span data-stu-id="26ca0-826">In addition, the GUIX thread will also call a secondary display driver initialization from the thread context.</span></span> <span data-ttu-id="26ca0-827">Den här sekundära visningsdrivrutinen behövs bara om drivrutinen behöver RTOS-tjänster under initieringen, t.ex. enhetsavbrott eller ***tx_thread_sleep-begäranden*** om fördröjning mellan stegen i initieringsprocessen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-827">This secondary display driver is only needed if the driver requires RTOS services during its initialization, e.g., device interrupts or ***tx_thread_sleep*** requests for delay between steps in the initialization process.</span></span>

<span data-ttu-id="26ca0-828">När initieringen är klar ansvarar visningsdrivrutinen för alla direkta ritningar som kan göras i den fysiska skärmmaskinvaran.</span><span class="sxs-lookup"><span data-stu-id="26ca0-828">Once initialization is complete, the display driver is responsible for any direct drawing that can be done in the physical display hardware.</span></span>
<span data-ttu-id="26ca0-829">Slutligen ansvarar visningsdrivrutinen för att visa rambufferten.</span><span class="sxs-lookup"><span data-stu-id="26ca0-829">Finally, the display driver is responsible for displaying the frame buffer.</span></span>

## <a name="guix-widget-component"></a><span data-ttu-id="26ca0-830">KOMPONENT FÖR GUIX-widget</span><span class="sxs-lookup"><span data-stu-id="26ca0-830">GUIX Widget Component</span></span>

<span data-ttu-id="26ca0-831">En GUIX-widget är ett synligt grafiskt element.</span><span class="sxs-lookup"><span data-stu-id="26ca0-831">A GUIX widget is a visible graphical element.</span></span> <span data-ttu-id="26ca0-832">Det finns GUIX-komponenter som inte är synliga, till exempel timers och matematikverktygsfunktioner.</span><span class="sxs-lookup"><span data-stu-id="26ca0-832">There are GUIX components which are not visible, such as timers and math utility functions.</span></span>
<span data-ttu-id="26ca0-833">Alla synliga komponenter härleds dock från den grundläggande GUIX-widgetkomponenten.</span><span class="sxs-lookup"><span data-stu-id="26ca0-833">However all visible components are derived from the basic GUIX widget component.</span></span> <span data-ttu-id="26ca0-834">En GUIX-widget är den primära byggstenen i GUIX-visningen – alla andra grafiska element härleds från baswidgetens funktioner.</span><span class="sxs-lookup"><span data-stu-id="26ca0-834">A GUIX widget is the primary building block of the GUIX display – all other graphic elements are derived from the base widget functionality.</span></span>

<span data-ttu-id="26ca0-835">GUIX-widgetar implementeras på ett objektorienterat sätt med fullständigt stöd för arv.</span><span class="sxs-lookup"><span data-stu-id="26ca0-835">GUIX widgets are implemented in an object oriented manner with full support of inheritance.</span></span> <span data-ttu-id="26ca0-836">Detta åstadkoms med ansi C, vilket resulterar i minsta möjliga minne och bearbetningskrav.</span><span class="sxs-lookup"><span data-stu-id="26ca0-836">This is accomplished using ANSI C, which results in the smallest possible memory and processing requirements.</span></span> <span data-ttu-id="26ca0-837">När vi talar om en viss widget, till  exempel **GX_BUTTON**, som härleds från en annan widget, till exempel **bas-GX_WIDGET**, är det vi menar att **GX_BUTTON-kontrollstrukturen** innehåller alla medlemsvariabler och funktionspekare för **GX_WIDGET**, med några ytterligare variabler som är specifika för **GX_BUTTON**.</span><span class="sxs-lookup"><span data-stu-id="26ca0-837">When we speak of one particular widget, such as **GX_BUTTON**, being *derived from* another widget, such as the base **GX_WIDGET**, what we mean is that the **GX_BUTTON** control structure contains all of the member variables and function pointers of **GX_WIDGET**, with some additional variables that are specific to **GX_BUTTON**.</span></span> <span data-ttu-id="26ca0-838">GUIX bygger upp lager av widgetar på det här sättet, så att mer komplexa widgetar alltid baseras på en enklare widget före dem.</span><span class="sxs-lookup"><span data-stu-id="26ca0-838">GUIX builds up layers of widgets in this fashion, so that more complex widgets are always based on a simpler widget before them.</span></span> <span data-ttu-id="26ca0-839">Den här hierarkiska modellen för härledning gör det enklare att lära sig de API:er som används för att ändra widgetparametrar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-839">This hierarchical model of derivation makes it easier to learn the APIs used to modify widget parameters.</span></span> <span data-ttu-id="26ca0-840">Om du vill ändra färgen på en knapp använder du samma API som du använder för att ändra färgen på en widget, ***nämligen gx_widget_fill_color_set***.</span><span class="sxs-lookup"><span data-stu-id="26ca0-840">If you want to modify the color of a button, you use the same API you use to modify the color of a widget, namely ***gx_widget_fill_color_set***.</span></span>

<span data-ttu-id="26ca0-841">Organisationen av synliga widgetar underhålls på ett överordnat-underordnat sätt med hjälp av trädstrukturerade listor som länkar underordnade widgetar till sina föräldrar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-841">The organization of visible widgets is maintained in a parent-child manner using tree structured lists linking child widgets to their parents.</span></span> <span data-ttu-id="26ca0-842">Underordnade ärver egenskaper från sina föräldrar, till exempel vyer som de kan rita i och arbetsytan som de ritar på.</span><span class="sxs-lookup"><span data-stu-id="26ca0-842">The children inherit characteristics from their parents such as the views into which they can draw and the canvas on which they draw.</span></span>
<span data-ttu-id="26ca0-843">Underordnade widgetar kan ha sina egna underordnade widgetar, som återigen ärver olika egenskaper från den överordnade widgeten.</span><span class="sxs-lookup"><span data-stu-id="26ca0-843">Child widgets may have their own child widgets, again inheriting various characteristics from the parent.</span></span> <span data-ttu-id="26ca0-844">Egenskaperna för en widget kan uttryckligen omdefinieras via olika GUIX API-anrop.</span><span class="sxs-lookup"><span data-stu-id="26ca0-844">The characteristics of any widget may be explicitly redefined via various GUIX API calls.</span></span>

### <a name="widget-creation"></a><span data-ttu-id="26ca0-845">Skapa widget</span><span class="sxs-lookup"><span data-stu-id="26ca0-845">Widget Creation</span></span> 

<span data-ttu-id="26ca0-846">Ett widgetobjekt kan skapas under initieringen eller när som helst under körningen av programtrådar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-846">A widget object can be created during initialization or anytime during the execution of application threads.</span></span> <span data-ttu-id="26ca0-847">Det finns ingen gräns för hur många widgetobjekt som kan skapas av ett program.</span><span class="sxs-lookup"><span data-stu-id="26ca0-847">There is no limit on the number of widget objects that can be created by an application.</span></span> <span data-ttu-id="26ca0-848">Det finns heller ingen gräns för hur många underordnade en widget kan ha, inom minnesgränserna för målmaskinvaran.</span><span class="sxs-lookup"><span data-stu-id="26ca0-848">There is also no limit on the number of children any widget may have, within the memory limits of your target hardware.</span></span>

<span data-ttu-id="26ca0-849">Varje widgettyp har en egen create-funktion, till exempel ***gx_button_create** _ eller _*_gx_prompt_create_\*\*.</span><span class="sxs-lookup"><span data-stu-id="26ca0-849">Each widget type has its own create function, such as ***gx_button_create** _ or _*_gx_prompt_create_\*\*.</span></span> <span data-ttu-id="26ca0-850">De första tre parametrarna för dessa funktioner är alltid desamma, nämligen en pekare till widgetens kontrollstruktur, en sträng pekare till widgetens namn och en pekare till widgetens överordnade.</span><span class="sxs-lookup"><span data-stu-id="26ca0-850">The first three parameters to these functions are always the same, namely a pointer to the widget control structure, a string pointer to the widget name, and a pointer to the widget’s parent.</span></span> <span data-ttu-id="26ca0-851">Varje create-funktion kan ha val av ytterligare parametrar beroende på kraven för den specifika widgettypen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-851">Each create function may have any number of additional parameters depending on the requirements of that particular widget type.</span></span>

### <a name="widget-control-block"></a><span data-ttu-id="26ca0-852">Kontrollblock för widget</span><span class="sxs-lookup"><span data-stu-id="26ca0-852">Widget Control Block</span></span> 

<span data-ttu-id="26ca0-853">Egenskaperna för varje widgetobjekt finns i dess kontrollblock och **GX_WIDGET** definieras i **_gx_api.h_**.</span><span class="sxs-lookup"><span data-stu-id="26ca0-853">The characteristics of each widget object are found in its control block **GX_WIDGET** and are defined in **_gx_api.h_**.</span></span> <span data-ttu-id="26ca0-854">Det minne som krävs för ett widgetobjekt tillhandahålls av programmet och kan finnas var som helst i minnet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-854">The memory required for a widget object is provided by the application and can be located anywhere in memory.</span></span> <span data-ttu-id="26ca0-855">Det är dock vanligast att göra widgetobjektets kontrollblock till en global struktur genom att definiera den utanför omfånget för en funktion.</span><span class="sxs-lookup"><span data-stu-id="26ca0-855">However, it is most common to make the widget object control block a global structure by defining it outside the scope of any function.</span></span> <span data-ttu-id="26ca0-856">Om du använder GUIX Studio kan widgetkontrollblocken statiskt allokeras i din Studio-genererade specifikationsfil, eller så kan de allokeras dynamiskt av ditt program.</span><span class="sxs-lookup"><span data-stu-id="26ca0-856">If you are using GUIX Studio, your widget control blocks can be statically allocated within your Studio generated specifications file, or they can be dynamically allocated by your application.</span></span>

### <a name="dynamic-widget-control-block-allocation-and-de-allocation"></a><span data-ttu-id="26ca0-857">Blockallokering och avallokering för dynamisk widgetkontroll</span><span class="sxs-lookup"><span data-stu-id="26ca0-857">Dynamic Widget Control Block Allocation and De-allocation</span></span> 

<span data-ttu-id="26ca0-858">Om du använder dynamisk blockallokering måste du definiera två funktioner som GUIX använder för att allokera och frigöra det minne som krävs för widgetkontrollblocken.</span><span class="sxs-lookup"><span data-stu-id="26ca0-858">If you are using dynamic control block allocation, you will need to define two functions that GUIX will use to allocate and free the memory required for your widget control blocks.</span></span> <span data-ttu-id="26ca0-859">Dina funktioner för minneshantering skickas till GUIX-systemkomponenten via gx_system_memory_allocator_set  API-funktionen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-859">Your functions for memory management are passed to the GUIX system component via the ***gx_system_memory_allocator_set*** API function.</span></span> <span data-ttu-id="26ca0-860">Med den här funktionen kan du skicka två funktionspekare till GUIX: den första är en pekare till en minnesallokeringsfunktion och den andra är en pekare till en minnesfri funktion.</span><span class="sxs-lookup"><span data-stu-id="26ca0-860">This function allows you to pass two function pointers into GUIX: the first is a pointer to a memory allocation function, and the second is a pointer to a memory free function.</span></span> <span data-ttu-id="26ca0-861">Oftast implementerar du dessa funktioner med ThreadX-bytepooler, men med designen av GUIX kan du implementera dynamisk minneshantering på det sätt du föredrar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-861">Most often, you will implement these functions using ThreadX byte pools, but the design of GUIX allows you to implement dynamic memory management in whatever way you prefer.</span></span>

<span data-ttu-id="26ca0-862">Dynamisk widgetallokering används oftast i din Studio-genererade programspecifikationsfil när du väljer alternativet "dynamiskt allokerad" i egenskapsfältet för Studio-widgeten.</span><span class="sxs-lookup"><span data-stu-id="26ca0-862">Dynamic widget allocation is most often employed within your Studio generated application specifications file, when you select the “dynamically allocated” option in the Studio widget properties field.</span></span> <span data-ttu-id="26ca0-863">Men du kan också använda dynamisk kontrollblocksallokering i ditt program.</span><span class="sxs-lookup"><span data-stu-id="26ca0-863">However, you can also use dynamic control block allocation within your application.</span></span> <span data-ttu-id="26ca0-864">Om du använder dynamisk blockallokering i ditt program bör du anropa **API-funktionen**\* gx_widget_allocate _ för att allokera widgetkontrollblocket.</span><span class="sxs-lookup"><span data-stu-id="26ca0-864">If you use dynamic control block allocation within your application, you should invoke the \***gx_widget_allocate** _ API function to allocate the widget control block.</span></span> <span data-ttu-id="26ca0-865">När du sedan skapar widgeten ska du kontrollera att du skickar formatflaggan _ *GX_WIDGET_STYLE_DYNAMICALLY_ALLOCATED*\* (tillsammans med andra formatflaggor som behövs) till widgetens create-funktion.</span><span class="sxs-lookup"><span data-stu-id="26ca0-865">Next, when you create the widget, make certain you pass the _ *GX_WIDGET_STYLE_DYNAMICALLY_ALLOCATED*\* style flag (along with any other needed style flags) to the widget create function.</span></span> <span data-ttu-id="26ca0-866">Den här flaggan används för att markera widgeten som dynamiskt allokerad i widgetens statusfält.</span><span class="sxs-lookup"><span data-stu-id="26ca0-866">This flag is used to mark the widget as being dynamically allocated in the widget status field.</span></span> <span data-ttu-id="26ca0-867">När och om widgeten senare tas bort med **_hjälp av gx_widget_delete_**, kontrollerar GUIX det här statusfältet och anropar automatiskt funktionen för avkrypterare av minne för att försäkra att det inte finns några minnesläckor.</span><span class="sxs-lookup"><span data-stu-id="26ca0-867">When and if the widget is later deleted using **_gx_widget_delete_**, GUIX will check this status field and automatically call your memory de-allocator function to insure there are no memory leaks.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="26ca0-868">En widget som skapas med hjälp av ett dynamiskt allokerat kontrollblock måste skapas **med flaggan GX_WIDGET_STYLE_DYNAMICALLY_ALLOCATED** för att förhindra minnesförlust.</span><span class="sxs-lookup"><span data-stu-id="26ca0-868">A widget created using a dynamically allocated control block must be created with the **GX_WIDGET_STYLE_DYNAMICALLY_ALLOCATED** style flag to prevent memory loss.</span></span>

### <a name="types"></a><span data-ttu-id="26ca0-869">Typer</span><span class="sxs-lookup"><span data-stu-id="26ca0-869">Types</span></span>

<span data-ttu-id="26ca0-870">GUIX ger en omfattande, fullt funktionell uppsättning inbyggda widgetar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-870">GUIX provides a rich, fully functional set of built-in widgets.</span></span> <span data-ttu-id="26ca0-871">Som tidigare nämnts härleds alla specialiserade widgetar från baswidgeten.</span><span class="sxs-lookup"><span data-stu-id="26ca0-871">As mentioned previously, all specialized widgets are derived from the base widget.</span></span> <span data-ttu-id="26ca0-872">Följande är en lista över inbyggda widgetar i GUIX:</span><span class="sxs-lookup"><span data-stu-id="26ca0-872">Following is a list of the built-in widgets in GUIX:</span></span>

<span data-ttu-id="26ca0-873">**GX_TYPE_WIDGET**</span><span class="sxs-lookup"><span data-stu-id="26ca0-873">**GX_TYPE_WIDGET**</span></span>

<span data-ttu-id="26ca0-874">**GX_TYPE_BUTTON**</span><span class="sxs-lookup"><span data-stu-id="26ca0-874">**GX_TYPE_BUTTON**</span></span>

<span data-ttu-id="26ca0-875">**GX_TYPE_TEXT_BUTTON**</span><span class="sxs-lookup"><span data-stu-id="26ca0-875">**GX_TYPE_TEXT_BUTTON**</span></span>

<span data-ttu-id="26ca0-876">**GX_TYPE_MULTI_LINE_TEXT_BUTTON**</span><span class="sxs-lookup"><span data-stu-id="26ca0-876">**GX_TYPE_MULTI_LINE_TEXT_BUTTON**</span></span>

<span data-ttu-id="26ca0-877">**GX_TYPE_RADIO_BUTTON**</span><span class="sxs-lookup"><span data-stu-id="26ca0-877">**GX_TYPE_RADIO_BUTTON**</span></span>

<span data-ttu-id="26ca0-878">**GX_TYPE_CHECKBOX**</span><span class="sxs-lookup"><span data-stu-id="26ca0-878">**GX_TYPE_CHECKBOX**</span></span>

<span data-ttu-id="26ca0-879">**GX_TYPE_PIXELMAP_BUTTON**</span><span class="sxs-lookup"><span data-stu-id="26ca0-879">**GX_TYPE_PIXELMAP_BUTTON**</span></span>

<span data-ttu-id="26ca0-880">**GX_TYPE_ICON_BUTTON**</span><span class="sxs-lookup"><span data-stu-id="26ca0-880">**GX_TYPE_ICON_BUTTON**</span></span>

<span data-ttu-id="26ca0-881">**GX_TYPE_ICON**</span><span class="sxs-lookup"><span data-stu-id="26ca0-881">**GX_TYPE_ICON**</span></span>

<span data-ttu-id="26ca0-882">**GX_TYPE_SPRITE**</span><span class="sxs-lookup"><span data-stu-id="26ca0-882">**GX_TYPE_SPRITE**</span></span>

<span data-ttu-id="26ca0-883">**GX_TYPE_SLIDER**</span><span class="sxs-lookup"><span data-stu-id="26ca0-883">**GX_TYPE_SLIDER**</span></span>

<span data-ttu-id="26ca0-884">**GX_TYPE_PIXELMAP_SLIDER**</span><span class="sxs-lookup"><span data-stu-id="26ca0-884">**GX_TYPE_PIXELMAP_SLIDER**</span></span>

<span data-ttu-id="26ca0-885">**GX_TYPE_VERTICAL_SCROLL**</span><span class="sxs-lookup"><span data-stu-id="26ca0-885">**GX_TYPE_VERTICAL_SCROLL**</span></span>

<span data-ttu-id="26ca0-886">**GX_TYPE_HORIZONTAL_SCROLL**</span><span class="sxs-lookup"><span data-stu-id="26ca0-886">**GX_TYPE_HORIZONTAL_SCROLL**</span></span>

<span data-ttu-id="26ca0-887">**GX_TYPE_PROGRESS_BAR**</span><span class="sxs-lookup"><span data-stu-id="26ca0-887">**GX_TYPE_PROGRESS_BAR**</span></span>

<span data-ttu-id="26ca0-888">**GX_TYPE_PROMPT**</span><span class="sxs-lookup"><span data-stu-id="26ca0-888">**GX_TYPE_PROMPT**</span></span>

<span data-ttu-id="26ca0-889">**GX_TYPE_NUMERIC_PROMPT**</span><span class="sxs-lookup"><span data-stu-id="26ca0-889">**GX_TYPE_NUMERIC_PROMPT**</span></span>

<span data-ttu-id="26ca0-890">**GX_TYPE_PIXELMAP_PROMPT**</span><span class="sxs-lookup"><span data-stu-id="26ca0-890">**GX_TYPE_PIXELMAP_PROMPT**</span></span>

<span data-ttu-id="26ca0-891">**GX_TYPE_NUMERIC_PIXELMAP_PROMPT**</span><span class="sxs-lookup"><span data-stu-id="26ca0-891">**GX_TYPE_NUMERIC_PIXELMAP_PROMPT**</span></span>

<span data-ttu-id="26ca0-892">**GX_TYPE_SINGLE_LINE_TEXT_INPUT**</span><span class="sxs-lookup"><span data-stu-id="26ca0-892">**GX_TYPE_SINGLE_LINE_TEXT_INPUT**</span></span>

<span data-ttu-id="26ca0-893">**GX_TYPE_MULTI_LINE_TEXT_VIEW**</span><span class="sxs-lookup"><span data-stu-id="26ca0-893">**GX_TYPE_MULTI_LINE_TEXT_VIEW**</span></span>

<span data-ttu-id="26ca0-894">**GX_TYPE_MULTI_LINE_TEXT_INPUT**</span><span class="sxs-lookup"><span data-stu-id="26ca0-894">**GX_TYPE_MULTI_LINE_TEXT_INPUT**</span></span>

<span data-ttu-id="26ca0-895">**GX_TYPE_WINDOW**</span><span class="sxs-lookup"><span data-stu-id="26ca0-895">**GX_TYPE_WINDOW**</span></span>

<span data-ttu-id="26ca0-896">**GX_TYPE_ROOT_WINDOW**</span><span class="sxs-lookup"><span data-stu-id="26ca0-896">**GX_TYPE_ROOT_WINDOW**</span></span>

<span data-ttu-id="26ca0-897">**GX_TYPE_VERTICAL_LIST**</span><span class="sxs-lookup"><span data-stu-id="26ca0-897">**GX_TYPE_VERTICAL_LIST**</span></span>

<span data-ttu-id="26ca0-898">**GX_TYPE_HORIZONTAL_LIST**</span><span class="sxs-lookup"><span data-stu-id="26ca0-898">**GX_TYPE_HORIZONTAL_LIST**</span></span>

<span data-ttu-id="26ca0-899">**GX_TYPE_POPUP_LIST**</span><span class="sxs-lookup"><span data-stu-id="26ca0-899">**GX_TYPE_POPUP_LIST**</span></span>

<span data-ttu-id="26ca0-900">**GX_TYPE_DROP_LIST**</span><span class="sxs-lookup"><span data-stu-id="26ca0-900">**GX_TYPE_DROP_LIST**</span></span>

<span data-ttu-id="26ca0-901">**GX_TYPE_LINE_CHART**</span><span class="sxs-lookup"><span data-stu-id="26ca0-901">**GX_TYPE_LINE_CHART**</span></span>

<span data-ttu-id="26ca0-902">**GX_TYPE_DIALOG**</span><span class="sxs-lookup"><span data-stu-id="26ca0-902">**GX_TYPE_DIALOG**</span></span>

<span data-ttu-id="26ca0-903">**GX_TYPE_KEYBOARD**</span><span class="sxs-lookup"><span data-stu-id="26ca0-903">**GX_TYPE_KEYBOARD**</span></span>

<span data-ttu-id="26ca0-904">**GX_TYPE_SCROLL_WHEEL**</span><span class="sxs-lookup"><span data-stu-id="26ca0-904">**GX_TYPE_SCROLL_WHEEL**</span></span>

<span data-ttu-id="26ca0-905">**GX_TYPE_TEXT_SCROLL_WHEEL**</span><span class="sxs-lookup"><span data-stu-id="26ca0-905">**GX_TYPE_TEXT_SCROLL_WHEEL**</span></span>

<span data-ttu-id="26ca0-906">**GX_TYPE_STRING_SCROLL_WHEEL**</span><span class="sxs-lookup"><span data-stu-id="26ca0-906">**GX_TYPE_STRING_SCROLL_WHEEL**</span></span>

<span data-ttu-id="26ca0-907">**GX_TYPE_NUMERIC_SCROLL_WHEEL**</span><span class="sxs-lookup"><span data-stu-id="26ca0-907">**GX_TYPE_NUMERIC_SCROLL_WHEEL**</span></span>

<span data-ttu-id="26ca0-908">**GX_TYPE_CIRCULAR_GAUGE**</span><span class="sxs-lookup"><span data-stu-id="26ca0-908">**GX_TYPE_CIRCULAR_GAUGE**</span></span>

<span data-ttu-id="26ca0-909">**GX_TYPE_RADIAL_PROGRESS_BAR**</span><span class="sxs-lookup"><span data-stu-id="26ca0-909">**GX_TYPE_RADIAL_PROGRESS_BAR**</span></span>

<span data-ttu-id="26ca0-910">**GX_TYPE_RADIAL_SLIDER**</span><span class="sxs-lookup"><span data-stu-id="26ca0-910">**GX_TYPE_RADIAL_SLIDER**</span></span>

<span data-ttu-id="26ca0-911">**GX_TYPE_MENU_LIST**</span><span class="sxs-lookup"><span data-stu-id="26ca0-911">**GX_TYPE_MENU_LIST**</span></span>

<span data-ttu-id="26ca0-912">**GX_TYPE_MENU**</span><span class="sxs-lookup"><span data-stu-id="26ca0-912">**GX_TYPE_MENU**</span></span>

<span data-ttu-id="26ca0-913">**GX_TYPE_ACCORDION_MENU**</span><span class="sxs-lookup"><span data-stu-id="26ca0-913">**GX_TYPE_ACCORDION_MENU**</span></span>

<span data-ttu-id="26ca0-914">**GX_TYPE_TREE_VIEW**</span><span class="sxs-lookup"><span data-stu-id="26ca0-914">**GX_TYPE_TREE_VIEW**</span></span>


### <a name="styles"></a><span data-ttu-id="26ca0-915">Format</span><span class="sxs-lookup"><span data-stu-id="26ca0-915">Styles</span></span>

<span data-ttu-id="26ca0-916">Widgetformat består av saker som kantlinjeegenskaper (upphöjt, upphöjt, tunt, tjockt eller ingen boarder alls) samt egenskaper för specifika widgettyper, enligt listan ovan.</span><span class="sxs-lookup"><span data-stu-id="26ca0-916">Widget styles consist of things like border properties (raised, recessed, thin, thick, or no boarder at all) as well as properties for specific widget types, as listed previously.</span></span> <span data-ttu-id="26ca0-917">Widgetens stilflaggor är den enklaste metoden för att ändra utseendet på en widget.</span><span class="sxs-lookup"><span data-stu-id="26ca0-917">The widget style flags offer the simplest method for modifying the appearance of any widget.</span></span>
<span data-ttu-id="26ca0-918">Det inledande widgetformatet är alltid en parameter som skickas till widgettypen för specifik create-funktion.</span><span class="sxs-lookup"><span data-stu-id="26ca0-918">The initial widget style is always a parameter passed to the widget type specific create function.</span></span>

### <a name="colors"></a><span data-ttu-id="26ca0-919">Färger</span><span class="sxs-lookup"><span data-stu-id="26ca0-919">Colors</span></span> 

<span data-ttu-id="26ca0-920">Widgetar ritar sig själva med hjälp av färger som definierats i systemfärgtabellen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-920">Widgets draw themselves using colors defined in the system color table.</span></span>
<span data-ttu-id="26ca0-921">Färg-ID:er definieras för arbetsytans bakgrund, standardfyllningsfärg för widget, knappfyllningsfärg, fyllningsfärg för textwidget, fönsterfyllningsfärg och flera andra standardfärgvärden.</span><span class="sxs-lookup"><span data-stu-id="26ca0-921">Color IDs are defined for canvas background, default widget fill color, button fill color, text widget fill color, window fill color, and several other default color values.</span></span> <span data-ttu-id="26ca0-922">Dessutom stöder **GX_WINDOW** visning av en bitmapp eller skrivbordsunderlägg när fönsterklienten fylls.</span><span class="sxs-lookup"><span data-stu-id="26ca0-922">In addition, **GX_WINDOW** objects support displaying a bitmap or wallpaper as the window client is filled.</span></span>

<span data-ttu-id="26ca0-923">Den enklaste metoden för att ändra standardfärgschemat är att använda GUIX Studio och skapa eller definiera ett färgschema som uppfyller dina krav.</span><span class="sxs-lookup"><span data-stu-id="26ca0-923">The simplest method of changing the default color scheme is to use GUIX Studio and create or define a color scheme that meets your requirements.</span></span>
<span data-ttu-id="26ca0-924">Du kan också definiera färgschemat manuellt genom att skapa en matris med GX_COLOR och anropa API gx_system_color_table_set funktion.</span><span class="sxs-lookup"><span data-stu-id="26ca0-924">You can also define your color scheme manually by creating an array of GX_COLOR values and invoking the gx_system_color_table_set API function.</span></span>

### <a name="event-notification"></a><span data-ttu-id="26ca0-925">Händelseavisering</span><span class="sxs-lookup"><span data-stu-id="26ca0-925">Event Notification</span></span> 

<span data-ttu-id="26ca0-926">GUIX-händelser är begäranden som görs till en eller flera widgetar för att utföra en viss åtgärd och meddelanden för att meddela widgetar om användarindata och interna systemstatusändringar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-926">GUIX events are requests made to one or more widgets to perform a particular action and notifications to notify widgets of user input and internal system status changes.</span></span> <span data-ttu-id="26ca0-927">När en widget till exempel får fokus skickas **GX_EVENT_FOCUS_GAINED** till widgeten via ***API gx_system_event_send tjänsten.***</span><span class="sxs-lookup"><span data-stu-id="26ca0-927">For example, when a widget gains focus, the **GX_EVENT_FOCUS_GAINED** is sent to the widget via the ***gx_system_event_send*** API service.</span></span>

<span data-ttu-id="26ca0-928">Händelser skickas via GUIX-händelsekön och varje händelse är en instans av den **GX_EVENT** datastrukturen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-928">Events are passed through the GUIX event queue, and each event is an instance of the **GX_EVENT** data structure.</span></span> <span data-ttu-id="26ca0-929">Den **GX_EVENT** datastrukturen definieras ***i gx_api.h***, men de viktigaste fälten i strukturen är **gx_event_type**, **gx_event_sender**, **gx_event_target** **och gx_event_payload**.</span><span class="sxs-lookup"><span data-stu-id="26ca0-929">The **GX_EVENT** data structure is defined in ***gx_api.h***, however the most important fields of the structure are the **gx_event_type**, **gx_event_sender**, **gx_event_target**, and **gx_event_payload**.</span></span>

<span data-ttu-id="26ca0-930">Fältet **gx_event_type** används för att identifiera den specifika händelseklassen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-930">The **gx_event_type** field is used to identify the particular event class.</span></span> <span data-ttu-id="26ca0-931">Händelsetypen anger om detta till exempel är en **GX_EVENT_PEN_DOWN** händelse eller en **GX_EVENT_TIMER** händelse.</span><span class="sxs-lookup"><span data-stu-id="26ca0-931">The event type indicates if this is, for example, a **GX_EVENT_PEN_DOWN** event or a **GX_EVENT_TIMER** event.</span></span> <span data-ttu-id="26ca0-932">Den **gx_event_payload** är en union av olika datafält och alla är inte giltiga för varje händelsetyp.</span><span class="sxs-lookup"><span data-stu-id="26ca0-932">The **gx_event_payload** is a union of various data fields, and they are not all valid for every event type.</span></span>
<span data-ttu-id="26ca0-933">Du använder fältet händelsetyp först innan du undersöker de andra fälten för händelsedata.</span><span class="sxs-lookup"><span data-stu-id="26ca0-933">You use the event type field first, before examining the other event data fields.</span></span>

<span data-ttu-id="26ca0-934">Fältet **gx_event_sender** innehåller ID:t för widgeten som genererade händelsen om händelsen är ett meddelande för underordnad widget.</span><span class="sxs-lookup"><span data-stu-id="26ca0-934">The **gx_event_sender** field contains the ID of the widget that generated the event if the event is a child-widget notification.</span></span>

<span data-ttu-id="26ca0-935">Fältet **gx_event_target** kan användas för att dirigera användardefinierade händelser till ett visst fönster eller en viss widget.</span><span class="sxs-lookup"><span data-stu-id="26ca0-935">The **gx_event_target** field can be used to route user-defined events to a particular window or widget.</span></span> <span data-ttu-id="26ca0-936">Om du vill skicka en händelse till ett visst fönster bör du ge fönstret ett unikt ID-värde (så att det kan identifieras positivt) och när du skapar händelsen placerar du fönster-ID-värdet **i gx_event_target fältet.**</span><span class="sxs-lookup"><span data-stu-id="26ca0-936">If you want to send an event to a particular window, you should give the window a unique Id value (so that it can be positively identified), and when building the event place the window Id value in the **gx_event_target** field.</span></span> <span data-ttu-id="26ca0-937">Om du inte känner till mål-ID:t eller om du bara vill att händelsen ska dirigeras till widgeten som har indatafokus ska du ange **gx_event_target** fältet till 0.</span><span class="sxs-lookup"><span data-stu-id="26ca0-937">If you don’t know the target Id or if you just want the event to be routed to the widget that has input focus, make sure to set the **gx_event_target** field to 0.</span></span>

<span data-ttu-id="26ca0-938">Slutligen är **gx_event_payload** en union av olika datatyper.</span><span class="sxs-lookup"><span data-stu-id="26ca0-938">Finally, the **gx_event_payload** field is a union of various data types.</span></span> <span data-ttu-id="26ca0-939">För **GX_EVENT_PEN_DOWN** och **GX_EVENT_PEN_UP** händelser **innehåller gx_event_pointdata** fältet x,y pixelkoordinaten pennpositionen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-939">For **GX_EVENT_PEN_DOWN** and **GX_EVENT_PEN_UP** events, the **gx_event_pointdata** field contains the x,y pixel coordinate the pen position.</span></span> <span data-ttu-id="26ca0-940">För timerhändelser innehåller **fältet gx_event_timer_id** ID för den utgångna timern.</span><span class="sxs-lookup"><span data-stu-id="26ca0-940">For timer events, the **gx_event_timer_id** field contains the ID of the expired timer.</span></span> <span data-ttu-id="26ca0-941">Andra nyttolastdatafält används för andra händelsetyper.</span><span class="sxs-lookup"><span data-stu-id="26ca0-941">Other payload data fields are utilized for other event types.</span></span> <span data-ttu-id="26ca0-942">Den fullständiga listan över fördefinierade händelsetyper och deras nyttolastfält definieras i [bilaga E – GUIX-händelsebeskrivningar](appendix-e.md).</span><span class="sxs-lookup"><span data-stu-id="26ca0-942">The complete list of pre-defined event types and their payload fields is defined in [Appendix E - GUIX Event Descriptions](appendix-e.md).</span></span>

<span data-ttu-id="26ca0-943">Programmet kan också lägga till egna anpassade händelser, som startar numeriskt efter konstanten **GX_FIRST_APP_EVENT**.</span><span class="sxs-lookup"><span data-stu-id="26ca0-943">The application can also add its own custom events, starting numerically after the constant **GX_FIRST_APP_EVENT**.</span></span> <span data-ttu-id="26ca0-944">Alla händelsenummer efter den här konstanten är reserverade för programmets användning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-944">All event numbers after this constant are reserved for the application’s use.</span></span> <span data-ttu-id="26ca0-945">Naturligtvis måste programmets widget-händelsehanterare ha bearbetning för sådana programhändelser.</span><span class="sxs-lookup"><span data-stu-id="26ca0-945">Of course, the application’s widget event handler must have processing for such application events.</span></span>

### <a name="event-processing"></a><span data-ttu-id="26ca0-946">Händelsebearbetning</span><span class="sxs-lookup"><span data-stu-id="26ca0-946">Event Processing</span></span> 

<span data-ttu-id="26ca0-947">Det finns en standardfunktion för händelsebearbetning av widgetar för varje widget med ***gx_<av widgettyp>_event_process***.</span><span class="sxs-lookup"><span data-stu-id="26ca0-947">There is a default widget event processing function for each and every widget, named ***gx_<widget-type>_event_process***.</span></span> <span data-ttu-id="26ca0-948">I de flesta fall behöver programmet inte bekymra sig om händelsehanteringen för en viss widget.</span><span class="sxs-lookup"><span data-stu-id="26ca0-948">In most cases, the application won’t need to worry about the event handling of any given widget.</span></span> <span data-ttu-id="26ca0-949">Men i situationer där programmet kräver anpassad eller kompletterande händelsebearbetning kan programmet åsidosätta standardbearbetningsfunktionen med en egen via GUIX ***API-gx_widget_event_process_set***.</span><span class="sxs-lookup"><span data-stu-id="26ca0-949">However, in situations where the application requires custom or supplemental event processing, the application may override the default processing function with its own via the GUIX API ***gx_widget_event_process_set***.</span></span> <span data-ttu-id="26ca0-950">Den här funktionen åsidosätter standardfunktionen för händelsebearbetning med funktionen för händelsefunktionsbearbetning angiven i API:et.</span><span class="sxs-lookup"><span data-stu-id="26ca0-950">This function overrides the default event processing function with the event function processing function specified in the API.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="26ca0-951">Funktioner för programhändelsebearbetning kan dra nytta av (d.v.s. inte duplicera bearbetningen) av standardbearbetningen genom ***att helt enkelt anropa gx_widget_event_process*** bearbetningen direkt.</span><span class="sxs-lookup"><span data-stu-id="26ca0-951">Application event processing functions can take advantage (i.e., not duplicate the processing) of the default processing by simply calling the default ***gx_widget_event_process*** processing directly.</span></span>

<span data-ttu-id="26ca0-952">Händelsebearbetning anropas exklusivt från kontexten för den interna GUIX-systemtråden.</span><span class="sxs-lookup"><span data-stu-id="26ca0-952">Event processing is called exclusively from the context of the internal GUIX system thread.</span></span> <span data-ttu-id="26ca0-953">På så sätt gäller stackkraven för att bearbeta händelsehanteringen endast FÖR GUIX-tråden.</span><span class="sxs-lookup"><span data-stu-id="26ca0-953">In this way, the stack requirements to process the event handling only applies to the GUIX thread.</span></span>

### <a name="implementing-custom-event-processing-example"></a><span data-ttu-id="26ca0-954">Implementera anpassad händelsebearbetning (exempel)</span><span class="sxs-lookup"><span data-stu-id="26ca0-954">Implementing Custom Event Processing (example)</span></span> 

<span data-ttu-id="26ca0-955">Du kan ange en egen händelsebearbetningsfunktion för en widget eller ett fönster i GUIX-systemet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-955">You can provide your own event processing function for any widget or window in the GUIX system.</span></span> <span data-ttu-id="26ca0-956">Om du skapar en egen anpassad widgettyp installerar du normalt din anpassade händelsehanterare i funktionen för widgetskapande.</span><span class="sxs-lookup"><span data-stu-id="26ca0-956">If you are creating your own custom widget type, you will normally install your custom event handler in the widget creation function.</span></span> <span data-ttu-id="26ca0-957">Om du bara utökar eller ändrar driften av en befintlig widget eller ett fönster kan du anropa API gx_widget_event_process_set-funktionen efter att widgeten eller fönstret har skapats.</span><span class="sxs-lookup"><span data-stu-id="26ca0-957">If you are just extending or modifying the operation of an existing widget or window, you can call the gx_widget_event_process_set API function after the widget or window has been created.</span></span> <span data-ttu-id="26ca0-958">Du kommer nästan alltid att tillhandahålla din egen händelsehantering för dina toppnivåfönster (kallas även skärmar) för att bearbeta händelser som genereras av dina underordnade kontroller.</span><span class="sxs-lookup"><span data-stu-id="26ca0-958">You will almost always provide your own event handling for your top-level windows (also called Screens) in order to process events generated by your child controls.</span></span> <span data-ttu-id="26ca0-959">Bearbetningshändelse som genereras av underordnade kontroller på en skärm är det huvudsakliga sättet att lägga till funktioner i GUIX-programmet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-959">Processing event generated by the child controls of a screen is the main way you add functionality to your GUIX application.</span></span>

<span data-ttu-id="26ca0-960">Anta till exempel att du definierar en skärm på den översta nivån med namnet "main_menu".</span><span class="sxs-lookup"><span data-stu-id="26ca0-960">As an example, suppose you define a top-level screen named “main_menu”.</span></span>
<span data-ttu-id="26ca0-961">Den här skärmen kan definieras med hjälp av GUIX Studio, eller så kan du skapa den här skärmen i programkoden.</span><span class="sxs-lookup"><span data-stu-id="26ca0-961">This screen might be defined using GUIX Studio, or you might create this screen in your application code.</span></span> <span data-ttu-id="26ca0-962">Om du definierar skärmen i GUIX Studio skriver du helt enkelt namnet på din händelsehanterare i fältet Studio-egenskaper för skärmen så installeras händelsehanteraren automatiskt av den Studio-genererade specifikationskoden.</span><span class="sxs-lookup"><span data-stu-id="26ca0-962">If you define the screen within GUIX Studio, you simply type the name of your event handler in the Studio properties field for that screen, and the Studio generated specifications code will automatically install your event handler.</span></span> <span data-ttu-id="26ca0-963">I det här fallet anropar vi den anpassade ***main_menu_event_handler*** och den ska vara kodad så här:</span><span class="sxs-lookup"><span data-stu-id="26ca0-963">In this case, we will call the custom event handler ***main_menu_event_handler*** and it should be coded like this:</span></span>

```C
int main_menu_item; /* example: variable to keep track of selected item */

UINT main_menu_event_handler(GX_WINDOW *main_screen, GX_EVENT *event_ptr)
{
    UINT status = GX_SUCCESS;

    switch(event_ptr->gx_event_type)
    {
    /* this is an example for catching events from a child button */
    case GX_SIGNAL(IDB_CHILD_BUTTON, GX_EVENT_CLICKED):
        /* insert your button handler code here */
        break;

    case GX_EVENT_SHOW:
        /* add functionality to the show event handler */
        /* first, do default processing */
        status = gx_window_event_process(main_screen, event_ptr); /* note 1 */

        /* now add my own processing */
        main_menu_item = 0;
        break;

    default:
        /* pass all other events to base processing function */
        status = gx_window_event_process(main_screen, event_ptr); /* note 1 */
        break;
    }
    return status;
}
```

<span data-ttu-id="26ca0-964">I exemplet ovan är det viktigt att observera att för systemhändelser som **GX_EVENT_SHOW** (händelser som genereras internt för att meddela en widget om en statusändring) måste programmet skicka dessa händelser till funktionen för händelsebearbetning av baswidgeten för att säkerställa att den normala bearbetningen sker.</span><span class="sxs-lookup"><span data-stu-id="26ca0-964">In the example above, it is important to notice that for system events like **GX_EVENT_SHOW** (events generated internally to notify a widget of a status change), the application must pass those events to the base widget event processing function to insure that the normal processing occurs.</span></span> <span data-ttu-id="26ca0-965">Programmet kan sedan lägga till ytterligare logik efter behov.</span><span class="sxs-lookup"><span data-stu-id="26ca0-965">The application can then add additional logic as desired.</span></span> <span data-ttu-id="26ca0-966">Alla händelser som inte hanteras av programmet (standardfallet ovan) ska också skickas till funktionen för bashändelsebearbetning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-966">All events that are not handled by the application (the default case above) should also be passed to the base event processing function.</span></span> <span data-ttu-id="26ca0-967">Eftersom det här exemplet var för en toppnivåskärm **baserad GX_WINDOW** är standardfunktionen för händelsebearbetning gx_window_event_process.</span><span class="sxs-lookup"><span data-stu-id="26ca0-967">Since this example was for a top-level screen based on **GX_WINDOW**, the default event processing function is gx_window_event_process.</span></span>

### <a name="drawing-function"></a><span data-ttu-id="26ca0-968">Ritningsfunktion</span><span class="sxs-lookup"><span data-stu-id="26ca0-968">Drawing Function</span></span> 

<span data-ttu-id="26ca0-969">All widgetritning utförs separat från händelsehanteringen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-969">All widget drawing is performed separately from the event handling.</span></span> <span data-ttu-id="26ca0-970">Detta är mer effektivt eftersom ritningen vanligtvis är dyr när det gäller CPU-cykler.</span><span class="sxs-lookup"><span data-stu-id="26ca0-970">This is more efficient because drawing is usually expensive in terms of CPU cycles.</span></span> <span data-ttu-id="26ca0-971">Genom att implementera en algoritm för uppskjuten ritning kan alla utestående händelser och associerade visningsändringar slutföras innan en ritning görs, vilket eliminerar slöseri med ritningen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-971">By implementing a deferred drawing algorithm, all of the outstanding events and associated display changes can be completed before any drawing is done, thus eliminating wasted drawing.</span></span> <span data-ttu-id="26ca0-972">På liknande sätt som vid händelsebearbetning finns det en standardfunktion för widgetritning för de flesta widgetar med ***gx_<av widgettyp>_draw***, där xxx är widgettypen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-972">Similar to event processing, there is a default widget drawing function for most widgets, named ***gx_<widget-type>_draw***, where xxx is the widget type.</span></span> <span data-ttu-id="26ca0-973">I de flesta fall behöver programmet inte bekymra sig om ritningsfunktionen för en viss widget.</span><span class="sxs-lookup"><span data-stu-id="26ca0-973">In most cases, the application won’t need to worry about the drawing function of any given widget.</span></span> <span data-ttu-id="26ca0-974">Men i situationer där programmet kräver anpassad eller kompletterande ritning kan programmet åsidosätta standardritningsfunktionen med en egen via GUIX ***API-gx_widget_draw_set***.</span><span class="sxs-lookup"><span data-stu-id="26ca0-974">However, in situations where the application requires custom or supplemental drawing, the application may override the default drawing function with its own via the GUIX API ***gx_widget_draw_set***.</span></span> <span data-ttu-id="26ca0-975">Den här funktionen gör att programmet kan tillhandahålla en egen anpassad ritningsfunktion för alla widgetar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-975">This function allows the application to provide its own customized drawing function for any widget.</span></span> <span data-ttu-id="26ca0-976">Detta gör det möjligt för programmet att definiera hela nya widgettyper.</span><span class="sxs-lookup"><span data-stu-id="26ca0-976">This further allows the application to define entire new widget types.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="26ca0-977">Programritningsfunktioner kan dra nytta av (d.v.s. inte duplicera kodningen) för standardritningen genom att helt enkelt anropa den direkt från den åsidosättda ritningsfunktionen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-977">Application drawing functions can take advantage (i.e., not duplicate the coding) of the default drawing by simply calling it directly from the overridden drawing function.</span></span>

<span data-ttu-id="26ca0-978">Widgetritning kallas exklusivt för den interna GUIX-systemtråden.</span><span class="sxs-lookup"><span data-stu-id="26ca0-978">Widget drawing is called exclusively from the context of the internal GUIX system thread.</span></span> <span data-ttu-id="26ca0-979">På så sätt gäller tidsinställning och stackkrav för att utföra ritningen endast för GUIX-tråden.</span><span class="sxs-lookup"><span data-stu-id="26ca0-979">In this way, the timing and stack requirements to perform the drawing only apply to the GUIX thread.</span></span>

### <a name="implementing-custom-drawing-example"></a><span data-ttu-id="26ca0-980">Implementera anpassad ritning (exempel)</span><span class="sxs-lookup"><span data-stu-id="26ca0-980">Implementing Custom Drawing (example)</span></span> 

<span data-ttu-id="26ca0-981">Ritningsfunktionen för en widget refereras via en indirekt funktionspekare som är medlem i GX_WIDGET kontrollblocket.</span><span class="sxs-lookup"><span data-stu-id="26ca0-981">The drawing function for any widget is referenced through an indirect function pointer which is a member of the GX_WIDGET control block.</span></span> <span data-ttu-id="26ca0-982">Om du använder GUIX Studio för att definiera widgeten kan du installera en egen funktionspekare genom att skriva namnet på funktionen i parametern "Ritningsfunktion" i widgetegenskaperna så installerar Studio funktionspekaren åt dig när widgeten skapas.</span><span class="sxs-lookup"><span data-stu-id="26ca0-982">If you use GUIX Studio to define your widget, you can install your own function pointer simply by typing the name of your function in the “Drawing Function” parameter of the widget properties, and Studio will install your function pointer for you when the widget is created.</span></span> <span data-ttu-id="26ca0-983">Om du skapar widgeten i programkoden måste du använda ***API gx_widget_draw_set funktionen*** för att installera din anpassade ritningsfunktion när widgeten har skapats.</span><span class="sxs-lookup"><span data-stu-id="26ca0-983">If you create the widget in your application code, you must use the ***gx_widget_draw_set*** API function to install your custom drawing function after the widget has been created.</span></span>

<span data-ttu-id="26ca0-984">I det här exemplet antar vi att du vill anpassa utseendet på en knapp.</span><span class="sxs-lookup"><span data-stu-id="26ca0-984">For this example, let’s assume that you want to customize the appearance of a button.</span></span> <span data-ttu-id="26ca0-985">Knappen ser ut ungefär som en **GX_TEXT_BUTTON**, men vi kommer att lägga till en liten grön "LED_ON"-bitmapp i mitten till höger på knappen när knappen trycks ned och liten "LED_OFF"-knapp när knappen inte trycks ned.</span><span class="sxs-lookup"><span data-stu-id="26ca0-985">The button will look very much like a **GX_TEXT_BUTTON**, but we will add drawing a small green “LED_ON” bitmap in the middle-right portion of the button when the button is pressed, and small “LED_OFF” bitmap when the button is not pressed.</span></span> <span data-ttu-id="26ca0-986">Vi vill skapa en knapp som ser ut som bilderna nedan.</span><span class="sxs-lookup"><span data-stu-id="26ca0-986">We want to create a button that looks like the illustrations below.</span></span>

![Skärmbild av den gröna knappen för På.](./media/guix/image4.jpg) <span data-ttu-id="26ca0-988">anpassad knapp "på"</span><span class="sxs-lookup"><span data-stu-id="26ca0-988">custom button “on”</span></span>

![Skärmbild av den röda knappen för Av.](./media/guix/image5.jpg) <span data-ttu-id="26ca0-990">anpassad knapp "av"</span><span class="sxs-lookup"><span data-stu-id="26ca0-990">custom button “off”</span></span>

<span data-ttu-id="26ca0-991">I det här fallet skulle vi skriva en funktion för knappritning som ser ut ungefär så här.</span><span class="sxs-lookup"><span data-stu-id="26ca0-991">In this case, we would write a button drawing function that looks something like the following.</span></span>

```C
UINT my_button_draw(GX_TEXT_BUTTON *button)
{
    GX_PIXELMAP *map;
    ULONG button_style;
    INT xpos;
    INT ypos;

    /* first, do the normal text button drawing */
    gx_text_button_draw(button);

    /* now add our extra pixelmap */

    gx_widget_style_get(button, &button_style);

    if (button_style & GX_STYLE_BUTTON_PUSHED)
    {
        /* use the ON pixelmap */
        gx_context_pixelmap_get(GX_PIXELMAP_ID_LED_ON, &map);
    }
    else
    {
        /* use the OFF pixelmap */
        gx_context_pixelmap_get(GX_PIXELMAP_ID_LED_OFF, &map);
    }
    if (map)
    {
        /* draw it 20 pixels in from right edge */
        xpos = button->gx_widget_size.gx_rectangle_right;
        xpos -= map->gx_pixelmap_width + 20;

        /* and draw 10 pixels from the top edge */
        ypos = button->gx_widget_size.gx_rectangle_top + 10;

        /* draw the extra pixelmap on top of the button */
        gx_canvas_pixelmap_draw(xpos, ypos, map);
    }
}
```

## <a name="guix-drawing-context-component"></a><span data-ttu-id="26ca0-992">Komponent för GUIX-ritningskontext</span><span class="sxs-lookup"><span data-stu-id="26ca0-992">GUIX Drawing Context Component</span></span> 

<span data-ttu-id="26ca0-993">Ritningskontexten skapas dynamiskt vid körning, eftersom GUIX utför varje uppdateringsåtgärd för arbetsytan.</span><span class="sxs-lookup"><span data-stu-id="26ca0-993">The drawing context is created dynamically, at runtime, as GUIX performs each canvas refresh operation.</span></span> <span data-ttu-id="26ca0-994">Ritningskontexten kopplar samman arbetsytan, skärmdrivrutinen och penseln som används för att utföra de aktuella ritningsåtgärder.</span><span class="sxs-lookup"><span data-stu-id="26ca0-994">The drawing context ties together the canvas, screen driver, and brush being used to perform the current drawing operations.</span></span>

<span data-ttu-id="26ca0-995">Ritningskontexten definieras av **GX_DRAW_CONTEXT** struktur.</span><span class="sxs-lookup"><span data-stu-id="26ca0-995">The drawing context is defined by the **GX_DRAW_CONTEXT** structure.</span></span>
<span data-ttu-id="26ca0-996">Den här strukturen innehåller variabler som definierar urklipp och vy för den aktuella ritningsåtgärden, definierar den aktuella arbetsytan och definierar den aktuella skärmdrivrutinen som används.</span><span class="sxs-lookup"><span data-stu-id="26ca0-996">This structure contains variables that define the clipping and view of the current drawing operation, define the current canvas, and define the current screen driver in use.</span></span> <span data-ttu-id="26ca0-997">Den **GX_DRAW_CONTEXT** strukturen innehåller även penseln som används för ritning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-997">The **GX_DRAW_CONTEXT** structure also holds the brush being used for drawing.</span></span> <span data-ttu-id="26ca0-998">Penseln för ritarkontext är den medlem som du arbetar direkt med i dina anpassade ritningsfunktioner.</span><span class="sxs-lookup"><span data-stu-id="26ca0-998">The draw context brush is the member that you will work directly with in your custom drawing functions.</span></span> <span data-ttu-id="26ca0-999">Penselstrukturen definieras enligt koden nedan.</span><span class="sxs-lookup"><span data-stu-id="26ca0-999">The brush structure is defined as shown in the code below.</span></span>

```C
typedef struct GX_BRUSH_STRUCT
{
    GX_PIXELMAP *gx_brush_pixelmap;
    GX_FONT     *gx_brush_font;
    ULONG        gx_brush_line_pattern;
    ULONG        gx_brush_pattern_mask;
    GX_COLOR     gx_brush_fill_color;  
    GX_COLOR     gx_brush_line_color;  
    UINT         gx_brush_style;
    GX_VALUE     gx_brush_width;
    UCHAR        gx_brush_alpha;  
} GX_BRUSH;
```

<span data-ttu-id="26ca0-1000">Fältet **gx_brush_pixelmap** definierar en pixelkarta som ska användas för rektangel- och polygonfyllningar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1000">The **gx_brush_pixelmap** field defines a pixelmap to use for rectangle and polygon fills.</span></span> <span data-ttu-id="26ca0-1001">Den här medlemmen används inte om **inte gx_brush_style** är innehåller **GX_BRUSH_PIXELMAP** format.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1001">This member is not used unless the **gx_brush_style** is includes the **GX_BRUSH_PIXELMAP** style.</span></span>

<span data-ttu-id="26ca0-1002">Den **gx_brush_font definierar** teckensnittet som används för textritning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1002">The **gx_brush_font** member defines the font used for text drawing.</span></span>
<span data-ttu-id="26ca0-1003">Den **gx_brush_line_pattern medlemmen** definierar mönstret som används för streckade linjer.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1003">The **gx_brush_line_pattern** member defines the pattern used for dashed lines.</span></span>
<span data-ttu-id="26ca0-1004">Den **gx_brush_style** är en uppsättning formatflaggor som kan vara ELLER tillsammans för att fullständigt definiera penselattributen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1004">The **gx_brush_style** member is a set of style flags that can be OR’d together to fully define the brush attributes.</span></span> <span data-ttu-id="26ca0-1005">Tillgängliga flaggor för penselformat innehåller följande.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1005">The available brush style flags include the following.</span></span>

<span data-ttu-id="26ca0-1006">**GX_BRUSH_OUTLINE**</span><span class="sxs-lookup"><span data-stu-id="26ca0-1006">**GX_BRUSH_OUTLINE**</span></span>  
<span data-ttu-id="26ca0-1007">**GX_BRUSH_SOLID_FILL**</span><span class="sxs-lookup"><span data-stu-id="26ca0-1007">**GX_BRUSH_SOLID_FILL**</span></span>  
<span data-ttu-id="26ca0-1008">**GX_BRUSH_PIXELMAP_FILL**</span><span class="sxs-lookup"><span data-stu-id="26ca0-1008">**GX_BRUSH_PIXELMAP_FILL**</span></span>  
<span data-ttu-id="26ca0-1009">**GX_BRUSH_ALIAS**</span><span class="sxs-lookup"><span data-stu-id="26ca0-1009">**GX_BRUSH_ALIAS**</span></span>  
<span data-ttu-id="26ca0-1010">**GX_BRUSH_UNDERLINE**</span><span class="sxs-lookup"><span data-stu-id="26ca0-1010">**GX_BRUSH_UNDERLINE**</span></span>  
<span data-ttu-id="26ca0-1011">**GX_BRUSH_ROUND**</span><span class="sxs-lookup"><span data-stu-id="26ca0-1011">**GX_BRUSH_ROUND**</span></span>

<span data-ttu-id="26ca0-1012">Den **gx_brush_width** medlemmen definierar linjen med för linjeritning eller konturbredden för konturritning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1012">The **gx_brush_width** member defines the line with for line drawing, or the outline width for outlined shape drawing.</span></span>

<span data-ttu-id="26ca0-1013">Den **gx_brush_line_color-medlemmen** definierar förgrundsfärgen för linjeritning och för textritning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1013">The **gx_brush_line_color** member defines the foreground color for line drawing and for text drawing.</span></span>

<span data-ttu-id="26ca0-1014">Den **gx_brush_fill_color medlemmen** definierar den heldragna fyllningsfärgen som används för formfyllning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1014">The **gx_brush_fill_color** member defines the solid fill color used for shape filling.</span></span> <span data-ttu-id="26ca0-1015">GUIX-kontextkomponenten innehåller en uppsättning API:er som är utformade för att göra det mycket enkelt att ändra den aktuella penseln i den aktiva kontexten.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1015">The GUIX context component provides a set of APIs designed to make it very easy to modify the current brush within the active context.</span></span> <span data-ttu-id="26ca0-1016">Dessa API:er **gx_context_brush_define**, **gx_context_line_color_set**, **gx_context_fill_color_set**, **gx_context_font_set** och många andra.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1016">These APIs include **gx_context_brush_define**, **gx_context_line_color_set**, **gx_context_fill_color_set**, **gx_context_font_set**, and many others.</span></span>

<span data-ttu-id="26ca0-1017">Rita kontexten för ett överordnat objekt ärvs av underordnade objekt.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1017">The draw context of a parent object is inherited by the objects children.</span></span> <span data-ttu-id="26ca0-1018">I själva verket ärvs en klon av den överordnade ritningskontexten av de underordnade objekten när deras ritningsfunktioner anropas.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1018">Actually, a clone of the parent drawing context is inherited by the child objects when their drawing functions are invoked.</span></span> <span data-ttu-id="26ca0-1019">Den underordnade kan ändra kontexten utan att den överordnade ritningen påverkas, men den kan också ärva information från den överordnade, till exempel penselfärg och stil om så önskas.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1019">The child can modify the context without affecting the parent drawing, but it can also inherit information from the parent such as brush color and style if desired.</span></span>

## <a name="guix-window-component"></a><span data-ttu-id="26ca0-1020">GUIX-fönsterkomponent</span><span class="sxs-lookup"><span data-stu-id="26ca0-1020">GUIX Window Component</span></span> 

<span data-ttu-id="26ca0-1021">Fönsterkomponenten ansvarar för all fönsterbearbetning i GUIX.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1021">The window component is responsible for all window processing in GUIX.</span></span> <span data-ttu-id="26ca0-1022">Ett GUIX-fönster är i grunden ett distinkt visningsområde som kan innehålla en eller flera underordnade widgetar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1022">A GUIX window is fundamentally a distinct display area that may contain one or more child widgets.</span></span> <span data-ttu-id="26ca0-1023">I GUIX är fönstret egentligen bara en särskild form av det grundläggande widgetobjektet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1023">In GUIX, the window is actually just a special form of the fundamental widget object.</span></span>

<span data-ttu-id="26ca0-1024">GUIX-fönster implementeras på ett objektorienterat sätt med fullständigt stöd för arv.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1024">GUIX windows are implemented in an object oriented manner with full support of inheritance.</span></span> <span data-ttu-id="26ca0-1025">Detta åstadkoms med ansi C, vilket resulterar i minsta möjliga minne och bearbetningskrav.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1025">This is accomplished using ANSI C, which results in the smallest possible memory and processing requirements.</span></span>

<span data-ttu-id="26ca0-1026">GUIX-fönster utökar funktionerna i GUIX-widgeten främst genom att lägga till stöd för vågrät och lodrät rullning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1026">GUIX windows extend the functionality of the GUIX widget primarily by adding support for horizontal and vertical scrolling.</span></span> <span data-ttu-id="26ca0-1027">GUIX-fönsterobjekt kan automatiskt skapa och visa rullningslister och svara på rullningslistsinmatning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1027">GUIX window objects can automatically create and display scroll bars and respond to scroll bar input.</span></span> <span data-ttu-id="26ca0-1028">Flyttbara fönster har också inbyggd händelsehantering som gör att fönstret kan flyttas eller dras baserat på pennindatahändelser.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1028">Movable windows also have built in event handling to allow the window to be moved or dragged based on pen input events.</span></span>
<span data-ttu-id="26ca0-1029">Slutligen svarar GUIX-fönstret på att få indatafokus genom att flytta fönstret längst fram i Z-ordningen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1029">Finally, GUIX window responds to receiving input focus by moving the window to the front of the window Z-order.</span></span>

<span data-ttu-id="26ca0-1030">GUIX-fönstret underhåller begreppet klientområde *,* som är den inre delen av fönstret när fönstret kantlinjer och icke-klientobjekt som rullningslisterna tas bort från det tillgängliga området.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1030">GUIX window maintains the concept of *client area*, which is the inner portion of the window once the window borders and non-client objects such as scrollbars are removed from the available area.</span></span> <span data-ttu-id="26ca0-1031">Underordnade widgetar i klientområdet klipps till fönstrets klientområde, medan underordnade rullningslister som rullningslister tillåts rita utanför klientområdet, men de är fortfarande urklippta i fönstrets yttre dimensioner.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1031">Client area child widgets are clipped to the window client area, while non-client children such as scroll bars are allowed to draw outside of the client area, but are still clipped to the window outer dimensions.</span></span>

<span data-ttu-id="26ca0-1032">Windows underhålls på ett överordnat-underordnat sätt, där underordnade objekt ärver egenskaper från sina överordnade.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1032">Windows are maintained in a parent-child manner, where the children inherit characteristics from their parent.</span></span> <span data-ttu-id="26ca0-1033">Underordnade fönster kan ha egna underordnade fönster som återigen ärver olika egenskaper från det överordnade fönstret.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1033">Children windows may have their own child windows, again inheriting various characteristics from the parent.</span></span> <span data-ttu-id="26ca0-1034">Egenskaperna för alla fönster kan uttryckligen omdefinieras via olika GUIX API-anrop.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1034">The characteristics of any window may be explicitly redefined via various GUIX API calls.</span></span>

### <a name="window-creation"></a><span data-ttu-id="26ca0-1035">Skapa fönster</span><span class="sxs-lookup"><span data-stu-id="26ca0-1035">Window Creation</span></span> 

<span data-ttu-id="26ca0-1036">Ett fönsterobjekt kan skapas under initieringen eller när som helst under körningen av programtrådar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1036">A window object can be created during initialization or anytime during the execution of application threads.</span></span> <span data-ttu-id="26ca0-1037">Det finns ingen gräns för hur många fönsterobjekt som kan skapas av ett program.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1037">There is no limit on the number of window objects that can be created by an application.</span></span> <span data-ttu-id="26ca0-1038">Det finns heller ingen gräns för hur många underordnade underfönster som helst.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1038">There is also no limit on the number of children any window may have.</span></span>

### <a name="window-control-block"></a><span data-ttu-id="26ca0-1039">Fönsterkontrollblock</span><span class="sxs-lookup"><span data-stu-id="26ca0-1039">Window Control Block</span></span> 

<span data-ttu-id="26ca0-1040">Egenskaperna för varje fönsterobjekt finns i dess kontrollblock **och GX_WINDOW** definieras i **_gx_api.h_**.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1040">The characteristics of each window object are found in its control block **GX_WINDOW** and are defined in **_gx_api.h_**.</span></span> <span data-ttu-id="26ca0-1041">Det minne som krävs för ett fönsterobjekt tillhandahålls av programmet och kan finnas var som helst i minnet.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1041">The memory required for a window object is provided by the application and can be located anywhere in memory.</span></span> <span data-ttu-id="26ca0-1042">Det är dock vanligast att göra så att kontrollen av fönsterobjekt blockerar en global struktur genom att definiera den utanför omfånget för en funktion.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1042">However, it is most common to make the window object control block a global structure by defining it outside the scope of any function.</span></span>

### <a name="root-window"></a><span data-ttu-id="26ca0-1043">Rotfönster</span><span class="sxs-lookup"><span data-stu-id="26ca0-1043">Root Window</span></span> 

<span data-ttu-id="26ca0-1044">GUIX kräver vad som kallas ett rotfönster för varje arbetsyta.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1044">GUIX requires what is called a root window for each canvas.</span></span> <span data-ttu-id="26ca0-1045">Rotfönstret är kantlöst och har samma dimensioner som arbetsytan som det är kopplat till.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1045">The root window is borderless and has the same dimensions as the canvas to which it is attached.</span></span> <span data-ttu-id="26ca0-1046">Den används främst som en container för alla widgetar och fönster på första nivån.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1046">It is used primarily as a container for all first-level widgets and windows.</span></span> <span data-ttu-id="26ca0-1047">Rotfönstret skapas vanligtvis av programmet via API-funktionen ***gx_window_root_create***, strax efter att skärmen och arbetsytan har skapats.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1047">The root window is typically created by the application via the API function ***gx_window_root_create***, shortly after the creation of the screen and canvas.</span></span> <span data-ttu-id="26ca0-1048">Om du använder den Studio-genererade gx_studio_display_configure kan adressen till rotfönstret returneras på den plats som skickades som den sista parametern till den här funktionen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1048">If you use the Studio generated function gx_studio_display_configure, the address of the root window can be returned in the location passed as the last parameter to this function.</span></span>

<span data-ttu-id="26ca0-1049">Ett rotfönster är som standard oflyttningsbart, och i det enklaste fallet är rotfönstret arbetsytans storlek.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1049">A root window defaults to being un-moveable, and in the simplest case the root window is the size of the canvas.</span></span> <span data-ttu-id="26ca0-1050">Rotfönstret ritar i praktiken visningsbakgrunden, så om du vill ändra visningsbakgrundsfärgen eller visa bakgrundsbakgrunden tilldelar du en färg eller bakgrundsbild till rotfönstret.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1050">The root window in effect draws the display background, so to change the display background color or to display background wallpaper you would assign a color or wallpaper to the root window.</span></span>

<span data-ttu-id="26ca0-1051">Om ett rotfönster kan flyttas flyttas det inte genom att ändra dess position på arbetsytan som ett underfönster, utan genom att flytta själva arbetsytan.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1051">If a root window is moveable, it moves not by changing its position on the canvas as a child window would do, but by moving the canvas itself.</span></span>
<span data-ttu-id="26ca0-1052">Med den här funktionen kan GUIX-rotfönstret utnyttja maskinvara som stöder flera bildrutebuffertar med maskinvaruförskjutningsregister.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1052">This feature allows the GUIX root window to leverage hardware that supports multiple frame buffers with hardware offset registers.</span></span>

### <a name="background"></a><span data-ttu-id="26ca0-1053">Bakgrund</span><span class="sxs-lookup"><span data-stu-id="26ca0-1053">Background</span></span> 

<span data-ttu-id="26ca0-1054">Fönsterbakgrunder är antingen solida färger eller bitmappbilder.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1054">Window backgrounds are either solid colors or bitmap images.</span></span> <span data-ttu-id="26ca0-1055">Det finns en standardfönsterbakgrund på systemnivå som tillhandahåller standardvärdet för den första uppsättningen fönster.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1055">There is a default window background at the system level which provides the default for the initial set of windows.</span></span> <span data-ttu-id="26ca0-1056">Naturligtvis kan alla fönsterbakgrunder ändras via GUIX-API:et.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1056">Of course, any window background can be changed via the GUIX API.</span></span>

<span data-ttu-id="26ca0-1057">Om du vill ändra bakgrundsfärgen i ett fönster använder du ***gx_widget_fill_color_set*** API.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1057">To change the solid color background of a window, use the ***gx_widget_fill_color_set*** API.</span></span> <span data-ttu-id="26ca0-1058">Om du vill tilldela ett bakgrundsunderlägg till ett fönster använder du ***gx_window_wallpaper_set*** API.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1058">To assign a background wallpaper to a window, use the ***gx_window_wallpaper_set*** API.</span></span>

### <a name="scrolling"></a><span data-ttu-id="26ca0-1059">Rullning</span><span class="sxs-lookup"><span data-stu-id="26ca0-1059">Scrolling</span></span> 

<span data-ttu-id="26ca0-1060">GUIX stöder standardfönsterrullning när det krävs ett område för att visa fönster underordnade överskrider den aktuella storleken på fönstret – vågrätt och/eller lodrätt.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1060">GUIX supports standard window scrolling when area required to display the window children exceeds the current size of the window – horizontally and/or vertically.</span></span> <span data-ttu-id="26ca0-1061">Om du vill aktivera rullning måste programmet skapa önskade rullningslister och koppla dem till fönstret.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1061">To enable scrolling, the application must create the desired scroll bars and attach them to the window.</span></span>

<span data-ttu-id="26ca0-1062">GUIX-fönsterkomponenten tillhandahåller en standardimplementering av rullning baserat på storleken på fönstrets klientområde och omfattningen för alla underordnade widgetar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1062">The GUIX window component provides a default scrolling implementation based on the size of the window client area and the extent of the all child widgets.</span></span> <span data-ttu-id="26ca0-1063">Program kan också tillhandahålla sin egen rullningsimplementering och tolkning genom ***att åsidosätta gx_window_scroll_info_get*** för ett visst fönster.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1063">Applications can also provide their own scrolling implementation and interpretation by overriding the ***gx_window_scroll_info_get*** function for a particular window.</span></span>

### <a name="event-notification"></a><span data-ttu-id="26ca0-1064">Händelsemeddelande</span><span class="sxs-lookup"><span data-stu-id="26ca0-1064">Event Notification</span></span> 

<span data-ttu-id="26ca0-1065">Standardfunktionen för händelsebearbetning i fönstret skiljer sig från GX_WIDGET händelsebearbetningen främst i hanteringen av bläddrings- och storleksändringshändelser.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1065">The default window event processing function differs from the GX_WIDGET event processing primarily in the handling of scrolling and sizing events.</span></span> <span data-ttu-id="26ca0-1066">GX_WINDOW defalt-hanterare för bläddring och storleksändring av händelser.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1066">GX_WINDOW provided defalt handlers for scrolling and sizing events.</span></span>

<span data-ttu-id="26ca0-1067">Programmet kan också lägga till egna anpassade händelser, som startar numeriskt efter **konstanten GX_FIRST_APP_EVENT**.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1067">The application can also add its own custom events, starting numerically after the constant **GX_FIRST_APP_EVENT**.</span></span> <span data-ttu-id="26ca0-1068">Alla händelsenummer efter den här konstanten är reserverade för programmets användning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1068">All event numbers after this constant are reserved for the application’s use.</span></span> <span data-ttu-id="26ca0-1069">Naturligtvis måste programmets fönsterhändelsehanterare ha bearbetning för sådana programhändelser.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1069">Of course, the application’s window event handler must have processing for such application events.</span></span>

### <a name="event-processing"></a><span data-ttu-id="26ca0-1070">Händelsebearbetning</span><span class="sxs-lookup"><span data-stu-id="26ca0-1070">Event Processing</span></span> 

<span data-ttu-id="26ca0-1071">Precis som alla andra widgettyper finns det en standardfunktion för bearbetning av fönsterhändelse för varje fönster med ***namnet gx_window_event_process***.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1071">Just like all other widget types, there is a default window event processing function for every window, named ***gx_window_event_process***.</span></span> <span data-ttu-id="26ca0-1072">Du åsidosätter vanligtvis den här händelsehanteringsfunktionen med din egen händelsehanterare i de fönster som du skapar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1072">You will usually override this event handling function with your own event handler in the windows that you create.</span></span> <span data-ttu-id="26ca0-1073">På så sätt svarar du på händelser och vidta åtgärder baserat på händelser som genereras av de underordnade kontrollerna i fönstret.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1073">This is how you will respond to events and take action based on events generated by the window child controls.</span></span>

<span data-ttu-id="26ca0-1074">Det är viktigt att komma ihåg att anropa ***bas-gx_window_event_process-funktionen*** för GUIX-systemhändelser om du åsidosätter den händelsehanteraren, så att standardhändelsehanteringen kan ske utöver den åtgärd som du lägger till i händelsehanteraren.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1074">It is important to remember to invoke the base ***gx_window_event_process*** function for GUIX system events if you override that event handler, to allow the default event handling to occur in addition to whatever action you are adding to the event handler.</span></span> <span data-ttu-id="26ca0-1075">Om du till exempel anger en anpassad hanterare **för GX_EVENT_SHOW händelsen** och inte skickar den här händelsen till ***gx_window_event_process*** visas aldrig ditt fönster.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1075">For example if you provide a custom handler for the **GX_EVENT_SHOW** event, and do not pass this event to ***gx_window_event_process***, your window will never become visible.</span></span>
<span data-ttu-id="26ca0-1076">Om du vill ange en anpassad händelsehanterare för ett ***fönster använder gx_widget_event_process_set*** för att definiera adressen för händelsehanteraren.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1076">To provide a custom event handler for a window, use the ***gx_widget_event_process_set*** function to define the address of your event handler.</span></span> <span data-ttu-id="26ca0-1077">Den här funktionen åsidosätter standardfunktionen för händelsebearbetning med funktionen för bearbetning av händelsefunktioner angiven i API:et.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1077">This function overrides the default event processing function with the event function processing function specified in the API.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="26ca0-1078">Funktioner för programhändelsebearbetning kan dra nytta av (d.v.s. inte duplicera bearbetningen) av standardbearbetningen genom ***att helt enkelt anropa gx_window_event_process direkt.***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1078">Application event processing functions can take advantage (i.e., not duplicate the processing) of the default processing by simply calling the default ***gx_window_event_process*** directly.</span></span>

<span data-ttu-id="26ca0-1079">Händelsebearbetning anropas exklusivt från kontexten för den interna GUIX-systemtråden.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1079">Event processing is called exclusively from the context of the internal GUIX system thread.</span></span> <span data-ttu-id="26ca0-1080">På så sätt gäller stackkraven för att bearbeta händelsehanteringen endast GUIX-tråden.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1080">In this way, the stack requirements to process the event handling only applies to the GUIX thread.</span></span>

## <a name="guix-image-reader-component"></a><span data-ttu-id="26ca0-1081">Komponent för GUIX-bildläsare</span><span class="sxs-lookup"><span data-stu-id="26ca0-1081">GUIX Image Reader Component</span></span> 

<span data-ttu-id="26ca0-1082">Komponenten för bildläsare innehåller verktyg och API-funktioner för att dekomprimera komprimerade raw-bilder till GUIX pixelmap-format.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1082">The image reader component provides utilities and API functions to decompress raw compressed images to GUIX pixelmap format.</span></span> <span data-ttu-id="26ca0-1083">Rådata för JPEG- och PNG-format stöds, med ytterligare format som är reserverade för framtida versioner.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1083">JPEG and PNG format raw image data are supported, with additional formats reserved for future releases.</span></span>

<span data-ttu-id="26ca0-1084">Observera att för de allra flesta GUIX-program krävs inte komponenten GUIX Image Reader.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1084">Note that for the vast majority of GUIX applications, the GUIX Image Reader component is not required.</span></span> <span data-ttu-id="26ca0-1085">De flesta program förlitar sig på GUIX Studio-programmet för att konvertera grafiktillgångar i JPEG- och PNG-format **till GUIX-kompatibla GX_PIXELMAP** resurser.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1085">Most applications rely on the GUIX Studio application to convert JPEG and PNG format graphics assets into GUIX compatible **GX_PIXELMAP** resources.</span></span> <span data-ttu-id="26ca0-1086">KOMPONENTEN GUIX-bildläsare används när grafiktillgångarna i rådata endast är kända vid körning, eller när systemlagringsbegränsningarna förhindrar lagring av resurser **i GX_PIXELMAP** format.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1086">The GUIX image reader component is utilized when the raw graphics assets are known only at runtime, or when the system storage constraints prevent storing resources in **GX_PIXELMAP** format.</span></span> <span data-ttu-id="26ca0-1087">Bilddata i JPEG- och PNG-format är vanligtvis mer kompakta än **GX_PIXELMAP-format,** men det finns betydande körningskostnader för att utföra dekomprimering och konvertering av färgutrymme för dessa bildtyper dynamiskt.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1087">JPEG and PNG format image data is generally more compact than **GX_PIXELMAP** format, however there is considerable runtime overhead associated with performing decompression and color space conversion of these image types dynamically.</span></span>

<span data-ttu-id="26ca0-1088">Om JPEG- eller PNG-bilder i raw-format skickas gx_canvas_pixelmap_draw API-funktionen dekomprimerar GUIX dynamiskt och ritar JPEG- eller PNG-data.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1088">If raw format JPEG or PNG images are passed to the gx_canvas_pixelmap_draw API function, GUIX dynamically decompresses and draws the JPEG or PNG data.</span></span> <span data-ttu-id="26ca0-1089">Observera att detta har en betydande negativ inverkan på körningshastigheten och att skicka RAW-formatbilddata till gx_canvas_pixelmap_draw-funktionen rekommenderas inte om du inte använder ett maskinvarumål som stöder maskinvarustödd JPEG- eller PNG-dekomprimering.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1089">Note that this will have a significant negative impact on runtime drawing speed, and passing RAW format image data to the gx_canvas_pixelmap_draw function is not recommended unless you are using a hardware target that supports hardware assisted JPEG or PNG decompression.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="26ca0-1090">Att skicka rå JPEG- eller PNG-formaterade bilder till gx_canvas_pixelmap_draw API medför betydande körningskostnader för merparten av målmaskinvaran.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1090">Passing raw JPEG or PNG formatted images to the gx_canvas_pixelmap_draw API incurs significant runtime overhead for most target hardware.</span></span>

<span data-ttu-id="26ca0-1091">Alternativt kan råa JPEG- och PNG-data konverteras till GX_PIXELMAP-format vid körning med hjälp av komponenten Bildläsare.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1091">As an alternative, raw JPEG and PNG data may be converted to GX_PIXELMAP format at runtime using the Image Reader component.</span></span>
<span data-ttu-id="26ca0-1092">Pixelkartor som skapas på det här sättet kan användas och ritas precis som pixelkartor som skapas av Studio och som finns i din resursfil.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1092">Pixelmaps produced in this way can be used and drawn just like pixelmaps produced by Studio and contained within your resource file.</span></span> <span data-ttu-id="26ca0-1093">På så sätt kan ditt program utföra bilddekomprimering, dithering och konvertering av färgutrymme en gång (vanligtvis vid programstart) i stället för att utföra dessa åtgärder varje gång bilden ritas.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1093">This allows your application to perform the image decompression, dithering, and color space conversion one time (usually during program startup) rather than performing these operations each time the image is drawn.</span></span>

<span data-ttu-id="26ca0-1094">Komponentfunktionerna för bildläsare omfattar:</span><span class="sxs-lookup"><span data-stu-id="26ca0-1094">The Image Reader component functions include:</span></span>

<span data-ttu-id="26ca0-1095">***gx_image_reader_create***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1095">***gx_image_reader_create***</span></span>  
<span data-ttu-id="26ca0-1096">***gx_image_reader_palette_set***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1096">***gx_image_reader_palette_set***</span></span>  
<span data-ttu-id="26ca0-1097">***gx_image_reader_start***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1097">***gx_image_reader_start***</span></span>

## <a name="guix-animation-component"></a><span data-ttu-id="26ca0-1098">Komponent för GUIX-animering</span><span class="sxs-lookup"><span data-stu-id="26ca0-1098">GUIX Animation Component</span></span> 

<span data-ttu-id="26ca0-1099">Komponenten GUIX-animering är en uppsättning funktioner och tjänster som används för att automatisera automatisering av skärm- och widgetövergångar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1099">The GUIX Animation component is a set of functions and services used to automate screen and widget transition automations.</span></span> <span data-ttu-id="26ca0-1100">Komponenten GUIX-animering har stöd för att tona in, tona ut och flytta eller dra av animeringar av valfri widgettyp.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1100">The GUIX Animation component supports fading in, fading out, and movement or slide type animations of any widget type.</span></span>

<span data-ttu-id="26ca0-1101">Animeringar av toningstyp kan stödjas antingen genom att variera det interna alfavärdet för toningswidgeten (om **GX_BRUSH_ALPHA_SUPPORT** är aktiverat) eller genom att rita någon samling widgetar till en separat minnesarbetsyta när den sedan blandas med bakgrunden.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1101">Fade type animations can be supported either by varying the fading widget(s) internal alpha value (if **GX_BRUSH_ALPHA_SUPPORT** is enabled), or by drawing any collection of widgets to a separate memory canvas when is then blended with the background.</span></span> <span data-ttu-id="26ca0-1102">För maskinvarumål som stöder flera maskinvarugrafikskikt uppnås bäst stöd för jämna avfasningseffekter med den här metoden för att blanda arbetsyta, ofta med mycket lite processorbandbredd som krävs.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1102">For hardware targets that support multiple hardware graphics layers, support for smooth fading effects is best accomplished using this canvas blending approach, often with very little core CPU bandwidth required.</span></span> <span data-ttu-id="26ca0-1103">För maskinvarumål som inte har stöd för flera grafiklager stöds blending med hjälp av ALFA-värdet för GUIX-pensel vid körning med 16 bpp och högre färgdjup.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1103">For hardware targets that do not support multiple graphics layers, blending using the GUIX brush alpha value is supported when running at 16 bpp and higher color depths.</span></span>

<span data-ttu-id="26ca0-1104">Om en animering ska använda en separat arbetsyta tillhandahåller KOMPONENTEN GUIX-animering API-gx_animation_canvas_define för detta ändamål.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1104">If an animation should use a separate drawing canvas, the GUIX Animation component provides the API service gx_animation_canvas_define for this purpose.</span></span> <span data-ttu-id="26ca0-1105">Andra animeringstyper kräver inte en separat arbetsyta, men de använder den om den är tillgänglig.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1105">Other animation types do not require a separate canvas, but they will utilize it if it is available.</span></span> <span data-ttu-id="26ca0-1106">På så sätt får du bästa möjliga användning av underliggande maskinvarustöd för flera maskinvaruytor.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1106">This makes the best possible use of any underlying hardware support for multiple hardware surfaces.</span></span>

<span data-ttu-id="26ca0-1107">Variablerna som styr en animering definieras av två kontrollblock.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1107">The variables controlling an animation are defined by two control blocks.</span></span> <span data-ttu-id="26ca0-1108">Först definierar **GX_ANIMATION** som definierar animeringskontrollanten.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1108">First, the **GX_ANIMATION** control block which defines the animation controller.</span></span> <span data-ttu-id="26ca0-1109">Animeringskontrollanten är den motor som kör animeringssekvensen som du definierar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1109">The animation controller is the driving engine that executes the animation sequence you define.</span></span> <span data-ttu-id="26ca0-1110">En enda animeringskontrollant kan användas flera gånger för att köra många olika animeringssekvenser.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1110">A single animation controller can be re-used many times to run many different animation sequences.</span></span> <span data-ttu-id="26ca0-1111">Om du behöver köra flera animeringssekvenser samtidigt  kan du skapa flera GX_ANIMATION animeringskontrollanter.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1111">If you need to run multiple animation sequences simultaneously, you can create multiple **GX_ANIMATION** animation controllers.</span></span>

<span data-ttu-id="26ca0-1112">GUIX-systemkomponenten kan tillhandahålla ett återanvändargränssnittsblock **med GX_ANIMATION-kontrollstrukturer** som kan begäras av programmet när och animering behövs och som automatiskt returneras till systempoolen när animeringssekvensen har slutförts.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1112">The GUIX system component can provide a re-usable block of **GX_ANIMATION** control structures, which can be requested by the application when and animation is needed and are automatically returned to the system pool when the animation sequence is completed.</span></span> <span data-ttu-id="26ca0-1113">Detta frigör programmet från att statiskt definiera en **GX_ANIMATION** struktur för varje animering som kan implementeras.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1113">This frees the application from statically defining a **GX_ANIMATION** structure for every animation that might be implemented.</span></span> <span data-ttu-id="26ca0-1114">Storleken på den här **poolen med GX_ANIMATION-strukturer** definieras av konstanten **GX_ANIMATION_POOL_SIZE**, som standard är 6, vilket innebär att som standard kan 6 samtidiga animeringar allokeras från systempoolen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1114">The size of this pool of **GX_ANIMATION** structures is defined by the constant **GX_ANIMATION_POOL_SIZE**, which defaults to 6, meaning that by default 6 simultaneous animations can be allocated from the system pool.</span></span> <span data-ttu-id="26ca0-1115">Den här konstanten kan naturligtvis omdefinieras i gx_user.h-huvudfilen är mer samtidiga animeringar krävs.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1115">This constant can of course be re-defined in the gx_user.h header file is more simultaneous animations are required.</span></span> <span data-ttu-id="26ca0-1116">Om **GX_ANIMATION_POOL_SIZE** har angetts till noll tillhandahåller inte GUIX-systemkomponenten någon animeringspool eller relaterade tjänster.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1116">If **GX_ANIMATION_POOL_SIZE** is set to zero, then the GUIX system component does not provide an animation pool or related services.</span></span>

<span data-ttu-id="26ca0-1117">Det andra kontrollblocket eller strukturen som används för att definiera en animering är **GX_ANIMATION_INFO** struktur.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1117">The second control block or structure used to define an animation is the **GX_ANIMATION_INFO** structure.</span></span> <span data-ttu-id="26ca0-1118">Den här strukturen används för att definiera en viss animeringssekvens.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1118">This structure is used to define one particular animation sequence.</span></span> <span data-ttu-id="26ca0-1119">Du skickar den här informationsstrukturen till animeringskontrollanten för att initiera en animeringssekvens med hjälp gx_animation_start API-tjänsten.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1119">You pass this information structure to your animation controller to initiate an animation sequence using the gx_animation_start API service.</span></span> <span data-ttu-id="26ca0-1120">Den **GX_ANIMATION_INFO** strukturen innehåller följande fält:</span><span class="sxs-lookup"><span data-stu-id="26ca0-1120">The **GX_ANIMATION_INFO** structure contains the following fields:</span></span>

```C
typedef struct GX_ANIMATION_INFO_STRUCT
{
    GX_WIDGET *gx_animation_target;
    GX_WIDGET *gx_animation_parent;
    GX_WIDGET *gx_animation_screen_list;
    USHORT gx_animation_style;
    USHORT gx_animation_id;
    USHORT gx_animation_start_delay;
    USHORT gx_animation_frame_interval;
    GX_POINT gx_animation_start_position;
    GX_POINT gx_animation_end_position;
    GX_UBYTE gx_animation_start_alpha;
    GX_UBYTE gx_animation_end_alpha;
    GX_UBYTE gx_animation_steps;
} GX_ANIMATION_INFO;
```

<span data-ttu-id="26ca0-1121">Den **gx_animation_target medlemmen** definierar målwidgeten som animeringskontrollanten kommer att agera på.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1121">The **gx_animation_target** member defines the target widget that the animation controller will act upon.</span></span>

<span data-ttu-id="26ca0-1122">Den **gx_animation_parent** medlemmen definierar den överordnade widgeten, om en eventuell, som målwidgeten ska kopplas till när animeringssekvensen är klar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1122">The **gx_animation_parent** member defines the parent widget, if any, to which the target widget will be attached when the animation sequence is complete.</span></span> <span data-ttu-id="26ca0-1123">Den gx_animation_parent är också mottagare av GX_ANIMATION_COMPLETE händelse som genereras när en animering har slutförts.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1123">The gx_animation_parent is also the recipient of the GX_ANIMATION_COMPLETE event that is generated when an animation is completed.</span></span>

<span data-ttu-id="26ca0-1124">Den **gx_animation_screen_list** definierar en widgetlista för penndrivna animeringar av skärmbild.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1124">The **gx_animation_screen_list** member defines a widget list for pen-input-driven screen slide animations.</span></span> <span data-ttu-id="26ca0-1125">Widge-listan bör avslutas med GX_NULL pekare och varje widget i listan bör ha samma x,y-dimensioner som gx_animation_parent.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1125">The widge list should be terminated with GX_NULL pointer, and each widget in the list should have the same x,y dimensions as the gx_animation_parent.</span></span>

<span data-ttu-id="26ca0-1126">Den **gx_animation_style** är en bitmask som definierar vilken typ av animering som ska utföras och associerade alternativ.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1126">The **gx_animation_style** is a bitmask defining the type of animation to be performed and associated options.</span></span> <span data-ttu-id="26ca0-1127">Flaggor för animeringsstil inkluderar följande.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1127">The animation style flags include the following.</span></span>

| <span data-ttu-id="26ca0-1128">Flagga &nbsp; för &nbsp; animeringsstil</span><span class="sxs-lookup"><span data-stu-id="26ca0-1128">Animation&nbsp;Style&nbsp;Flag</span></span> | <span data-ttu-id="26ca0-1129">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="26ca0-1129">Description</span></span> |
| --- | --- |
| <span data-ttu-id="26ca0-1130">GX_ANIMATION_TRANSLATE</span><span class="sxs-lookup"><span data-stu-id="26ca0-1130">GX_ANIMATION_TRANSLATE</span></span> | <span data-ttu-id="26ca0-1131">Begär animering av en bild- eller toningstyp.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1131">Request a slide or fade type animation.</span></span> |
| <span data-ttu-id="26ca0-1132">GX_ANIMATION_SCREEN_DRAG</span><span class="sxs-lookup"><span data-stu-id="26ca0-1132">GX_ANIMATION_SCREEN_DRAG</span></span> | <span data-ttu-id="26ca0-1133">Begära en penndriven skärm dra animering.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1133">Request a pen-input driven screen drag animation.</span></span> |

<span data-ttu-id="26ca0-1134">Följande flaggor kan användas i kombination med **SCREEN_DRAG** animeringar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1134">The following flags can be used in combination with **SCREEN_DRAG** type animations.</span></span>

| <span data-ttu-id="26ca0-1135">Dra &nbsp; &nbsp; flaggor på skärmen</span><span class="sxs-lookup"><span data-stu-id="26ca0-1135">Screen&nbsp;Drag&nbsp;Flags</span></span> | <span data-ttu-id="26ca0-1136">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="26ca0-1136">Description</span></span> |
| --- | --- |
| <span data-ttu-id="26ca0-1137">GX_ANIMATION_WRAP</span><span class="sxs-lookup"><span data-stu-id="26ca0-1137">GX_ANIMATION_WRAP</span></span> | <span data-ttu-id="26ca0-1138">Skärmlistan bör omsluta från end back till start.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1138">The screen list should wrap from end back to start.</span></span> |
| <span data-ttu-id="26ca0-1139">GX_ANIMATION_HORIZONTAL</span><span class="sxs-lookup"><span data-stu-id="26ca0-1139">GX_ANIMATION_HORIZONTAL</span></span> | <span data-ttu-id="26ca0-1140">Skärm dra tillåts i vågrät riktning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1140">Screen drag allowed in horizontal direction.</span></span>  |
| <span data-ttu-id="26ca0-1141">GX_ANIMATION_VERTICAL</span><span class="sxs-lookup"><span data-stu-id="26ca0-1141">GX_ANIMATION_VERTICAL</span></span> | <span data-ttu-id="26ca0-1142">Skärm dra tillåts i lodrät riktning.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1142">Screen drag allowed in vertical direction.</span></span> |

<span data-ttu-id="26ca0-1143">Följande flagga kan användas i kombination med översätt animeringar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1143">The following flag can be used in combination with translate animations.</span></span>

| <span data-ttu-id="26ca0-1144">Översätta &nbsp; animeringar &nbsp; flaggor</span><span class="sxs-lookup"><span data-stu-id="26ca0-1144">Translate&nbsp;Animations&nbsp;Flags</span></span> | <span data-ttu-id="26ca0-1145">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="26ca0-1145">Description</span></span> |
| --- | --- |
| <span data-ttu-id="26ca0-1146">GX_ANIMATION_DETACH</span><span class="sxs-lookup"><span data-stu-id="26ca0-1146">GX_ANIMATION_DETACH</span></span> | <span data-ttu-id="26ca0-1147">Koppla från animeringsmålet från animeringen som är överordnat när animeringen har slutförts.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1147">Detach the animation target from the animation parent when the animation is completed.</span></span> <span data-ttu-id="26ca0-1148">Om målet dynamiskt allokerades och skapades av GUIX Studio-genererad automatiserad händelsehantering tas målet bort när det har frånkopplades.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1148">If the target was dynamically allocated and created by the GUIX Studio generated automated event handling, the target will be deleted after it is detached.</span></span> |
| <span data-ttu-id="26ca0-1149">GX_ANIMATION_TRANSLATE</span><span class="sxs-lookup"><span data-stu-id="26ca0-1149">GX_ANIMATION_TRANSLATE</span></span> | <span data-ttu-id="26ca0-1150">Animeringstyper är timerdrivna animeringar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1150">Animation types are timer driven animations.</span></span> <span data-ttu-id="26ca0-1151">Programmet definierar start- och slutpositionen och start- och slut alfavärdet för målwidgeten, och animeringshanteraren skapar en timer för att fungera och som drivande kraft för att köra animeringen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1151">The application defines the starting and ending position and starting and ending alpha value for the target widget, and the animation manager creates a timer to serve and as the driving force to execute the animation.</span></span>
| <span data-ttu-id="26ca0-1152">GX_ANIMATION_SCREEN_DRAG</span><span class="sxs-lookup"><span data-stu-id="26ca0-1152">GX_ANIMATION_SCREEN_DRAG</span></span> | <span data-ttu-id="26ca0-1153">Skiljer sig  från TRANSLATE-animeringarna på så sätt att den här animeringstypen drivs av penninmatningshändelser.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1153">Differs from the **TRANSLATE** animations in that this animation type is driven by pen input events.</span></span> <span data-ttu-id="26ca0-1154">Den här animeringstypen spårar tillsammans med pekskärmens indata för att svepa målwidgeten när användaren drar en penna eller snodd över indatans pekskärm.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1154">This animation type tracks along with the touch screen input to swipe the target widget as the user drags a pen or stylus across the input touch screen.</span></span> <span data-ttu-id="26ca0-1155">Om du vill använda den här typen av animering ska programmet anropa **_gx_animation_drag_enable_** API för att aktivera den här animeringen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1155">To utilize this type of animation, the application should call the **_gx_animation_drag_enable_** API to enable this animation.</span></span> |

<span data-ttu-id="26ca0-1156">Värdet **gx_animation_id** skickas tillbaka till animeringens överordnade i event.gx_event_sender i **GX_ANIMATION_COMPLETE** händelse.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1156">The **gx_animation_id** value is passed back to the animation parent in the event.gx_event_sender field of the **GX_ANIMATION_COMPLETE** event.</span></span> <span data-ttu-id="26ca0-1157">Det här värdet används av animeringens överordnade för att avgöra vilken av eventuellt flera underordnade animeringar som rapporterar slutförande.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1157">This value is used by the animation parent to determine which of possibly several child animations is reporting completion.</span></span> <span data-ttu-id="26ca0-1158">Det här värdet kan vara 0, och en animering med ID-värde 0 genererar **inte ANIMATION_COMPLETE** händelse alls.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1158">This value can be 0, and an animation with ID value 0 will not generate an **ANIMATION_COMPLETE** event at all.</span></span>

<span data-ttu-id="26ca0-1159">Det **gx_animation_start_delay** värdet är ett GUIX-tidsvärde som anger hur många timer tick som ska fördröjas efter att gx_animation_start _ anropas innan animeringen \***faktiskt körs. Värdet kan vara 0 för att starta animeringen omedelbart när den anropar _\*_gx_animation_start_**.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1159">The **gx_animation_start_delay** value is a GUIX tick count indicating the number of timer ticks to delay after **_gx_animation_start_*_ is called before actually executing the animation. The value can be 0 to start the animation immediately upon calling _*_gx_animation_start_**.</span></span>

<span data-ttu-id="26ca0-1160">Fältet **gx_animation_frame_interval** definierar antalet GUIX-timers tick (en multipel av den underliggande OS-tickfrekvensen) för att fördröja mellan varje bildruta i animeringssekvensen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1160">The **gx_animation_frame_interval** field defines the number of GUIX timer ticks (a multiple of the underlying OS tick rate) to delay between each frame of the animation sequence.</span></span> <span data-ttu-id="26ca0-1161">Det minsta värdet är 1.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1161">The minimum value is 1.</span></span>

<span data-ttu-id="26ca0-1162">I **gx_animation_start_position definieras** startpunkten längst upp till vänster för målwidgeten för översättningsanimeringar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1162">The **gx_animation_start_position** defines the top-left starting point for the target widget for translation animations.</span></span>

<span data-ttu-id="26ca0-1163">Den **gx_animation_end_position definierar** slutpositionen längst upp till vänster för målwidgeten för animeringar av översättningstyp.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1163">The **gx_animation_end_position** defines the top-left ending position for the target widget for translation type animations.</span></span>

<span data-ttu-id="26ca0-1164">Fältet **gx_animation_start_alpha** definierar det första alfavärdet för arbetsytan för animeringar av översättningstyp.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1164">The **gx_animation_start_alpha** field defines the starting canvas alpha value for translation type animations.</span></span>

<span data-ttu-id="26ca0-1165">Fältet **gx_animation_end_alpha definierar** det sista alfavärdet för arbetsytan för animeringar av översättningstyp.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1165">The **gx_animation_end_alpha** field defines the ending canvas alpha value for translation type animations.</span></span>

<span data-ttu-id="26ca0-1166">Fältet **gx_animation_steps** definierar hur många steg eller ramar kontrollanten ska köra för översättningsanimeringar.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1166">The **gx_animation_steps** field defines how many steps or frames the controller should execute for translation animations.</span></span> <span data-ttu-id="26ca0-1167">Ett större antal steg ger ett jämnare utseende och/eller toning, men kräver också större systembandbredd.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1167">A larger number of steps produces a smoother slide and/or fade appearance, but also requires greater system bandwidth.</span></span>

<span data-ttu-id="26ca0-1168">Om du vill implementera animeringseffekter i ditt program måste du först ***anropa gx_animation_create för*** att initiera animeringskontrollanten.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1168">To implement animation effects in your application, you must first call ***gx_animation_create*** to initialize your animation controller.</span></span> <span data-ttu-id="26ca0-1169">Om animeringen ska använda en sekundär arbetsyta initierar du den här arbetsytan genom att anropa gx_animation_canvas_define.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1169">If your animation will be using a secondary canvas, initialize this canvas by calling gx_animation_canvas_define.</span></span> <span data-ttu-id="26ca0-1170">Därefter ska du initiera GX_ANIMATION_INFO **för att** definiera den specifika typen av animering som ska utföras och de andra animeringsparametrarna.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1170">Next, you should initialize the **GX_ANIMATION_INFO** structure to define the specific type of animation to be performed and the other animation parameters.</span></span> <span data-ttu-id="26ca0-1171">Anropa slutligen gx_animation_start för att utlösa animeringssekvensen.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1171">Finally, call gx_animation_start to trigger the animation sequence.</span></span>

<span data-ttu-id="26ca0-1172">När animeringskontrollanten har slutfört en animeringssekvens skickar den en **GX_ANIMATION_COMPLETE-händelse** till den överordnade widgeten, vilket gör att du kan rensa animeringens arbetsyta vid den tidpunkten.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1172">When the animation controller completes an animation sequence, it sends an **GX_ANIMATION_COMPLETE** event to the parent widget, allowing the any desired cleanup of the animation canvas to be done at that time.</span></span>

## <a name="guix-utility-component"></a><span data-ttu-id="26ca0-1173">GUIX-verktygskomponent</span><span class="sxs-lookup"><span data-stu-id="26ca0-1173">GUIX Utility Component</span></span> 

<span data-ttu-id="26ca0-1174">Verktygskomponenten ansvarar för alla vanliga verktygsfunktioner i GUIX.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1174">The utility component is responsible for all common utility functions in GUIX.</span></span> <span data-ttu-id="26ca0-1175">Det här är vanliga funktioner som är användbara verktyg och som kan anropas var som helst i programmet eller den interna GUIX-koden.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1175">These are common functions that are useful utilities and can be invoked from anywhere in the application or the internal GUIX code.</span></span> <span data-ttu-id="26ca0-1176">Verktygskomponentens funktioner omfattar följande.</span><span class="sxs-lookup"><span data-stu-id="26ca0-1176">The utility component functions include the following.</span></span>

<span data-ttu-id="26ca0-1177">***gx_utility_canvas_to_bmp***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1177">***gx_utility_canvas_to_bmp***</span></span>

<span data-ttu-id="26ca0-1178">***gx_utility_circle_point_get***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1178">***gx_utility_circle_point_get***</span></span>

<span data-ttu-id="26ca0-1179">***gx_utility_alphamap_create***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1179">***gx_utility_alphamap_create***</span></span>

<span data-ttu-id="26ca0-1180">***gx_utility_gradient_create***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1180">***gx_utility_gradient_create***</span></span>

<span data-ttu-id="26ca0-1181">***gx_utility_gradient_delete***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1181">***gx_utility_gradient_delete***</span></span>

<span data-ttu-id="26ca0-1182">***gx_utlity_ltoa***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1182">***gx_utlity_ltoa***</span></span>

<span data-ttu-id="26ca0-1183">***gx_utility_math_acos***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1183">***gx_utility_math_acos***</span></span>

<span data-ttu-id="26ca0-1184">***gx_utility_math_asin***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1184">***gx_utility_math_asin***</span></span>

<span data-ttu-id="26ca0-1185">***gx_utility_math_cos***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1185">***gx_utility_math_cos***</span></span>

<span data-ttu-id="26ca0-1186">***gx_utility_math_sin***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1186">***gx_utility_math_sin***</span></span>

<span data-ttu-id="26ca0-1187">***gx_utility_math_sqrt***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1187">***gx_utility_math_sqrt***</span></span>

<span data-ttu-id="26ca0-1188">***gx_utility_pixelmap_resize***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1188">***gx_utility_pixelmap_resize***</span></span>

<span data-ttu-id="26ca0-1189">***gx_utility_pixelmap_rotate***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1189">***gx_utility_pixelmap_rotate***</span></span>

<span data-ttu-id="26ca0-1190">***gx_utility_pixelmap_simple_rotate***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1190">***gx_utility_pixelmap_simple_rotate***</span></span>

<span data-ttu-id="26ca0-1191">***gx_utility_rectangle_center***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1191">***gx_utility_rectangle_center***</span></span>

<span data-ttu-id="26ca0-1192">***gx_utility_rectangle_center_find***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1192">***gx_utility_rectangle_center_find***</span></span>

<span data-ttu-id="26ca0-1193">***gx_utility_rectangle_combine***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1193">***gx_utility_rectangle_combine***</span></span>

<span data-ttu-id="26ca0-1194">***gx_utility_rectangle_compare***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1194">***gx_utility_rectangle_compare***</span></span>

<span data-ttu-id="26ca0-1195">***gx_utility_rectangle_define***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1195">***gx_utility_rectangle_define***</span></span>

<span data-ttu-id="26ca0-1196">***gx_utility_rectangle_overlap_detect***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1196">***gx_utility_rectangle_overlap_detect***</span></span>

<span data-ttu-id="26ca0-1197">***gx_utility_rectangle_point_detect***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1197">***gx_utility_rectangle_point_detect***</span></span>

<span data-ttu-id="26ca0-1198">***gx_utility_rectangle_resize***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1198">***gx_utility_rectangle_resize***</span></span>

<span data-ttu-id="26ca0-1199">***gx_utility_rectangle_shift***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1199">***gx_utility_rectangle_shift***</span></span>

<span data-ttu-id="26ca0-1200">***gx_utility_string_to_alphamap***</span><span class="sxs-lookup"><span data-stu-id="26ca0-1200">***gx_utility_string_to_alphamap***</span></span>
