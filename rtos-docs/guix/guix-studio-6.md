---
title: Genererad kod i GUIX Studio
description: När du är klar med att redigera dina skärmar och resurser skapar GUIX Studio en uppsättning utdatafiler som kan införlivas i det inbäddade programmet.
author: philmea
ms.author: philmea
ms.date: 5/19/2020
ms.service: rtos
ms.topic: article
ms.openlocfilehash: f8868ec770aa8f7f35d2866b99e3eb8f501281a8
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 03/22/2021
ms.locfileid: "104827129"
---
# <a name="chapter-6-guix-studio-generated-code"></a><span data-ttu-id="f139e-103">Kapitel 6: genererad kod i GUIX Studio</span><span class="sxs-lookup"><span data-stu-id="f139e-103">Chapter 6: GUIX Studio Generated Code</span></span>

<span data-ttu-id="f139e-104">När du är klar med att redigera dina skärmar och resurser skapar GUIX Studio en uppsättning utdatafiler som kan införlivas i det inbäddade programmet.</span><span class="sxs-lookup"><span data-stu-id="f139e-104">When you are done editing your screens and resources, GUIX Studio produces a set of output files that can be incorporated into your embedded application.</span></span> <span data-ttu-id="f139e-105">Utdatafilerna genereras genom att välja ***generera resursfiler** _ och _ *_generera specifikationer_** från meny alternativet projekt.</span><span class="sxs-lookup"><span data-stu-id="f139e-105">The output files are generated by selecting ***Generate Resource Files** _ and _ *_Generate Specifications_** from the Project menu item.</span></span> <span data-ttu-id="f139e-106">GUIX för "c"-språket som genereras av Studio är avsedda att kompileras och länkas till käll koden för det inbäddade programmet.</span><span class="sxs-lookup"><span data-stu-id="f139e-106">The 'c' language source code files generated by GUIX Studio are intended to be compiled and linked with the embedded application source code.</span></span> <span data-ttu-id="f139e-107">Om en resurs fil för binärformat skapas, ska den här filen programmeras i ett beständigt lagrings utrymme på målet och GUIX API-funktionen gx_binres_theme_install ska användas för att installera de binära resurserna vid körning.</span><span class="sxs-lookup"><span data-stu-id="f139e-107">If a binary format resource file is produced, this file should be programmed to a non-volatile storage area on the target and the GUIX API function gx_binres_theme_install should be used to install the binary resources at runtime.</span></span>

<span data-ttu-id="f139e-108">Användarens inbäddade program kod gör referenser till den kod som genereras av GUIX Studio.</span><span class="sxs-lookup"><span data-stu-id="f139e-108">The user's embedded application code makes references to the code generated by GUIX Studio.</span></span> <span data-ttu-id="f139e-109">Dessutom förväntas den genererade koden i GUIX Studio att alla funktioner för anpassad widget, händelse hantering och allokering av minne som anges i projektet definieras i användarens inbäddade program kod.</span><span class="sxs-lookup"><span data-stu-id="f139e-109">Furthermore, the GUIX Studio generated code expects all custom widget drawing, event handling, and memory allocation functions specified in the project to be defined in the user's embedded application code.</span></span> <span data-ttu-id="f139e-110">Om de inte är det visas länk felen när du skapar programmet.</span><span class="sxs-lookup"><span data-stu-id="f139e-110">If they are not, link errors will be present when building the application.</span></span>

> [!NOTE]
> <span data-ttu-id="f139e-111">Användaren bör aldrig behöva ändra koden som genererats av GUIX Studio och bör motstå detta.</span><span class="sxs-lookup"><span data-stu-id="f139e-111">The user should never have to modify the code generated by GUIX Studio and should resist doing so.</span></span> <span data-ttu-id="f139e-112">Alla ändringar i gränssnittet bör göras i det associerade GUIX Studio-projektet.</span><span class="sxs-lookup"><span data-stu-id="f139e-112">All UI modifications should be made in the associated GUIX Studio project.</span></span> <span data-ttu-id="f139e-113">Detta håller projektet synkroniserat med det inbäddade programmet.</span><span class="sxs-lookup"><span data-stu-id="f139e-113">This will keep the project synchronized with the embedded application.</span></span>

## <a name="generating-resource-files"></a><span data-ttu-id="f139e-114">Genererar resursfiler</span><span class="sxs-lookup"><span data-stu-id="f139e-114">Generating Resource Files</span></span>

<span data-ttu-id="f139e-115">Resursfiler som genereras av GUIX Studio innehåller förinställda data strukturer som definierar alla GUIX Studio-resurser (färger, teckensnitt, pixelmaps och strängar), vilket i praktiken är alla de resurser som definierats i projektets ***vyn resurser*** .</span><span class="sxs-lookup"><span data-stu-id="f139e-115">Resource files generated by GUIX Studio contain preset data structures that define all of the GUIX Studio resources (colors, fonts, pixelmaps, and strings), which is effectively all the resources defined in the ***Resource View*** of the project.</span></span> <span data-ttu-id="f139e-116">Dessa resursfiler kan skapas i käll kod eller binära formulär.</span><span class="sxs-lookup"><span data-stu-id="f139e-116">These resource files can be generated in source code or binary forms.</span></span>

<span data-ttu-id="f139e-117">Som standard har två filer skapats, en fil är en standard-C-källkod och den andra är en C-huvudfil som tillhandahåller externa referenser och konstanter som krävs för att program koden ska kunna komma åt de GUIX-resurser som definierats i projektet.</span><span class="sxs-lookup"><span data-stu-id="f139e-117">By default, there are two files generated, one file is a standard C source code file and the other is a C header file that provides external references and constants that are necessary for the application code to access the GUIX resources defined in the project.</span></span> <span data-ttu-id="f139e-118">Fil namnen är av typen:</span><span class="sxs-lookup"><span data-stu-id="f139e-118">The file names are of the form:</span></span>

<span data-ttu-id="f139e-119">**{*Project-Name*} _resources. h**</span><span class="sxs-lookup"><span data-stu-id="f139e-119">**{*project-name*}_resources.h**</span></span>

<span data-ttu-id="f139e-120">**{*Project-Name*} _resources. c**</span><span class="sxs-lookup"><span data-stu-id="f139e-120">**{*project-name*}_resources.c**</span></span>

<span data-ttu-id="f139e-121">Till exempel är resursfiler som skapats för det "***enkla***" GUIX Studio-projektet:</span><span class="sxs-lookup"><span data-stu-id="f139e-121">For example, the Resource files created for the "***simple***" GUIX Studio project are:</span></span>

<span data-ttu-id="f139e-122">**simple_resources. h**</span><span class="sxs-lookup"><span data-stu-id="f139e-122">**simple_resources.h**</span></span>

<span data-ttu-id="f139e-123">**simple_resources. c**</span><span class="sxs-lookup"><span data-stu-id="f139e-123">**simple_resources.c**</span></span>

<span data-ttu-id="f139e-124">Skapa resursfiler genom att välja ***skapa resursfiler** _ alternativ i meny alternativet _*_projekt_\*_ .</span><span class="sxs-lookup"><span data-stu-id="f139e-124">Generating the Resource files is accomplished by selecting ***Generate Resource Files** _ option in the _*_Project_\*_ menu option.</span></span> <span data-ttu-id="f139e-125">Målet för resursfiler anges i dialog rutan _*_Konfigurera projekt_*_ som går att komma åt via alternativet _*_Konfigurera projekt/Visa_*_ på meny alternativet _ \*_Konfigurera_\*\*.</span><span class="sxs-lookup"><span data-stu-id="f139e-125">The destination of the resource files is specified in the _*_Configure Project_*_ dialog, which is accessible via the _*_Configure Project/Displays_*_ option in the _ *_Configure_*\* menu item.</span></span>

<span data-ttu-id="f139e-126">För Pixelmap-och teckensnitts resurser kan du ange ett anpassat utdata-filnamn för varje Pixelmap och teckensnitt i de tillhör ande dialog rutorna för redigering av resurser.</span><span class="sxs-lookup"><span data-stu-id="f139e-126">For Pixelmap and Font resources, you can specify a custom output filename for each pixelmap and font in the associated resource editing dialogs.</span></span> <span data-ttu-id="f139e-127">Med den här funktionen kan du placera mycket stora resurser i distinkta filer i stället för att lägga till alla resurser i en gemensam utdatafil.</span><span class="sxs-lookup"><span data-stu-id="f139e-127">This feature allows you to put very large resources in distinct files, rather than putting all resources in one common output file.</span></span> <span data-ttu-id="f139e-128">Om du inte anger ett åsidosatt fil namn för en teckensnitts-eller Pixelmap-resurs, skrivs dessa resurser till den gemensamma resurs filen.</span><span class="sxs-lookup"><span data-stu-id="f139e-128">If you do not specify an overridden filename for a font or pixelmap resource, those resources are written into the common resource file.</span></span>

<span data-ttu-id="f139e-129">Om du föredrar att använda binära resurser kan du ange antingen RAW-eller standard s-Record-utdataformat.</span><span class="sxs-lookup"><span data-stu-id="f139e-129">If you prefer to use binary resources, you can specify either raw or standard s-record output format.</span></span> <span data-ttu-id="f139e-130">Binära resurser kompileras eller länkas inte till program koden, utan läses i stället in vid körning med hjälp av API: et gx_binres_them_load ().</span><span class="sxs-lookup"><span data-stu-id="f139e-130">Binary resources are not compiled or linked with the application code, but are instead loaded at runtime using the gx_binres_them_load() API.</span></span> <span data-ttu-id="f139e-131">Den här API-tjänsten skapar resurs tabeller som pekar på dina resurser som lagras i beständigt minne.</span><span class="sxs-lookup"><span data-stu-id="f139e-131">This API service builds resource tables that point to your resources stored in non-volatile memory.</span></span> <span data-ttu-id="f139e-132">Du kan sedan installera dessa resurser med en viss bildskärm med hjälp av gx_display_theme_install ();</span><span class="sxs-lookup"><span data-stu-id="f139e-132">You can then install these resources with a particular display using gx_display_theme_install();</span></span>

## <a name="generating-specification-code"></a><span data-ttu-id="f139e-133">Genererar Specifikations kod</span><span class="sxs-lookup"><span data-stu-id="f139e-133">Generating Specification Code</span></span>

<span data-ttu-id="f139e-134">De Specifikations filer som genereras av GUIX Studio innehåller all C-kod för att skapa gränssnittet som är utformat i GUIX Studio.</span><span class="sxs-lookup"><span data-stu-id="f139e-134">The Specification files generated by GUIX Studio contain all the C code to create the UI designed in GUIX Studio.</span></span> <span data-ttu-id="f139e-135">Den här koden refererar också till de resursfiler som genereras för det här projektet.</span><span class="sxs-lookup"><span data-stu-id="f139e-135">This code also references the Resource files generated for this project.</span></span> <span data-ttu-id="f139e-136">Användarens program kod kommer att anropa den här koden för att skapa de GRÄNSSNITTs objekt som definierats i projektet.</span><span class="sxs-lookup"><span data-stu-id="f139e-136">The user's application code will make calls to this code to actually create the UI objects defined in the project.</span></span> <span data-ttu-id="f139e-137">Dessutom innehåller användarens program kod all anpassad widget, händelse hantering och funktioner för minnesallokering som anges i projektet.</span><span class="sxs-lookup"><span data-stu-id="f139e-137">Furthermore, the user's application code contains all custom widget drawing, event handling, and memory allocation functions specified in the project.</span></span> <span data-ttu-id="f139e-138">Som standard har två filer skapats, en fil är en standard-C-källkod och den andra är en C-huvudfil som tillhandahåller externa referenser och konstanter som krävs för att program koden ska få åtkomst till GUIX Studio-specifikationerna.</span><span class="sxs-lookup"><span data-stu-id="f139e-138">By default, there are two files generated, one file is a standard C source code file and the other is a C header file that provides external references and constants that are necessary for the application code to access the GUIX Studio Specifications.</span></span> <span data-ttu-id="f139e-139">Fil namnen är av typen:</span><span class="sxs-lookup"><span data-stu-id="f139e-139">The file names are of the form:</span></span>

<span data-ttu-id="f139e-140">**{*Project-Name*} _specifications. h**</span><span class="sxs-lookup"><span data-stu-id="f139e-140">**{*project-name*}_specifications.h**</span></span>

<span data-ttu-id="f139e-141">**{*Project-Name*} _specifications. c**</span><span class="sxs-lookup"><span data-stu-id="f139e-141">**{*project-name*}_specifications.c**</span></span>

<span data-ttu-id="f139e-142">Till exempel är de Specification-filer som skapats för det "***enkla***" GUIX Studio-projektet:</span><span class="sxs-lookup"><span data-stu-id="f139e-142">For example, the Specification files created for the "***simple***" GUIX Studio project are:</span></span>

<span data-ttu-id="f139e-143">**simple_specifications. h**</span><span class="sxs-lookup"><span data-stu-id="f139e-143">**simple_specifications.h**</span></span>

<span data-ttu-id="f139e-144">**simple_specifications. c**</span><span class="sxs-lookup"><span data-stu-id="f139e-144">**simple_specifications.c**</span></span>

<span data-ttu-id="f139e-145">Du gör det genom att välja ***skapa Specification-filer** _ i meny alternativet för _*_projektet_\*_ .</span><span class="sxs-lookup"><span data-stu-id="f139e-145">Generating the Specification files is accomplished by selecting ***Generate Specification Files** _ option in the _*_Project_\*_ menu option.</span></span> <span data-ttu-id="f139e-146">Målet för Specification-filerna anges i dialog rutan _*_Konfigurera projekt_*_ som går att komma åt via alternativet _*_Konfigurera projekt/Visa_*_ på meny alternativet _ \*_Konfigurera_\*\*.</span><span class="sxs-lookup"><span data-stu-id="f139e-146">The destination of the Specification files is specified in the _*_Configure Project_*_ dialog, which is accessible via the _*_Configure Project/Displays_*_ option in the _ *_Configure_*\* menu item.</span></span>

## <a name="integrating-with-user-code"></a><span data-ttu-id="f139e-147">Integrera med användar kod</span><span class="sxs-lookup"><span data-stu-id="f139e-147">Integrating with User Code</span></span>

<span data-ttu-id="f139e-148">Att integrera de resurs-och Specifikations filer som genereras av GUIX Studio är enkelt, Följ bara dessa steg:</span><span class="sxs-lookup"><span data-stu-id="f139e-148">Integrating the Resource and Specification files generated by GUIX Studio is straightforward, simply follow these steps:</span></span>

1. <span data-ttu-id="f139e-149">Kopiera eller gör resurs-och Specifikations filerna tillgängliga via Sök vägs inställningar till den inbäddade build-miljön</span><span class="sxs-lookup"><span data-stu-id="f139e-149">Either copy or make the Resource and Specification files accessible via path settings to the embedded build environment</span></span>
2. <span data-ttu-id="f139e-150">Lägg till alla resurs-och Specifikations filer till inbäddade IDE-projekt eller make</span><span class="sxs-lookup"><span data-stu-id="f139e-150">Add all Resource and Specification files to embedded IDE project or makefile</span></span>
3. <span data-ttu-id="f139e-151">Se till att programmets inbäddade kod anropar de nödvändiga funktionerna för att initiera och skapa användar gränssnittet som finns i resurs-och Specifikations filen</span><span class="sxs-lookup"><span data-stu-id="f139e-151">Ensure the application embedded code calls the necessary functions to initialize and create the UI contained in the Resource and Specification files</span></span>
4. <span data-ttu-id="f139e-152">Se till att programmets inbäddade kod innehåller alla nödvändiga funktioner för anpassad widget, händelse hantering och minnesallokering</span><span class="sxs-lookup"><span data-stu-id="f139e-152">Ensure the application embedded code contains all necessary custom widget drawing, event handling, and memory allocation functions</span></span>
5. <span data-ttu-id="f139e-153">Bygg programmet (kompilera och länka)</span><span class="sxs-lookup"><span data-stu-id="f139e-153">Build the application (compile and link)</span></span>
6. <span data-ttu-id="f139e-154">Kör programmet!</span><span class="sxs-lookup"><span data-stu-id="f139e-154">Execute the application!</span></span>