---
title: Kapitel 1 – Översikt över Azure återställnings tider-LevelX
description: Azure återställnings tider-LevelX innehåller NAND och eller Flash slitage-funktioner till inbäddade program.
author: philmea
ms.author: philmea
ms.date: 05/19/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 045446fec74164f125bc0ad27e8b7a904be14ab2
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 03/22/2021
ms.locfileid: "104826274"
---
# <a name="chapter-1---overview-of-azure-rtos-levelx"></a><span data-ttu-id="2c830-103">Kapitel 1 – Översikt över Azure återställnings tider-LevelX</span><span class="sxs-lookup"><span data-stu-id="2c830-103">Chapter 1 - Overview of Azure RTOS LevelX</span></span>

<span data-ttu-id="2c830-104">Azure återställnings tider-LevelX innehåller NAND och eller Flash slitage-funktioner till inbäddade program.</span><span class="sxs-lookup"><span data-stu-id="2c830-104">Azure RTOS LevelX provides NAND and NOR flash wear leveling facilities to embedded applications.</span></span> <span data-ttu-id="2c830-105">Eftersom både NAND och eller Flash-minne bara kan raderas ett visst antal gånger är det viktigt att distribuera Flash-minnet jämnt.</span><span class="sxs-lookup"><span data-stu-id="2c830-105">Since both NAND and NOR flash memory can only be erased a finite number of times, it's critical to distribute the flash memory use evenly.</span></span> <span data-ttu-id="2c830-106">Detta kallas vanligt vis "slitages utjämning" och är syftet bakom LevelX.</span><span class="sxs-lookup"><span data-stu-id="2c830-106">This is typically called "wear leveling" and is the purpose behind LevelX.</span></span>

<span data-ttu-id="2c830-107">Algoritmen som väljer vilket Flash-block som ska återanvändas huvudsakligen baseras på antalet rader, men inte helt.</span><span class="sxs-lookup"><span data-stu-id="2c830-107">The algorithm that chooses which flash block to reuse is primarily based on the erase count, but not entirely.</span></span> <span data-ttu-id="2c830-108">Det går inte att välja blocket med det lägsta antalet raderingar om det finns ett annat block som har ett antal rader i en acceptabel delta från det minsta antalet raderingar och som har ett större antal föråldrade mappningar.</span><span class="sxs-lookup"><span data-stu-id="2c830-108">The block with the lowest erase count might not be chosen if there is another block that has an erase count within an acceptable delta from the minimal erase count and that has a greater number of obsolete mappings.</span></span> <span data-ttu-id="2c830-109">I sådana fall raderas blocket med det högsta antalet föråldrade mappningar och återanvänds, vilket innebär att det går att flytta giltiga mappnings poster.</span><span class="sxs-lookup"><span data-stu-id="2c830-109">In such cases, the block with the greatest number of obsolete mappings will be erased and reused, thus saving overhead in moving valid mapping entries.</span></span>

<span data-ttu-id="2c830-110">LevelX stöder flera instanser av NAND och/eller delar, d.v.s. programmet kan använda separata instanser av LevelX i samma program.</span><span class="sxs-lookup"><span data-stu-id="2c830-110">LevelX supports multiple instances of NAND and/or NOR parts, i.e., the application can utilize separate instances of LevelX within the same application.</span></span> <span data-ttu-id="2c830-111">Varje instans kräver ett eget kontroll block som tillhandahålls av programmet samt dess egna Flash-drivrutin.</span><span class="sxs-lookup"><span data-stu-id="2c830-111">Each instance requires its own control block provided by the application as well as its own flash driver.</span></span>

<span data-ttu-id="2c830-112">LevelX presenterar användaren en matris med logiska sektorer som är mappade till det fysiska Flash-minnet inuti LevelX.</span><span class="sxs-lookup"><span data-stu-id="2c830-112">LevelX presents to the user an array of logical sectors that are mapped to physical flash memory inside of LevelX.</span></span> <span data-ttu-id="2c830-113">För att förbättra prestanda tillhandahåller LevelX också en cache med de senaste logiska sektor mappningarna.</span><span class="sxs-lookup"><span data-stu-id="2c830-113">To enhance performance, LevelX also provides a cache of the most recent logical sector mappings.</span></span> <span data-ttu-id="2c830-114">Storleken på den här cachen definieras av programmeraren.</span><span class="sxs-lookup"><span data-stu-id="2c830-114">The size of this cache is defined by the programmer.</span></span> <span data-ttu-id="2c830-115">Program kan använda LevelX tillsammans med FileX eller kan läsa/skriva logiska sektorer direkt.</span><span class="sxs-lookup"><span data-stu-id="2c830-115">Applications may use LevelX in conjunction with FileX or may read/write logical sectors directly.</span></span> <span data-ttu-id="2c830-116">LevelX har inget beroende av FileX och mycket litet beroende av ThreadX (endast primitiva ThreadX-datatyper används).</span><span class="sxs-lookup"><span data-stu-id="2c830-116">LevelX has no dependency on FileX and very little dependency on ThreadX (only primitive ThreadX data types are used).</span></span>

<span data-ttu-id="2c830-117">LevelX är utformad för fel tolerans.</span><span class="sxs-lookup"><span data-stu-id="2c830-117">LevelX is designed for fault tolerance.</span></span> <span data-ttu-id="2c830-118">Flash-uppdateringar utförs i en process med flera steg som kan avbrytas i varje steg.</span><span class="sxs-lookup"><span data-stu-id="2c830-118">Flash updates are performed in a multiple-step process that can be interrupted in each step.</span></span> <span data-ttu-id="2c830-119">LevelX återställs automatiskt till det optimala läget under nästa åtgärd.</span><span class="sxs-lookup"><span data-stu-id="2c830-119">LevelX automatically recovers to the optimal state during the next operation.</span></span>

<span data-ttu-id="2c830-120">LevelX kräver en Flash-drivrutin för fysisk åtkomst till det underliggande Flash-minnet.</span><span class="sxs-lookup"><span data-stu-id="2c830-120">LevelX requires a flash driver for physical access to the underlying flash memory.</span></span> <span data-ttu-id="2c830-121">Exempel på NAND och eller simulerade driv rutiner tillhandahålls och kan användas som en lämplig start punkt för att implementera faktiska LevelX-drivrutiner.</span><span class="sxs-lookup"><span data-stu-id="2c830-121">Example NAND and NOR simulated drivers are provided and can be used as a good starting point for implementing actual LevelX drivers.</span></span> <span data-ttu-id="2c830-122">Dessutom beskrivs driv rutins kraven längre fram i den här dokumentationen.</span><span class="sxs-lookup"><span data-stu-id="2c830-122">In addition, driver requirements are detailed later in this documentation.</span></span>

<span data-ttu-id="2c830-123">I följande kapitel beskrivs funktions åtgärden för NAND-och-och-LevelX-stöd.</span><span class="sxs-lookup"><span data-stu-id="2c830-123">The following chapters describe the functional operation for the NAND and NOR LevelX support.</span></span>
